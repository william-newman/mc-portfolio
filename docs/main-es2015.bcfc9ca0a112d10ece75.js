(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("mrSG"),a=n("zVF4"),l=n("q/0M"),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},d=h("localStorage"),p=h("sessionStorage"),f=new l.Logger("@firebase/database"),g=(i=1,function(){return i++}),m=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=v.apply(null,e[r]):n+="object"==typeof e[r]?a.stringify(e[r]):e[r],n+=" ";return n},y=null,_=!0,b=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=l.LogLevel.VERBOSE,y=f.log.bind(f),t&&p.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,p.remove("logging_enabled"))},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&b(!0)),y){var n=v.apply(null,e);y(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];w.apply(void 0,s.__spread([e],t))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(e));f.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(e));throw f.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(e));f.warn(n)},I=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",x="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===k||t===x)return-1;if(t===k||e===x)return 1;var n=Q(e),r=Q(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},O=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=a.stringify(t[i]),r+=":",r+=O(e[t[i]]);return r+"}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function D(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L,M,U,F,j,V,H,q,W,z,B=function(e){var t,n,r,i,o,s,l;for(a.assert(!I(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse(),l=s.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(l.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},$=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(e){if($.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},K=function(e){try{e()}catch(t){setTimeout((function(){throw T("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},G=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Y=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),Z=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),J="long_polling",ee=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==J)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return D(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),te=function(e){var t=ne(e),n=t.namespace;return"firebase"===t.domain&&S(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ee(t.host,t.secure,n,"ws"===t.scheme||"wss"===t.scheme,"",n!=t.subdomain),path:new X(t.pathString)}},ne=function(e){var t="",n="",r="",i="",o="",a=!0,l="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=s.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):T("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(c=t.indexOf(":"))>=0?(a="https"===l||"wss"===l,u=parseInt(t.substring(c+1),10)):c=e.length;var f=t.split(".");3===f.length?(n=f[1],o=r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}},re=/[\[\].#$\/\u0000-\u001F\u007F]/,ie=/[\[\].#$\u0000-\u001F\u007F]/,oe=function(e){return"string"==typeof e&&0!==e.length&&!re.test(e)},se=function(e){return"string"==typeof e&&0!==e.length&&!ie.test(e)},ae=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!I(e)||e&&"object"==typeof e&&a.contains(e,".sv")},le=function(e,t,n,r,i){i&&void 0===n||ue(a.errorPrefix(e,t,i),n,r)},ue=function(e,t,n){var r=n instanceof X?new Z(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(I(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&a.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(D(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!oe(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),ue(e,n,r),r.pop()})),i&&o)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ce=function(e,t,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];D(n,(function(e,t){var n=new X(e);if(ue(o,t,r.child(n)),".priority"===n.getBack()&&!ae(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!oe(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(X.comparePaths);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&s.contains(r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},he=function(e,t,n,r){if(!r||void 0!==n){if(I(n))throw new Error(a.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ae(n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},de=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pe=function(e,t,n,r){if(!(r&&void 0===n||oe(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},fe=function(e,t,n,r){if(!(r&&void 0===n||se(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ge=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fe(e,t,n,r)},me=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ve=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!oe(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),se(e)}(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ye=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},_e=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set",this.path_),le("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority",this.path_),le("OnDisconnect.setWithPriority",1,e,this.path_,!1),he("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),me("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),be=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),we=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M=0,U=[],function(e){var t,n=e===M;M=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=L.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===U[t];t--)U[t]=0;U[t]++}else for(t=0;t<12;t++)U[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=L.charAt(U[t]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ce=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ee=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ce(k,e),r=new Ce(k,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ce.MIN},e}(),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return F},set:function(e){F=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(x,F)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ce(e,F)},t.prototype.toString=function(){return".key"},t}(Ee),Te=new Se,Ie=function(e){return"number"==typeof e?"number:"+B(e):"string:"+e},ke=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===j||e.isEmpty(),"priority of unexpected type.");a.assert(e===j||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ke(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return V},set:function(e){V=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ie(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?B(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ne=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(x,new xe("[PRIORITY-POST]",q))},t.prototype.makePost=function(e,t){var n=H(e);return new Ce(t,new xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ee)),Re=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ae=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pe.EMPTY_NODE,this.right=null!=o?o:Pe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Pe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Oe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ae(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Pe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ae.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Re(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Re(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Oe,e}(),De=Math.log(2),Le=function(){function e(e){this.count=parseInt(Math.log(e+1)/De,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Me=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0==a)return null;if(1==a)return o=e[t],s=n?n(o):o,new Ae(s,o.node,Ae.BLACK,null,null);var l=parseInt(a/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],s=n?n(o):o,new Ae(s,o.node,Ae.BLACK,u,c)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var u=i(o+1,a),c=e[o],h=n?n(c):c;l(new Ae(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));c?a(h,Ae.BLACK):(a(h,Ae.BLACK),a(h,Ae.RED))}return o}(new Le(e.length));return new Pe(r||t,o)},Ue={},Fe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(Ue&&Ne,"ChildrenNode.ts has not been loaded"),W=W||new e({".priority":Ue},{".priority":Ne})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pe?t:null},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==Te,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,l=n.getIterator(Ce.Wrap),u=l.getNext();u;)o=o||t.isDefinedOn(u.node),i.push(u),u=l.getNext();r=o?Me(i,t.getCompare()):Ue;var c=t.toString(),h=s.__assign({},this.indexSet_);h[c]=t;var d=s.__assign({},this.indexes_);return d[c]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),e===Ue){if(o.isDefinedOn(t.node)){for(var s=[],l=n.getIterator(Ce.Wrap),u=l.getNext();u;)u.name!=t.name&&s.push(u),u=l.getNext();return s.push(t),Me(s,o.getCompare())}return Ue}var c=n.get(t.name),h=e;return c&&(h=h.remove(new Ce(t.name,c))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===Ue)return e;var r=n.get(t.name);return r?e.remove(new Ce(t.name,r)):e})),this.indexSet_)},e}();function je(e,t){return N(e.name,t.name)}function Ve(e,t){return N(e,t)}var He=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ke(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return z||(z=new e(new Pe(Ve),null,Fe.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||z},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?z:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i=new Ce(t,n),o=void 0,s=void 0;return n.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?z:this.priorityNode_,new e(o,r,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ne,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ie(this.getPriority().val())+":"),this.forEachChild(Ne,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ce(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qe?-1:0},e.prototype.withIndex=function(t){if(t===Te||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Te||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ne),r=t.getIterator(Ne),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Te?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),qe=new(function(e){function t(){return e.call(this,new Pe(Ve),He.EMPTY_NODE,Fe.Default)||this}return s.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return He.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(He));Object.defineProperties(Ce,{MIN:{value:new Ce(k,He.EMPTY_NODE)},MAX:{value:new Ce(x,qe)}}),Se.__EMPTY_NODE=He.EMPTY_NODE,xe.__childrenNodeConstructor=He,j=qe,q=qe;var We=!0;function ze(e,t){if(void 0===t&&(t=null),null===e)return He.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new xe(e,ze(t));if(e instanceof Array||!We){var n=He.EMPTY_NODE;return D(e,(function(t,r){if(a.contains(e,t)&&"."!==t.substring(0,1)){var i=ze(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ze(t))}var r=[],i=!1;if(D(e,(function(e,t){if("."!==e.substring(0,1)){var n=ze(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ce(e,n)))}})),0==r.length)return He.EMPTY_NODE;var o=Me(r,je,(function(e){return e.name}),Ve);if(i){var s=Me(r,Ne.getCompare());return new He(o,ze(t),new Fe({".priority":s},{".priority":Ne}))}return new He(o,ze(t),Fe.Default)}H=ze;var Be,$e,Qe,Ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return Ce.MAX},t.prototype.makePost=function(e,t){var n=ze(e);return new Ce(t,n)},t.prototype.toString=function(){return".value"},t}(Ee)),Ge=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ze(e),r=He.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ce(t,r)},t.prototype.maxPost=function(){var e=He.EMPTY_NODE.updateChild(this.indexPath_,qe);return new Ce(x,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Ee),Ye=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),fe("DataSnapshot.child",1,t,!1);var n=new X(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ne)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),fe("DataSnapshot.hasChild",1,e,!1);var t=new X(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ne))}))},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Xe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),Ze=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Je=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Xe("value",this,new Ye(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ze(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),et=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return a.contains(this.callbacks_,t="children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ze(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Xe(e.type,this,new Ye(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||t.callbacks_[s]&&this.callbacks_[a]&&t.callbacks_[s]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),tt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Be,"Reference.ts has not been loaded"),Be},set:function(e){Be=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Te){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=k)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=x)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ne){if(null!=t&&!ae(t)||null!=n&&!ae(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof Ge||e.getIndex()===Ke,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),de("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[t]=n,this.onChildEvent(s,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Je(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new et(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),de("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new Je(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new et(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),de("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),l=!0,u=new a.Deferred;u.promise.catch((function(){}));var c=function(e){l&&(l=!1,o.off(t,c),n&&n.bind(s.context)(e),u.resolve(e))};return this.on(t,c,(function(e){o.off(t,c),s.cancel&&s.cancel.bind(s.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');fe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ge(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Ne);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ke);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),le("Query.startAt",1,t,this.path,!0),pe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),le("Query.endAt",1,t,this.path,!0),pe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),le("Query.equalTo",1,e,this.path,!1),pe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=O(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,a.validateCallback(e,3,r.cancel,!0),r.context=n,a.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),nt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Ne,(function(e,t){n.remember(new X(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new X(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),rt=function(e,t,n){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?it(e[".sv"],t,n):"object"==typeof e[".sv"]?ot(e[".sv"],t):void a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},it=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+e)}},ot=function(e,t,n){e.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;if("number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r),!t.isLeafNode())return r;var i=t.getValue();return"number"!=typeof i?r:i+r},st=function(e,t,n){var r,i=e.getPriority().val(),o=rt(i,t.getPriority(),n);if(e.isLeafNode()){var s=e,a=rt(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new xe(a,ze(o)):e}var l=e;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new xe(o))),l.forEachChild(Ne,(function(e,i){var o=st(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r},at=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({}),lt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,a.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ut=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=at.ACK_USER_WRITE,this.source=lt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(t));return new e(X.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),ct=function(){return $e||($e=new Pe(R)),$e},ht=function(){function e(e,t){void 0===t&&(t=ct()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return D(t,(function(e,t){n=n.set(new X(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:X.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(X.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,X.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,X.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(X.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),dt=function(){function e(e,t){this.source=e,this.path=t,this.type=at.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,X.Empty):new e(this.source,this.path.popFront())},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=at.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,X.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),ft=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=at.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new X(t));return n.isEmpty()?null:n.value?new pt(this.source,X.Empty,n.value):new e(this.source,X.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),gt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),mt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new gt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new gt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new gt(He.EMPTY_NODE,!1,!1),new gt(He.EMPTY_NODE,!1,!1)),e}(),vt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),yt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(vt.childRemovedChange(t,s)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(vt.childAddedChange(t,n)):o.trackChildChange(vt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ne,(function(e,r){t.hasChild(e)||n.trackChildChange(vt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Ne,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vt.childChangedChange(t,r,i))}else n.trackChildChange(vt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),_t=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t==vt.CHILD_ADDED||t==vt.CHILD_CHANGED||t==vt.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t==vt.CHILD_ADDED&&i==vt.CHILD_REMOVED)this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t==vt.CHILD_REMOVED&&i==vt.CHILD_ADDED)this.changeMap.delete(n);else if(t==vt.CHILD_REMOVED&&i==vt.CHILD_CHANGED)this.changeMap.set(n,vt.childRemovedChange(n,r.oldSnap));else if(t==vt.CHILD_CHANGED&&i==vt.CHILD_ADDED)this.changeMap.set(n,vt.childAddedChange(n,e.snapshotNode));else{if(t!=vt.CHILD_CHANGED||i!=vt.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),bt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),wt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new gt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Ct=function(){return function(e,t){this.viewCache=e,this.changes=t}}(),Et=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,s,l=new _t;if(n.type===at.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(t,u.path,u.snap,r,i,l):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(t,u.path,u.snap,r,i,s,l))}else if(n.type===at.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(t,c.path,c.children,r,i,l):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,c.path,c.children,r,i,s,l))}else if(n.type===at.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(t,h.path,r,i,l):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,l)}else{if(n.type!==at.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,l)}var d=l.getChanges();return e.maybeAddValueEvent_(t,o,d),new Ct(o,d)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(vt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,l=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof He?u:He.EMPTY_NODE);s=this.filter_.updateFullNode(e.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"==d){a.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=o.getNode();l=e.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(t,p,l);s=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var g=t.popFront(),m=void 0;if(o.isCompleteForChild(d)){l=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),l);m=null!=v?o.getNode().getImmediateChild(d).updateChild(g,v):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,e.getServerCache());s=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,r,i):o.getNode()}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,l=e.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(t,n);a=u.updateFullNode(l.getNode(),c,null)}else{var h=t.getFront();if(!l.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"==h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,d,bt,null)}var f=e.updateServerSnap(a,l.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),g=new wt(r,f,i);return this.generateEventCacheAfterServerEvent_(f,t,r,g,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,l=e.getEventCache(),u=new wt(r,e,i);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=t.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):He.EMPTY_NODE}if(d.equals(p))s=e;else{var g=this.filter_.updateChild(l.getNode(),c,p,h,u,o);s=e.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,l=t;return r.foreach((function(r,u){var c=n.child(r);e.cacheHasChild_(t,c.getFront())&&(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),r.foreach((function(r,u){var c=n.child(r);e.cacheHasChild_(t,c.getFront())||(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),l},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l,u=e;l=t.isEmpty()?n:ht.Empty.setTree(t,n);var c=e.getServerCache().getNode();return l.children.inorderTraversal((function(t,n){if(c.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new X(t),h,r,i,o,s)}})),l.children.inorderTraversal((function(t,n){var l=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!l){var h=e.getServerCache().getNode().getImmediateChild(t),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new X(t),d,r,i,o,s)}})),u},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(t.isEmpty()){var l=ht.Empty;return a.getNode().forEachChild(Te,(function(e,t){l=l.set(new X(e),t)})),this.applyServerMerge_(e,t,l,r,i,s,o)}return e}var u=ht.Empty;return n.foreach((function(e,n){var r=t.child(e);a.isCompleteForPath(r)&&(u=u.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,u,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,bt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var s=new wt(n,e,r),l=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();a.assert(h instanceof He,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(l,c=c,i)}else{var d=t.getFront(),p=n.calcCompleteChild(d,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(l,d,p,t.popFront(),s,i):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,He.EMPTY_NODE,t.popFront(),s,i):l).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),e.updateEventSnap(u,o,this.filter_.filtersNodes())},e}(),St=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===vt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(vt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,vt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,vt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,vt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,vt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,vt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,s=n.filter((function(e){return e.type===t}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new Ce(e.childName,e.snapshotNode),r=new Ce(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Tt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new yt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Et(i);var o=t.getServerCache(),s=t.getEventCache(),a=r.updateFullNode(He.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(He.EMPTY_NODE,s.getNode(),null),u=new gt(a,o.isFullyInitialized(),r.filtersNodes()),c=new gt(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new mt(c,u),this.eventGenerator_=new St(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t=t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===at.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ne,(function(e,t){n.push(vt.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(vt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return this.eventGenerator_.generateEventsForChanges(e,t,n?[n]:this.eventRegistrations_)},e}(),It=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Qe,"Reference.ts has not been loaded"),Qe},set:function(e){a.assert(!Qe,"__referenceConstructor has already been defined"),Qe=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var l=this.views.get(o);return a.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(e,t,n)}var u=[];try{for(var c=s.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((l=h.value).applyOperation(e,t,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),l=!1;a?l=!0:r instanceof He?(a=n.calcCompleteEventChildren(r),l=!1):(a=He.EMPTY_NODE,l=!1);var u=new mt(new gt(a,l,!1),new gt(r,i,!1));s=new Tt(e,u),this.views.set(o,s)}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,a=t.queryIdentifier(),l=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=s.__read(d.value,2),g=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery()))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(p=this.views.get(a))&&(u=u.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery())));return c&&!this.hasCompleteView()&&l.push(new e.__referenceConstructor(t.repo,t.path)),{removed:l,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(e)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),kt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new ht(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=X.relativePath(i,t);return o=o.updateChild(s,n),new e(this.writeTree_.set(i,o))}var a=new ht(n);return new e(this.writeTree_.setTree(t,a))},e.prototype.addWrites=function(e,t){var n=this;return D(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,ht.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(X.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ne,(function(t,n){e.push(new Ce(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ce(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new ht(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(X.Empty,this.writeTree_,e)},e.Empty=new e(new ht(null)),e}(),xt=function(){function e(){this.visibleWrites_=kt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Nt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var l=this.allWrites_[s];l.visible&&(s>=n&&this.recordContainsPath_(l,r.path)?i=!1:r.path.contains(l.path)&&(o=!0)),s--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t).apply(n||He.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(t);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||He.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=He.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Ne,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Ne,(function(e,t){var r=i.childCompoundWrite(new X(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(e),l=a.getCompleteNode(X.Empty);if(null!=l)s=l;else{if(null==t)return[];s=a.apply(t)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=kt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,l=void 0;if(o.snap)n.contains(s)?(l=X.relativePath(n,s),r=r.addWrite(l,o.snap)):s.contains(n)&&(l=X.relativePath(s,n),r=r.addWrite(X.Empty,o.snap.getChild(l)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))l=X.relativePath(n,s),r=r.addWrites(l,o.children);else if(s.contains(n))if((l=X.relativePath(s,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var u=a.safeGet(o.children,l.getFront());if(u){var c=u.getChild(l.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},e}(),Nt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Rt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=ht.Empty,this.pendingWriteTree_=new xt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new pt(lt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=ht.fromObject(t);return this.applyOperationToSyncPoints_(new ft(lt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=ht.Empty;return null!=n.snap?r=r.set(X.Empty,!0):D(n.children,(function(e,t){r=r.set(new X(e),t)})),this.applyOperationToSyncPoints_(new ut(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new pt(lt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=ht.fromObject(t);return this.applyOperationToSyncPoints_(new ft(lt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new dt(lt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,l=X.relativePath(s,t),u=new pt(lt.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(s,u)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,l=X.relativePath(s,t),u=ht.fromObject(n),c=new ft(lt.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=X.relativePath(o,t),l=new dt(lt.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=X.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var s,l=this.syncPointTree_.get(r);l?(o=o||l.hasCompleteView(),i=i||l.getCompleteServerCache(X.Empty)):(l=new It,this.syncPointTree_=this.syncPointTree_.set(r,l)),null!=i?s=!0:(s=!1,i=He.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(e,n))})));var u=l.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);a.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),p=l.addEventRegistration(t,n,d,i,s);if(!u&&!o){var f=l.viewForQuery(t);p=p.concat(this.setupListener_(t,f))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var l=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var c=-1!==u.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),v=this.createListenerForView_(g);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(e.queryForListening_(t),null):u.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(u)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=X.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),D(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),l=this.syncPointTree_.subtree(r);if(i)a.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),D(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||He.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new X(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],s=e.path.getFront(),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=r.child(s);o=o.concat(this.applyOperationHelper_(a,l,u,c))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,l=r.child(t),u=e.operationForChild(t);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,l)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),At=function(){function e(){this.rootNode_=He.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Ot=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,(function(e){return e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}))},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';T(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),Pt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),Dt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Pt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=s.__assign({},e);return this.last_&&D(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Mt=1e4,Ut=3e4,Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=Mt+(Ut-Mt)*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;D(t,(function(t,i){i>0&&a.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),jt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Vt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Vt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();y&&w("event: "+t.toString()),K(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ht=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=s.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),qt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Ht),Wt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ht),zt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&K((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Bt="pLPCommand",$t="pRTLPCB",Qt=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=Dt.getCollection(t),this.urlFn=function(e){return t.connectionURL(J,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Kt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(a.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Kt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[Bt+this.uniqueCallbackIdentifier]=t,window[$t+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){w("frame writing exception"),l.stack&&w(l.stack),w(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||w("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){w("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Gt="",Yt=null;"undefined"!=typeof MozWebSocket?Yt=MozWebSocket:"undefined"!=typeof WebSocket&&(Yt=WebSocket);var Xt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Dt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Gt+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Yt(this.connURL,[],r)}else this.mySock=new Yt(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Yt&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Zt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Qt,Xt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Xt&&Xt.isAvailable(),o=i&&!Xt.previouslyFailed();if(t.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Xt];else{var a=this.transports_=[];try{for(var l=s.__values(e.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Jt=function(){function e(e,t,n,r,i,o,s){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Zt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Y((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),en=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),tn=1e3,nn=3e5,rn=function(e){function t(n,r,i,o,s,l){var u=e.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=s,u.authOverride_=l,u.id=t.nextPersistentConnectionId_++,u.log_=C("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=tn,u.maxReconnectDelay_=nn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),qt.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Wt.getInstance().on("online",u.onOnline_,u),u}return s.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,l=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(i,o),e.onComplete&&e.onComplete(l,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,s=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,r())};this.realtime_={close:c,sendRequest:function(e){a.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){l?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,u=new Jt(i,o.repoInfo_,e,n,r,(function(e){T(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(e){o.log_("Failed to get token: "+e),l||(a.CONSTANTS.NODE_ADMIN&&T(e),c())}))}},t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=tn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return O(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new X(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,s.__values(a.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+Gt.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Wt.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(en),on=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return s.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var l=t.getListenId_(e,r),u={};this.listens_[l]=u;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,l)===u&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+a.querystring(t);r.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=a.jsonEval(l.responseText)}catch(t){T("Failed to parse JSON response for "+s+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&T("Got unsuccessful REST response for "+s+" Status: "+l.status),n(l.status);n=null}},l.open("GET",s,!0),l.send()}))},t}(en),sn=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new nt,this.persistentConnection_=null;var i=new Ot(n);if(this.stats_=Dt.getCollection(e),t||G())this.server_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new rn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(e){r.server_.refreshAuthToken(e)})),this.statsReporter_=Dt.getOrCreateReporter(e,(function(){return new Ft(r.stats_,r.server_)})),this.transactions_init_(),this.infoData_=new At,this.infoSyncTree_=new Rt({startListening:function(e,t,n,i){var o=[],s=r.infoData_.getNode(e.path);return s.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Rt({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,(function(t,n){var o=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new X(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var s=a.map(t,(function(e){return ze(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var l=ze(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,l,r)}else if(n){var u=a.map(t,(function(e){return ze(e)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=ze(t);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;D(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new X("/.info/"+e),r=ze(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=ze(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),l=st(s,a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,l,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||T("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(e,s),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(D(t,(function(t,n){i=!1;var a=ze(n);s[t]=st(a,r.serverSyncTree_.calcCompleteEventCache(e),o)})),i)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,s,a);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||T("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),l=s.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(l,s),r.callOnCompleteCallback(n,t,i)})),D(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=function(e,t,n){var r=new nt;return e.forEachTree(new X(""),(function(e,i){var o=t.calcCompleteEventCache(e);a.assert(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),r.remember(e,st(i,o,n))})),r}(this.onDisconnect_,this.serverSyncTree_,t),r=[];n.forEachTree(X.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new nt,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=ze(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=ze(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(a.isEmpty(t))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&D(t,(function(t,n){var i=ze(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Lt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);D(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,s.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&K((function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new mn(this))},enumerable:!0,configurable:!0}),e}(),an=function(){function e(t){this.indexedFilter_=new yt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ce(t,n))||(n=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=He.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(He.EMPTY_NODE);var i=this;return t.forEachChild(Ne,(function(e,t){i.matches(new Ce(e,t))||(r=r.updateImmediateChild(e,He.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),ln=function(){function e(e){this.rangedFilter_=new an(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ce(t,n))||(n=He.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=He.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=He.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(He.EMPTY_NODE);var a=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,l)<=0?o++:r=r.updateImmediateChild(s.name,He.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var l=e;a.assert(l.numChildren()==this.limit_,"");var u=new Ce(t,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(t)){for(var d=l.getImmediateChild(t),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==t||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(vt.childChangedChange(t,n,d)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt.childRemovedChange(t,d));var g=l.updateImmediateChild(t,He.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(vt.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?e:h&&o(c,u)>=0?(null!=i&&(i.trackChildChange(vt.childRemovedChange(c.name,c.node)),i.trackChildChange(vt.childAddedChange(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(c.name,He.EMPTY_NODE)):e},e}(),un=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Ne&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ne},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new yt(this.getIndex()):this.hasLimit()?new ln(this):new an(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Ne?t=n.PRIORITY_INDEX:this.index_===Ke?t=n.VALUE_INDEX:this.index_===Te?t=n.KEY_INDEX:(a.assert(this.index_ instanceof Ge,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=a.stringify(t),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),cn=function(e){function t(t,n){if(!(t instanceof sn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,un.DEFAULT,!1)||this}return s.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof X||(null===this.path.getFront()?ge("Reference.child",1,e,!1):fe("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),me("Reference.set",this.path),le("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),me("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var i=new a.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority",this.path),le("Reference.setWithPriority",1,e,this.path,!1),he("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),me("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),me("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),ye("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new be(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority",this.path),he("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),me("Reference.push",this.path),le("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=we(r),o=this.child(i),s=this.child(i);return n=null!=e?o.set(e,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return me("Reference.onDisconnect",this.path),new _e(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(tt);tt.__referenceConstructor=cn,It.__referenceConstructor=cn;var hn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),dn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new hn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof X?t:new X(t),i=this;null!==(n=r.getFront());)i=new e(n,i,a.safeGet(i.node_.children,n)||new hn),r=r.popFront();return i},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;D(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=a.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),pn=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({});sn.MAX_TRANSACTION_RETRIES_=25,sn.prototype.transactions_init_=function(){this.transactionQueueTree_=new dn},sn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new cn(this,e);o.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(e);s.currentInputSnapshot=l;var u=s.update(l.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Ye(s.currentInputSnapshot,new cn(this,s.path),Ne);s.onComplete(null,!1,c)}}else{ue("transaction failed: Data returned ",u,s.path),s.status=pn.RUN;var h=this.transactionQueueTree_.subTree(e),d=h.getValue()||[];d.push(s),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(p=a.safeGet(u,".priority"),a.assert(ae(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(e)||He.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),m=ze(u,p),v=st(m,l,f);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},sn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||He.EMPTY_NODE},sn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===pn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},sn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,s=i.hash(),l=0;l<t.length;l++){var u=t[l];a.assert(u.status===pn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=pn.SENT,u.retryCount++;var c=X.relativePath(e,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=e;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=pn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,l=new cn(n,t[s].path),u=new Ye(a,l,Ne);o.push(t[s].onComplete.bind(null,null,!0,u))}t[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),s=0;s<o.length;s++)K(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status=t[s].status===pn.SENT_NEEDS_ABORT?pn.NEEDS_ABORT:pn.RUN;else for(T("transaction at "+d.toString()+" failed: "+r),s=0;s<t.length;s++)t[s].status=pn.NEEDS_ABORT,t[s].abortReason=r;n.rerunTransactions_(e)}}),s)},sn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},sn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===pn.RUN})).map((function(e){return e.currentWriteId})),o=0;o<e.length;o++){var s=e[o],l=X.relativePath(t,s.path),u=!1,c=void 0;if(a.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===pn.NEEDS_ABORT)u=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===pn.RUN)if(s.retryCount>=sn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=e[o].update(h.val());if(void 0!==d){ue("transaction failed: Data returned ",d,s.path);var p=ze(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,g=this.generateServerValues(),m=st(p,h,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,m,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],u&&(e[o].status=pn.COMPLETED,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete))if("nodata"===c){var v=new cn(this,e[o].path),y=new Ye(e[o].currentInputSnapshot,v,Ne);n.push(e[o].onComplete.bind(null,null,!1,y))}else n.push(e[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},sn.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},sn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},sn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},sn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==pn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},sn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},sn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===pn.SENT_NEEDS_ABORT||(t[o].status===pn.SENT?(a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=pn.SENT_NEEDS_ABORT,t[o].abortReason="set"):(a.assert(t[o].status===pn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),o=0;o<n.length;o++)K(n[o])}};var fn,gn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return fn||(fn=new e),fn},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=te(n),i=r.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(i=(r=te(n="http://"+o+"?ns="+i.namespace)).repoInfo),ve("Invalid Firebase Database URL",1,r),r.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||S("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=a.safeGet(this.repos_,t.name);n||(this.repos_[t.name]=n={});var r=a.safeGet(n,e.toURLString());return r&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new sn(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),mn=function(){function e(e){this.repo_=e,e instanceof sn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new cn(e,X.Empty),this.INTERNAL=new vn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof cn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=te(e);ve(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&S(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&S("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},_increment:function(e){return{".sv":{increment:e}}}},e}(),vn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.database.checkDeleted_("delete"),gn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),yn=Object.freeze({__proto__:null,forceLongPolling:function(){Xt.forceDisallow(),Qt.forceAllow()},forceWebSockets:function(){Qt.forceDisallow()},isWebSocketsAvailable:function(){return Xt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),_n=rn;rn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},rn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var bn=Object.freeze({__proto__:null,DataConnection:_n,RealTimeConnection:Jt,hijackHash:function(e){var t=rn.prototype.put;return rn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){rn.prototype.put=t}},ConnectionTarget:ee,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){gn.getInstance().forceRestClient(e)}}),wn=mn.ServerValue;function Cn(t){Gt=t.SDK_VERSION;var n=t.INTERNAL.registerService("database",(function(e,t,n){return gn.getInstance().databaseFromApp(e,n)}),{Reference:cn,Query:tt,Database:mn,DataSnapshot:Ye,enableLogging:b,INTERNAL:yn,ServerValue:wn,TEST_ACCESS:bn},null,!0);a.isNodeSdk()&&(e.exports=n)}Cn(o),t.DataSnapshot=Ye,t.Database=mn,t.OnDisconnect=_e,t.Query=tt,t.Reference=cn,t.ServerValue=wn,t.enableLogging=b,t.registerDatabase=Cn},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.r(t),n.d(t,"LogLevel",(function(){return o})),n.d(t,"Logger",(function(){return l})),n.d(t,"setLogLevel",(function(){return u}));var i=[],o=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s=o.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString();switch(t){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+s+"]  "+e.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+s+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},l=function(){function e(e){this.name=e,this._logLevel=s,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function u(e){i.forEach((function(t){t.logLevel=e}))}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new o.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(e.services_[i]);o<s.length;o++)t.push(e.services_[i][s[o]]);return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=u),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==u?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=u),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(o.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++)this.INTERNAL.addAuthTokenListener(n[t]);this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var r=0,i=this.analyticsEventRequests_;r<i.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,i[r]);this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=u);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(t,a))throw l.create("duplicate-app",{appName:a});var h=new e(n,s,i);return t[a]=h,c(h,"create"),h},app:s,apps:null,SDK_VERSION:"7.5.0",INTERNAL:{registerService:function(t,u,c,d,p){if(void 0===p&&(p=!1),n[t])return h.debug("There were multiple attempts to register service "+t+"."),i[t];function f(e){if(void 0===e&&(e=s()),"function"!=typeof e[t])throw l.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=u,d&&(r[t]=d,a().forEach((function(e){d("create",e)}))),void 0!==c&&o.deepExtend(f,c),i[t]=f,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,p?e:[])},f},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function s(e){if(!o.contains(t,e=e||u))throw l.create("no-app",{appName:e});return t[e]}function a(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=d(0,o[i]);if(null===s)return;r[s]&&r[s](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:a}),s.App=e,i}(c);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),f=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,e)};var g=p;t.default=g,t.firebase=g},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout(()=>{throw e})}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},l=Array.isArray||(e=>e&&"number"==typeof e.length);function u(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof h?p(d.errors):[d]}if(l(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(u(n))try{n.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof h?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new h(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[f](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends g{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let s=this;r(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==a&&(r((s=Object.create(t)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function _(...e){return b(e)}function b(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[f])return e[f]()}return e||t||n?new g(e,t,n):new g(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const S=E;class T extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class I extends g{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new I(this)}lift(e){const t=new x(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new T(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new x(e,t),e})();class x extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function N(e){return e&&"function"==typeof e.schedule}class R extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},O=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=P(),L=e=>t=>{const n=e[D]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},M=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},U=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function F(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const j=e=>{if(e instanceof w)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return M(e);if(U(e))return A(e);if(F(e))return O(e);if(e&&"function"==typeof e[D])return L(e);{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(e,t,n,r,i=new R(e,n,r)){if(!i.closed)return j(t)(i)}class H extends g{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}class W{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new z(e,this.project,this.thisArg))}}class z extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function B(e,t){return new w(t?n=>{const r=new d;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:A(e))}function $(e,t){if(!t)return e instanceof w?e:new w(j(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w(t?n=>{const r=new d;return r.add(t.schedule(()=>{const i=e[v]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:M(e))}(e,t);if(F(e))return function(e,t){return new w(t?n=>{const r=new d;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:O(e))}(e,t);if(U(e))return B(e,t);if(function(e){return e&&"function"==typeof e[D]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(t?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[D](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:L(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Q(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Q((n,r)=>$(e(n,r)).pipe(q((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new G(e,this.project,this.concurrent))}}class G extends H{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new R(this,void 0,void 0);this.destination.add(r),V(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(e){return e}function X(e=Number.POSITIVE_INFINITY){return Q(Y,e)}function Z(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return N(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:X(t)(B(e,n))}function J(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new te(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class te extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ne=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ie(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return J()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class ie extends I{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function oe(){return new k}function se(){return e=>J()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,re);return r.source=t,r.subjectFactory=n,r}}(oe)(e))}const ae="__parameters__";function le(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(ae)?e[ae]:Object.defineProperty(e,ae,{value:[]})[ae];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const ue=le("Inject",e=>({token:e})),ce=le("Optional"),he=le("Self"),de=le("SkipSelf");var pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(let t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function me(e){const t=e[ve];return t&&t.token===e?t:null}const ve=fe({ngInjectableDef:fe});function ye(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const _e=fe({__forward_ref__:fe});function be(e){return e.__forward_ref__=be,e.toString=function(){return ye(this())},e}function we(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===be?t():e}const Ce="undefined"!=typeof globalThis&&globalThis,Ee="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te="undefined"!=typeof global&&global,Ie=Ce||Te||Ee||Se;class ke{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xe=new ke("INJECTOR",-1),Ne=new Object,Re="ngTempTokenPath",Ae="ngTokenPath",Oe=/\n/gm,Pe="\u0275",De="__source",Le=fe({provide:String,useValue:fe});let Me,Ue=void 0;function Fe(e){const t=Ue;return Ue=e,t}function je(e,t=pe.Default){if(void 0===Ue)throw new Error("inject() must be called from an injection context");return null===Ue?function(e,t,n){const r=me(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&pe.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ye(e)}]`)}(e,0,t):Ue.get(e,t&pe.Optional?null:void 0,t)}function Ve(e,t=pe.Default){return(Me||je)(e,t)}class He{get(e,t=Ne){if(t===Ne){const t=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw t.name="NullInjectorError",t}return t}}function qe(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Pe?e.substr(2):e;let i=ye(t);if(t instanceof Array)i=t.map(ye).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):ye(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Oe,"\n  ")}`}class We{}class ze{}function Be(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $e(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Qe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))(),Ge="ngDebugContext",Ye="ngOriginalError",Xe="ngErrorLogger";function Ze(e){return e[Ge]}function Je(e){return e[Ye]}function et(e,...t){e.error(...t)}class tt{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Xe]||et}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Ze(e)?Ze(e):this._findContext(Je(e)):null}_findOriginalError(e){let t=Je(e);for(;t&&Je(t);)t=Je(t);return t}}let nt=!0,rt=!1;function it(){return rt=!0,nt}class ot{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const st=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,at=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lt(e){return(e=String(e)).match(st)||e.match(at)?e:(it()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function ut(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ct(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ht=ut("area,br,col,hr,img,wbr"),dt=ut("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pt=ut("rp,rt"),ft=ct(pt,dt),gt=ct(ht,ct(dt,ut("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ct(pt,ut("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ft),mt=ut("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vt=ut("srcset"),yt=ct(mt,vt,ut("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ut("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_t=ut("script,style,template");class bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!gt.hasOwnProperty(t))return this.sanitizedSomething=!0,!_t.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!yt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;mt[o]&&(s=lt(s)),vt[o]&&(r=s,s=(r=String(r)).split(",").map(e=>lt(e.trim())).join(", ")),this.buf.push(" ",t,'="',Et(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();gt.hasOwnProperty(t)&&!ht.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Et(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const wt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ct=/([^\#-~ |!])/g;function Et(e){return e.replace(/&/g,"&amp;").replace(wt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ct,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let St;function Tt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const It=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class kt{}const xt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Nt=/^url\(([^)]+)\)$/,Rt=/([A-Z])/g;function At(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Ot=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Pt(),e})();const Pt=(...e)=>{},Dt=new ke("The presence of this token marks an injector as being the root injector."),Lt=function(e,t,n){return new qt(e,t,n)};let Mt=(()=>{class e{static create(e,t){return Array.isArray(e)?Lt(e,t,""):Lt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ne,e.NULL=new He,e.ngInjectableDef=ge({token:e,providedIn:"any",factory:()=>Ve(xe)}),e.__NG_ELEMENT_ID__=-1,e})();const Ut=function(e){return e},Ft=[],jt=Ut,Vt=function(){return Array.prototype.slice.call(arguments)},Ht="\u0275";class qt{constructor(e,t=Mt.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Mt,{token:Mt,fn:Ut,deps:Ft,value:this,useNew:!1}),r.set(xe,{token:xe,fn:Ut,deps:Ft,value:this,useNew:!1}),function e(t,n){if(n)if((n=we(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw zt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw zt("Unexpected provider",n);{let e=we(n.provide);const r=function(e){const t=function(e){let t=Ft;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=we(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof ce||n==ce?r|=1:n instanceof de||n==de?r&=-3:n instanceof he||n==he?r&=-5:i=n instanceof ue?n.token:we(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:we(e.useExisting),options:6}];else if(!(n||Le in e))throw zt("'deps' required",e);return t}(e);let n=Ut,r=Ft,i=!1,o=we(e.provide);if(Le in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=we(e.useClass);else{if("function"!=typeof o)throw zt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Vt)throw Wt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Vt,value:Ft});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==Vt)throw Wt(e);t.set(e,r)}}}(r,e)}get(e,t,n=pe.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){let a;if(!n||s&pe.SkipSelf)s&pe.Self||(a=i.get(t,o,pe.Default));else{if((a=n.value)==jt)throw Error(Ht+"Circular dependency");if(a===Ft){n.value=jt;let t=void 0,o=n.useNew,s=n.fn,l=n.deps,u=Ft;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],o=n.options,s=2&o?r.get(n.token):void 0;u.push(e(n.token,s,r,s||4&o?i:Mt.NULL,1&o?null:Mt.THROW_IF_NOT_FOUND,pe.Default))}}n.value=a=o?new s(...u):s.apply(t,u)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Re]=a[Re]||[]).unshift(t),n&&n.value==jt&&(n.value=Ft),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e[Re];throw t[De]&&i.unshift(t[De]),e.message=qe("\n"+e.message,i,"StaticInjectorError",r),e[Ae]=i,e[Re]=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ye(n))),`StaticInjector[${e.join(", ")}]`}}function Wt(e){return zt("Cannot mix multi providers and regular providers",e)}function zt(e,t){return new Error(qe(e,t,"StaticInjectorError"))}const Bt=new ke("AnalyzeForEntryComponents");let $t=null;function Qt(){if(!$t){const e=Ie.Symbol;if(e&&e.iterator)$t=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&($t=n)}}}return $t}function Kt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Gt(e,t){const n=Xt(e),r=Xt(t);if(n&&r)return function(e,t,n){const r=e[Qt()](),i=t[Qt()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Gt);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Kt(e,t)}}class Yt{constructor(e){this.wrapped=e}static wrap(e){return new Yt(e)}static unwrap(e){return Yt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Yt}}function Xt(e){return!!Zt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qt()in e)}function Zt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jt(e){return!!e&&"function"==typeof e.then}function en(e){return!!e&&"function"==typeof e.subscribe}class tn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class nn{}class rn{}function on(e){const t=Error(`No component factory found for ${ye(e)}. Did you add it to @NgModule.entryComponents?`);return t[sn]=e,t}const sn="ngComponent";class an{resolveComponentFactory(e){throw on(e)}}let ln=(()=>{class e{}return e.NULL=new an,e})();class un{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw on(e);return new cn(t,this._ngModule)}}class cn extends rn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function hn(...e){}let dn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>pn(e),e})();const pn=hn;class fn{}class gn{}const mn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let vn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>yn(),e})();const yn=hn;class _n{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const bn=new _n("8.2.14");class wn{constructor(){}supports(e){return Xt(e)}create(e){return new En(e)}}const Cn=(e,t)=>t;class En{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Cn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<kn(n,r,i)?t:n,s=kn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xt(e))throw new Error(`Error trying to diff '${ye(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&Kt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Kt(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Qt()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Kt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Kt(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Sn(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new In),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new In),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Sn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Kt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class In{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Tn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kn(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class xn{constructor(){}supports(e){return e instanceof Map||Zt(e)}create(){return new Nn}}class Nn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Zt(e)))throw new Error(`Error trying to diff '${ye(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Rn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Kt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Rn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let An=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ce]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=ge({token:e,providedIn:"root",factory:()=>new e([new wn])}),e})(),On=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ce]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=ge({token:e,providedIn:"root",factory:()=>new e([new xn])}),e})();const Pn=[new xn],Dn=new An([new wn]),Ln=new On(Pn);let Mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Un(e,dn),e})();const Un=hn;let Fn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>jn(e,dn),e})();const jn=hn;function Vn(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Hn(n,t),n}(i,e)}function Hn(e,t){e[Ge]=t,e[Xe]=t.logError.bind(t)}function qn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Wn(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function zn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Bn(e,t){return e.nodes[t]}function $n(e,t){return e.nodes[t]}function Qn(e,t){return e.nodes[t]}function Kn(e,t){return e.nodes[t]}function Gn(e,t){return e.nodes[t]}const Yn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Xn=()=>{},Zn=new Map;function Jn(e){let t=Zn.get(e);return t||(t=ye(e)+"_"+Zn.size,Zn.set(e,t)),t}const er="$$undefined",tr="$$empty";function nr(e){return{id:er,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let rr=0;function ir(e,t,n,r){return!(!(2&e.state)&&Kt(e.oldValues[t.bindingIndex+n],r))}function or(e,t,n,r){return!!ir(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function sr(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Gt(i,r)){const o=t.bindings[n].name;throw Vn(Yn.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function ar(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function lr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function ur(e,t,n,r){try{return ar(33554432&e.def.nodes[t].flags?$n(e,t).componentView:e),Yn.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function cr(e){return e.parent?$n(e.parent,e.parentNodeDef.nodeIndex):null}function hr(e){return e.parent?e.parentNodeDef.parent:null}function dr(e,t){switch(201347067&t.flags){case 1:return $n(e,t.nodeIndex).renderElement;case 2:return Bn(e,t.nodeIndex).renderText}}function pr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function fr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function gr(e){return 1<<e%32}function mr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=gr(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function vr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,De,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Jn(n)}})}function yr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Qe.Native?$n(e,n.renderParent.nodeIndex).renderElement:void 0:t}const _r=new WeakMap;function br(e){let t=_r.get(e);return t||((t=e(()=>Xn)).factory=e,_r.set(e,t)),t}function wr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(dr(e,e.def.lastRenderRootNode))),Cr(e,t,0,e.def.nodes.length-1,n,r,i)}function Cr(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Sr(e,n,t,i,o,s),a+=n.childCount}}function Er(e,t,n,r,i,o){let s=e;for(;s&&!pr(s);)s=s.parent;const a=s.parent,l=hr(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&Sr(a,e,n,r,i,o),c+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Tr(e,s[t],n,r,i,o)}}function Sr(e,t,n,r,i,o){if(8&t.flags)Er(e,t.ngContent.index,n,r,i,o);else{const s=dr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Tr(e,s,n,r,i,o),32&t.bindingFlags&&Tr($n(e,t.nodeIndex).componentView,s,n,r,i,o)):Tr(e,s,n,r,i,o),16777216&t.flags){const s=$n(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)wr(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&Cr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Tr(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Ir=/^:([^:]+):(.+)$/;function kr(e){if(":"===e[0]){const t=e.match(Ir);return[t[1],t[2]]}return["",e]}function xr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Nr(e,t,n,r,i,o,s,a,l,u,c,h,d,p,f,g,m,v,y,_){switch(e){case 1:return t+Rr(n)+r;case 2:return t+Rr(n)+r+Rr(i)+o;case 3:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a;case 4:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u;case 5:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u+Rr(c)+h;case 6:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u+Rr(c)+h+Rr(d)+p;case 7:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u+Rr(c)+h+Rr(d)+p+Rr(f)+g;case 8:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u+Rr(c)+h+Rr(d)+p+Rr(f)+g+Rr(m)+v;case 9:return t+Rr(n)+r+Rr(i)+o+Rr(s)+a+Rr(l)+u+Rr(c)+h+Rr(d)+p+Rr(f)+g+Rr(m)+v+Rr(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function Rr(e){return null!=e?e.toString():""}const Ar=new Object,Or=Jn(Mt),Pr=Jn(xe),Dr=Jn(We);function Lr(e,t,n,r){return n=we(n),{index:-1,deps:vr(r,ye(t)),flags:e,token:t,value:n}}function Mr(e,t,n=Mt.THROW_IF_NOT_FOUND){const r=Fe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Or:case Pr:case Dr:return e}const a=e._def.providersByKey[s];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Ur(e,a)),t===Ar?void 0:t}if((l=me(t.token))&&(i=e,null!=(o=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=Ar,e._providers[n]=Ur(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Fe(r)}var i,o}function Ur(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Mr(e,n[0]));case 2:return new t(Mr(e,n[0]),Mr(e,n[1]));case 3:return new t(Mr(e,n[0]),Mr(e,n[1]),Mr(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=Mr(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Mr(e,n[0]));case 2:return t(Mr(e,n[0]),Mr(e,n[1]));case 3:return t(Mr(e,n[0]),Mr(e,n[1]),Mr(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=Mr(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Mr(e,t.deps[0]);break;case 256:n=t.value}return n===Ar||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ar:n}function Fr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,$e(n,t),Yn.dirtyParentQueries(r),Vr(r),r}function jr(e,t,n){const r=t?dr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);wr(n,2,i,o,void 0)}function Vr(e){wr(e,3,null,null,void 0)}const Hr=new Object;function qr(e,t,n,r,i,o){return new Wr(e,t,n,r,i,o)}class Wr extends rn{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=br(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Yn.createRootView(e,t||[],n,i,r,Hr),a=Qn(s,o).instance;return n&&s.renderer.setAttribute($n(s,0).renderElement,"ng-version",bn.full),new zr(s,new Kr(s),a)}}class zr extends nn{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new dn($n(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Zr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Br(e,t,n){return new $r(e,t,n)}class $r{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new dn(this._data.renderElement)}get injector(){return new Zr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=hr(e),e=e.parent;return e?new Zr(e,t):new Zr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Fr(this._data,e);Yn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Kr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof cn||(i=o.get(We));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Be(i,n,r),function(e,t){const n=cr(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),Yn.dirtyParentQueries(r),jr(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];$e(r,t),null==n&&(n=r.length),Be(r,n,i),Yn.dirtyParentQueries(i),Vr(i),jr(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Fr(this._data,e);t&&Yn.destroyView(t)}detach(e){const t=Fr(this._data,e);return t?new Kr(t):null}}function Qr(e){return new Kr(e)}class Kr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return wr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ar(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Yn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Yn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Yn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Vr(this._view),Yn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Gr(e,t){return new Yr(e,t)}class Yr extends Mn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Kr(Yn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new dn($n(this._parentView,this._def.nodeIndex).renderElement)}}function Xr(e,t){return new Zr(e,t)}class Zr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Mt.THROW_IF_NOT_FOUND){return Yn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Jn(e)},t)}}function Jr(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=$n(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Bn(e,n.nodeIndex).renderText;if(20240&n.flags)return Qn(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function ei(e){return new ti(e.renderer)}class ti{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=kr(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=kr(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ni(e,t,n,r){return new ri(e,t,n,r)}class ri{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Ur(e,i))}}(this)}get(e,t=Mt.THROW_IF_NOT_FOUND,n=pe.Default){let r=0;return n&pe.SkipSelf?r|=1:n&pe.Self&&(r|=4),Mr(this,{token:e,tokenKey:Jn(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ln)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ye(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Ar){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const ii=Jn(fn),oi=Jn(vn),si=Jn(dn),ai=Jn(Fn),li=Jn(Mn),ui=Jn(Ot),ci=Jn(Mt),hi=Jn(xe);function di(e,t,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[e,t]=s[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return fi(e,t|=16384,n,r,i,i,o,l,u)}function pi(e,t,n,r,i){return fi(-1,e,t,0,n,r,i)}function fi(e,t,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=mr(n);l||(l=[]),a||(a=[]),o=we(o);const d=vr(s,ye(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:xr(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function gi(e,t){return _i(e,t)}function mi(e,t){let n=e;for(;n.parent&&!pr(n);)n=n.parent;return bi(n.parent,hr(n),!0,t.provider.value,t.provider.deps)}function vi(e,t){const n=bi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!en(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(yi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function yi(e,t,n){return r=>ur(e,t,n,r)}function _i(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return bi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Ci(e,t,n,i[0]));case 2:return r(Ci(e,t,n,i[0]),Ci(e,t,n,i[1]));case 3:return r(Ci(e,t,n,i[0]),Ci(e,t,n,i[1]),Ci(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Ci(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Ci(e,t.parent,n,r.deps[0]);case 256:return r.value}}function bi(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Ci(e,t,n,i[0]));case 2:return new r(Ci(e,t,n,i[0]),Ci(e,t,n,i[1]));case 3:return new r(Ci(e,t,n,i[0]),Ci(e,t,n,i[1]),Ci(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Ci(e,t,n,i[r]);return new r(...s)}}const wi={};function Ci(e,t,n,r,i=Mt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===ui&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case ii:return ei(Ei(a,t,n));case oi:return Ei(a,t,n).renderer;case si:return new dn($n(a,t.nodeIndex).renderElement);case ai:return $n(a,t.nodeIndex).viewContainer;case li:if(t.element.template)return $n(a,t.nodeIndex).template;break;case ui:return Qr(Ei(a,t,n));case ci:case hi:return Xr(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Qn(a,e.nodeIndex);return t||(t={instance:_i(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=pr(a),t=hr(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,wi);return l!==wi||i===wi?l:o.root.ngModule.injector.get(r.token,i)}function Ei(e,t,n){let r;if(n)r=$n(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!pr(r);)r=r.parent;return r}function Si(e,t,n,r,i,o){if(32768&n.flags){const t=$n(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=Yt.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new tn(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ti(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&ki(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ii(e,s,t,r)),s=s.parent}}function Ii(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&ki(e,i,t.flags&n,r++),i+=t.childCount}return r}function ki(e,t,n,r){const i=Qn(e,t);if(!i)return;const o=i.instance;o&&(Yn.setCurrentNode(e,t),1048576&n&&zn(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&zn(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const xi=new ke("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),Ni={},Ri=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ai=void 0;var Oi=["en",[["a","p"],["AM","PM"],Ai],[["AM","PM"],Ai,Ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ai,"{1} 'at' {0}",Ai],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Pi="en-US";let Di=Pi;function Li(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(Di=e.toLowerCase().replace(/_/g,"-"))}class Mi extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,o=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return e instanceof d&&e.add(s),s}}function Ui(){return this._results[Qt()]()}class Fi{constructor(){this.dirty=!0,this._results=[],this.changes=new Mi,this.length=0;const e=Qt(),t=Fi.prototype;t[e]||(t[e]=Ui)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ji=new ke("Application Initializer");class Vi{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Jt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Hi=new ke("AppId");function qi(){return`${Wi()}${Wi()}${Wi()}`}function Wi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zi=new ke("Platform Initializer"),Bi=new ke("Platform ID"),$i=new ke("appBootstrapListener");class Qi{log(e){console.log(e)}warn(e){console.warn(e)}}const Ki=new ke("LocaleId"),Gi=!1;function Yi(){throw new Error("Runtime compiler is not loaded")}const Xi=Yi,Zi=Yi,Ji=Yi,eo=Yi;class to{constructor(){this.compileModuleSync=Xi,this.compileModuleAsync=Zi,this.compileModuleAndAllComponentsSync=Ji,this.compileModuleAndAllComponentsAsync=eo}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class no{}let ro,io;function oo(){const e=Ie.wtf;return!(!e||!(ro=e.trace)||(io=ro.events,0))}const so=oo();function ao(e,t){return null}const lo=so?function(e,t=null){return io.createScope(e,t)}:(e,t)=>ao,uo=so?function(e,t){return ro.leaveScope(e,t),t}:(e,t)=>t,co=(()=>Promise.resolve(0))();function ho(e){"undefined"==typeof Zone?co.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class po{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi(!1),this.onMicrotaskEmpty=new Mi(!1),this.onStable=new Mi(!1),this.onError=new Mi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return vo(t),e.invokeTask(r,i,o,s)}finally{yo(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return vo(t),e.invoke(r,i,o,s,a)}finally{yo(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,mo(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!po.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(po.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,go,fo,fo);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function fo(){}const go={};function mo(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yo(e){e._nesting--,mo(e)}class _o{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi,this.onMicrotaskEmpty=new Mi,this.onStable=new Mi,this.onError=new Mi}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class bo{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),ho(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ho(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class wo{constructor(){this._applications=new Map,So.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return So.findTestabilityInTree(this,e,t)}}class Co{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Eo,So=new Co,To=function(e,t,n){return e.get(no).createCompiler([t]).compileModuleAsync(n)},Io=function(e){return e instanceof cn};const ko=new ke("AllowMultipleToken");class xo{constructor(e,t){this.name=e,this.token=t}}function No(e,t,n=[]){const r=`Platform: ${t}`,i=new ke(r);return(t=[])=>{let o=Ro();if(!o||o.injector.get(ko,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Eo&&!Eo.destroyed&&!Eo.injector.get(ko,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Eo=e.get(Ao);const t=e.get(zi,null);t&&t.forEach(e=>e())}(Mt.create({providers:e,name:r}))}return function(e){const t=Ro();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ro(){return Eo&&!Eo.destroyed?Eo:null}class Ao{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new _o:("zone.js"===i?void 0:i)||new po({enableLongStackTrace:it()}),r=[{provide:po,useValue:n}];var i;return n.run(()=>{const t=Mt.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(tt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Gi&&Li(i.injector.get(Ki,Pi)||Pi),i.onDestroy(()=>Do(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return Jt(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Vi);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Oo({},t);return To(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Po);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ye(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Oo(e,t){return Array.isArray(t)?t.reduce(Oo,e):Object.assign({},e,t)}let Po=(()=>{class e{constructor(e,t,n,r,i,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=it(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{po.assertNotInAngularZone(),ho(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{po.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Z(s,a.pipe(se()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof rn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Io(n)?null:this._injector.get(We),i=n.create(Mt.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(bo,null);return o&&i.injector.get(wo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),it()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,uo(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Do(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get($i,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Do(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=lo("ApplicationRef#tick()"),e})();function Do(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lo{}const Mo="#",Uo="NgFactory";class Fo{}const jo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Vo{constructor(e,t){this._compiler=e,this._config=t||jo}load(e){return!Gi&&this._compiler instanceof to?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(Mo);return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ho(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(Mo),i=Uo;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Ho(e,t,r))}}function Ho(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class qo{constructor(e,t){this.name=e,this.callback=t}}class Wo{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof zo&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class zo extends Wo{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof zo&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof zo&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof zo&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof zo)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Bo=new Map,$o=function(e){return Bo.get(e)||null};function Qo(e){Bo.set(e.nativeNode,e)}const Ko=No(null,"core",[{provide:Bi,useValue:"unknown"},{provide:Ao,deps:[Mt]},{provide:wo,deps:[]},{provide:Qi,deps:[]}]);function Go(){return Dn}function Yo(){return Ln}function Xo(e){return e?(Gi&&Li(e),e):Pi}function Zo(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Jo{constructor(e){}}function es(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=mr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?br(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Xn},provider:null,text:null,query:null,ngContent:null}}function ts(e,t,n,r,i,o,s=[],a,l,u,c,h){u||(u=Xn);const{matchedQueries:d,references:p,matchedQueryIds:f}=mr(n);let g=null,m=null;o&&([g,m]=kr(o)),a=a||[];const v=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[r,i]=kr(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}v[b]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[e,t]=l[b];y[b]={type:0,target:e,eventName:t,propName:null}}const _=(s=s||[]).map(([e,t])=>{const[n,r]=kr(e);return[n,r,t]});return h=function(e){if(e&&e.id===er){const t=null!=e.encapsulation&&e.encapsulation!==Qe.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${rr++}`:tr}return e&&e.id===tr&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:xr(v),outputs:y,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Xn},provider:null,text:null,query:null,ngContent:null}}function ns(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=yr(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Qe.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function rs(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=is(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=e;"component"===a.target&&(u=null,c=t);const h=c.renderer.listen(u||r,a.eventName,l);e.disposables[n.outputIndex+s]=h}var i,o}function is(e,t,n){return r=>ur(e,t,n,r)}function os(e,t,n,r){if(!or(e,t,n,r))return!1;const i=t.bindings[n],o=$n(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=e.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(It.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function ss(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:gr(t),bindings:r},ngContent:null}}function as(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&fr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Gn(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Gn(e,n).setDirty(),n+=t.childCount}}function ls(e,t){const n=Gn(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=us(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Qn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=us(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function us(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(cs(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=$n(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(us(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=cr(o);s&&s===n&&us(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];us(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function cs(e,t,n){if(null!=n)switch(n){case 1:return $n(e,t.nodeIndex).renderElement;case 0:return new dn($n(e,t.nodeIndex).renderElement);case 2:return $n(e,t.nodeIndex).template;case 3:return $n(e,t.nodeIndex).viewContainer;case 4:return Qn(e,t.nodeIndex).instance}}function hs(e,t,n){const r=yr(e,t,n);r&&Er(e,n.ngContent.index,1,r,null,void 0)}function ds(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const e=n[o];i[t[e]]=e}return function(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:xr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,i)}function ps(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function fs(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=yr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function gs(e,t){return(null!=e?e.toString():"")+t.suffix}function ms(e,t,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,s|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(ys(u,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Jn(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Jn(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,vs(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&vs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||Xn,updateRenderer:r||Xn,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function vs(e){return 0!=(1&e.flags)&&null===e.element.name}function ys(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function _s(e,t,n,r){const i=Cs(e.root,e.renderer,e,t,n);return Es(i,e.component,r),Ss(i),i}function bs(e,t,n){const r=Cs(e,e.renderer,null,null,t);return Es(r,n,n),Ss(r),r}function ws(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Cs(e.root,o,e,t.element.componentProvider,n)}function Cs(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Es(e,t,n){e.component=t,e.context=n}function Ss(e){let t;pr(e)&&(t=$n(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Yn.setCurrentNode(e,i),201347067&o.flags){case 1:const n=ns(e,t,o);let a=void 0;if(33554432&o.flags){const t=br(o.element.componentView);a=Yn.createComponentView(e,o,t,n)}rs(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Gr(e,o):void 0},16777216&o.flags&&(s.viewContainer=Br(e,o,s));break;case 2:s=fs(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:gi(e,o)});break;case 16:s={instance:mi(e,o)};break;case 16384:(s=r[i])||(s={instance:vi(e,o)}),32768&o.flags&&Es($n(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Fi;break;case 8:hs(e,t,o),s=void 0}r[i]=s}Ps(e,Os.CreateViewNodes),Us(e,201326592,268435456,0)}function Ts(e){xs(e),Yn.updateDirectives(e,1),Ds(e,Os.CheckNoChanges),Yn.updateRenderer(e,1),Ps(e,Os.CheckNoChanges),e.state&=-97}function Is(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Wn(e,0,256),xs(e),Yn.updateDirectives(e,0),Ds(e,Os.CheckAndUpdate),Us(e,67108864,536870912,0);let t=Wn(e,256,512);Ti(e,2097152|(t?1048576:0)),Yn.updateRenderer(e,0),Ps(e,Os.CheckAndUpdate),Us(e,134217728,536870912,0),Ti(e,8388608|((t=Wn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Wn(e,768,1024)}function ks(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&os(e,t,0,n)&&(p=!0),d>1&&os(e,t,1,r)&&(p=!0),d>2&&os(e,t,2,i)&&(p=!0),d>3&&os(e,t,3,o)&&(p=!0),d>4&&os(e,t,4,s)&&(p=!0),d>5&&os(e,t,5,a)&&(p=!0),d>6&&os(e,t,6,l)&&(p=!0),d>7&&os(e,t,7,u)&&(p=!0),d>8&&os(e,t,8,c)&&(p=!0),d>9&&os(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,o,s,a,l,u,c,h);case 2:return function(e,t,n,r,i,o,s,a,l,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&or(e,t,0,n)&&(d=!0),f>1&&or(e,t,1,r)&&(d=!0),f>2&&or(e,t,2,i)&&(d=!0),f>3&&or(e,t,3,o)&&(d=!0),f>4&&or(e,t,4,s)&&(d=!0),f>5&&or(e,t,5,a)&&(d=!0),f>6&&or(e,t,6,l)&&(d=!0),f>7&&or(e,t,7,u)&&(d=!0),f>8&&or(e,t,8,c)&&(d=!0),f>9&&or(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=gs(n,p[0])),f>1&&(d+=gs(r,p[1])),f>2&&(d+=gs(i,p[2])),f>3&&(d+=gs(o,p[3])),f>4&&(d+=gs(s,p[4])),f>5&&(d+=gs(a,p[5])),f>6&&(d+=gs(l,p[6])),f>7&&(d+=gs(u,p[7])),f>8&&(d+=gs(c,p[8])),f>9&&(d+=gs(h,p[9]));const g=Bn(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,l,u,c,h);case 16384:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=Qn(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&ir(e,t,0,n)&&(f=!0,g=Si(e,d,t,0,n,g)),m>1&&ir(e,t,1,r)&&(f=!0,g=Si(e,d,t,1,r,g)),m>2&&ir(e,t,2,i)&&(f=!0,g=Si(e,d,t,2,i,g)),m>3&&ir(e,t,3,o)&&(f=!0,g=Si(e,d,t,3,o,g)),m>4&&ir(e,t,4,s)&&(f=!0,g=Si(e,d,t,4,s,g)),m>5&&ir(e,t,5,a)&&(f=!0,g=Si(e,d,t,5,a,g)),m>6&&ir(e,t,6,l)&&(f=!0,g=Si(e,d,t,6,l,g)),m>7&&ir(e,t,7,u)&&(f=!0,g=Si(e,d,t,7,u,g)),m>8&&ir(e,t,8,c)&&(f=!0,g=Si(e,d,t,8,c,g)),m>9&&ir(e,t,9,h)&&(f=!0,g=Si(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&zn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&or(e,t,0,n)&&(p=!0),f>1&&or(e,t,1,r)&&(p=!0),f>2&&or(e,t,2,i)&&(p=!0),f>3&&or(e,t,3,o)&&(p=!0),f>4&&or(e,t,4,s)&&(p=!0),f>5&&or(e,t,5,a)&&(p=!0),f>6&&or(e,t,6,l)&&(p=!0),f>7&&or(e,t,7,u)&&(p=!0),f>8&&or(e,t,8,c)&&(p=!0),f>9&&or(e,t,9,h)&&(p=!0),p){const p=Kn(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,l);break;case 8:g=e.transform(r,i,o,s,a,l,u);break;case 9:g=e.transform(r,i,o,s,a,l,u,c);break;case 10:g=e.transform(r,i,o,s,a,l,u,c,h)}}p.value=g}return p}(e,t,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)os(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)or(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=gs(n[e],r[e]);i=t.text.prefix+i;const o=Bn(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=Qn(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)ir(e,t,a,n[a])&&(o=!0,s=Si(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&zn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)or(e,t,o,n[o])&&(i=!0);if(i){const i=Kn(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function xs(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=$n(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,lr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ns(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;d>0&&sr(e,t,0,n),d>1&&sr(e,t,1,r),d>2&&sr(e,t,2,i),d>3&&sr(e,t,3,o),d>4&&sr(e,t,4,s),d>5&&sr(e,t,5,a),d>6&&sr(e,t,6,l),d>7&&sr(e,t,7,u),d>8&&sr(e,t,8,c),d>9&&sr(e,t,9,h)}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)sr(e,t,r,n[r])}(e,t,r),!1}function Rs(e,t){if(Gn(e,t.nodeIndex).dirty)throw Vn(Yn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function As(e){if(!(128&e.state)){if(Ds(e,Os.Destroy),Ps(e,Os.Destroy),Ti(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=cr(e);if(t){const n=t.template._projectedViews;n&&($e(n,n.indexOf(e)),Yn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode($n(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Bn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Gn(e,n).destroy()}}(e),pr(e)&&e.renderer.destroy(),e.state|=128}}const Os=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ps(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ls($n(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ds(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=$n(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Ls(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ls(e,t){const n=e.state;switch(t){case Os.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ts(e):64&n&&Ms(e,Os.CheckNoChangesProjectedViews));break;case Os.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ts(e):64&n&&Ms(e,t));break;case Os.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Is(e):64&n&&Ms(e,Os.CheckAndUpdateProjectedViews));break;case Os.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Is(e):64&n&&Ms(e,t));break;case Os.Destroy:As(e);break;case Os.CreateViewNodes:Ss(e)}}function Ms(e,t){Ds(e,t),Ps(e,t)}function Us(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(Yn.setCurrentNode(e,i.nodeIndex),r){case 0:ls(e,i);break;case 1:Rs(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let Fs=!1;function js(e,t,n,r,i,o){const s=i.injector.get(gn);return bs(Hs(e,i,s,t,n),r,o)}function Vs(e,t,n,r,i,o){const s=i.injector.get(gn),a=Hs(e,i,new _a(s),t,n),l=Xs(r);return va(ra.create,bs,null,[a,l,o])}function Hs(e,t,n,r,i){const o=t.injector.get(kt),s=t.injector.get(tt),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function qs(e,t,n,r){const i=Xs(n);return va(ra.create,_s,null,[e,t,i,r])}function Ws(e,t,n,r){return n=Qs.get(t.element.componentProvider.provider.token)||Xs(n),va(ra.create,ws,null,[e,t,n,r])}function zs(e,t,n,r){return ni(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Bs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=Bs.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{$s.forEach((r,i)=>{me(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Bs.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=vr(i.deps),r.value=i.value)}if($s.size>0){let t=new Set(e.modules);$s.forEach((r,i)=>{if(t.has(me(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:vr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Jn(i)]=t}})}}(e=e.factory(()=>Xn)),e):e}(r))}const Bs=new Map,$s=new Map,Qs=new Map;function Ks(e){let t;Bs.set(e.token,e),"function"==typeof e.token&&(t=me(e.token))&&"function"==typeof t.providedIn&&$s.set(e.token,e)}function Gs(e,t){const n=br(t.viewDefFactory),r=br(n.nodes[0].element.componentView);Qs.set(e,r)}function Ys(){Bs.clear(),$s.clear(),Qs.clear()}function Xs(e){if(0===Bs.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Bs.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Xn);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Bs.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=vr(n.deps),e.value=n.value)}}}}function Zs(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return ks(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?Kn(e,t).value:void 0}function Js(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return Ns(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?Kn(e,t).value:void 0}function ea(e){return va(ra.detectChanges,Is,null,[e])}function ta(e){return va(ra.checkNoChanges,Ts,null,[e])}function na(e){return va(ra.destroy,As,null,[e])}const ra=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let ia,oa,sa;function aa(e,t){oa=e,sa=t}function la(e,t,n,r){return aa(e,t),va(ra.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ua(e,t){if(128&e.state)throw qn(ra[ia]);return aa(e,pa(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ha(e,o,r,i):da(e,o,r,i),16384&o.flags&&aa(e,pa(e,n)),224&o.flags?Kn(e,o.nodeIndex).value:void 0}),e)}function ca(e,t){if(128&e.state)throw qn(ra[ia]);return aa(e,fa(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ha(e,o,r,i):da(e,o,r,i),3&o.flags&&aa(e,fa(e,n)),224&o.flags?Kn(e,o.nodeIndex).value:void 0}),e)}function ha(e,t,n,r){if(ks(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(Rt,(...e)=>"-"+e[1].toLowerCase())}`)]=At(a))}const r=t.parent,a=$n(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function da(e,t,n,r){Ns(e,t,n,...r)}function pa(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function fa(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ga{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=hr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return $n(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Xr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){ma(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&ma(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!pr(e);)e=e.parent;return e.parent?$n(e.parent,hr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?dr(this.view,this.nodeDef):dr(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):Xn),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function ma(e,t,n){for(let r in t.references)n[r]=cs(e,t,t.references[r])}function va(e,t,n,r){const i=ia,o=oa,s=sa;try{ia=e;const a=t.apply(n,r);return oa=o,sa=s,ia=i,a}catch(u){if(Ze(u)||!oa)throw u;throw a=u,l=ya(),a instanceof Error||(a=new Error(a.toString())),Hn(a,l),a}var a,l}function ya(){return oa?new ga(oa,sa):null}class _a{constructor(e){this.delegate=e}createRenderer(e,t){return new ba(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ba{constructor(e){this.delegate=e,this.debugContextFactory=ya,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=$o(e);!function(e){Bo.delete(e.nativeNode)}(t),t instanceof Wo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new zo(n,null,r);t.name=e,Qo(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Qo(new Wo(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Qo(new Wo(t,null,n)),t}appendChild(e,t){const n=$o(e),r=$o(t);n&&r&&n instanceof zo&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=$o(e),i=$o(t),o=$o(n);r&&i&&r instanceof zo&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=$o(e),r=$o(t);n&&r&&n instanceof zo&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ya();return r&&Qo(new zo(n,null,r)),n}setAttribute(e,t,n,r){const i=$o(e);i&&i instanceof zo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=$o(e);r&&r instanceof zo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=$o(e);n&&n instanceof zo&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=$o(e);n&&n instanceof zo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=$o(e);i&&i instanceof zo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=$o(e);r&&r instanceof zo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=$o(e);r&&r instanceof zo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=$o(e);r&&r.listeners.push(new qo(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function wa(e,t,n){return new Ca(e,t,n)}class Ca extends ze{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(Fs)return;Fs=!0;const e=it()?{setCurrentNode:aa,createRootView:Vs,createEmbeddedView:qs,createComponentView:Ws,createNgModuleRef:zs,overrideProvider:Ks,overrideComponentView:Gs,clearOverrides:Ys,checkAndUpdateView:ea,checkNoChangesView:ta,destroyView:na,createDebugContext:(e,t)=>new ga(e,t),handleEvent:la,updateDirectives:ua,updateRenderer:ca}:{setCurrentNode:()=>{},createRootView:js,createEmbeddedView:_s,createComponentView:ws,createNgModuleRef:ni,overrideProvider:Xn,overrideComponentView:Xn,clearOverrides:Xn,checkAndUpdateView:Is,checkNoChangesView:Ts,destroyView:As,createDebugContext:(e,t)=>new ga(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Zs:Js,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Zs:Js,e)};Yn.setCurrentNode=e.setCurrentNode,Yn.createRootView=e.createRootView,Yn.createEmbeddedView=e.createEmbeddedView,Yn.createComponentView=e.createComponentView,Yn.createNgModuleRef=e.createNgModuleRef,Yn.overrideProvider=e.overrideProvider,Yn.overrideComponentView=e.overrideComponentView,Yn.clearOverrides=e.clearOverrides,Yn.checkAndUpdateView=e.checkAndUpdateView,Yn.checkNoChangesView=e.checkNoChangesView,Yn.destroyView=e.destroyView,Yn.resolveDep=Ci,Yn.createDebugContext=e.createDebugContext,Yn.handleEvent=e.handleEvent,Yn.updateDirectives=e.updateDirectives,Yn.updateRenderer=e.updateRenderer,Yn.dirtyParentQueries=as}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(br(this._ngModuleDefFactory));return Yn.createNgModuleRef(this.moduleType,e||Mt.NULL,this._bootstrapComponents,t)}}class Ea{}class Sa{}class Ta{}const Ia=new ke("Location Initialized");class ka{}const xa=new ke("appBaseHref");class Na{constructor(e,t){this._subject=new Mi,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Na.stripTrailingSlash(Ra(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Na.normalizeQueryParams(t))}normalize(e){return Na.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Ra(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Na.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Na.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function Ra(e){return e.replace(/\/index.html$/,"")}class Aa extends ka{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Na.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+Na.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+Na.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Oa extends ka{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Na.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Na.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+Na.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+Na.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Pa=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Da=function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Ni[t];if(n)return n;const r=t.split("-")[0];if(n=Ni[r])return n;if("en"===r)return Oi;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ri.PluralCase]},La=new ke("UseV4Plurals");class Ma{}class Ua extends Ma{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):Da(t||this.locale)(e)){case Pa.Zero:return"zero";case Pa.One:return"one";case Pa.Two:return"two";case Pa.Few:return"few";case Pa.Many:return"many";default:return"other"}}}function Fa(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class ja{}class Va{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ye(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let Ha=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class qa extends Ha{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class Wa{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class za{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){it()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Wa(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Ba(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Ba(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class Ba{constructor(e,t){this.record=e,this.view=t}}class $a{constructor(e,t){this._viewContainer=e,this._context=new Qa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ka("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ka("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Qa{constructor(){this.$implicit=null,this.ngIf=null}}function Ka(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ye(t)}'.`)}class Ga{}class Ya{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}let Xa=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class Za extends Xa{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}class Ja{}const el=new ke("DocumentToken"),tl="server";function nl(e){return e===tl}let rl=(()=>{class e{}return e.ngInjectableDef=ge({token:e,providedIn:"root",factory:()=>new il(Ve(el),window,Ve(tt))}),e})();class il{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const ol=new w(e=>e.complete());function sl(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):ol}function al(e){const t=new w(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function ll(...e){let t=e[e.length-1];switch(N(t)?e.pop():t=void 0,e.length){case 0:return sl(t);case 1:return t?B(e,t):al(e[0]);default:return B(e,t)}}class ul extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}function cl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}cl.prototype=Object.create(Error.prototype);const hl=cl,dl={};class pl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new fl(e,this.resultSelector))}}class fl extends H{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(V(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===dl?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function gl(e){return new w(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?$(n):sl()).subscribe(t)})}function ml(){return X(1)}function vl(e,t){return function(n){return n.lift(new yl(e,t))}}class yl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _l(e,this.predicate,this.thisArg))}}class _l extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function bl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}bl.prototype=Object.create(Error.prototype);const wl=bl;function Cl(e){return function(t){return 0===e?sl():t.lift(new El(e))}}class El{constructor(e){if(this.total=e,this.total<0)throw new wl}call(e,t){return t.subscribe(new Sl(e,this.total))}}class Sl extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function Tl(e,t,n){return function(r){return r.lift(new Il(e,t,n))}}class Il{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new kl(e,this.nextOrObserver,this.error,this.complete))}}class kl extends g{constructor(e,t,n,i){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const xl=(e=Nl)=>Tl({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Nl(){return new hl}function Rl(e=null){return t=>t.lift(new Al(e))}class Al{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ol(e,this.defaultValue))}}class Ol extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Pl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vl((t,n)=>e(t,n,r)):Y,Cl(1),n?Rl(t):xl(()=>new hl))}function Dl(e){return function(t){const n=new Ll(e),r=t.lift(n);return n.caught=r}}class Ll{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ml(e,this.selector,this.caught))}}class Ml extends H{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new R(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function Ul(e){return t=>0===e?sl():t.lift(new Fl(e))}class Fl{constructor(e){if(this.total=e,this.total<0)throw new wl}call(e,t){return t.subscribe(new jl(e,this.total))}}class jl extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Vl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vl((t,n)=>e(t,n,r)):Y,Ul(1),n?Rl(t):xl(()=>new hl))}class Hl{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new ql(e,this.predicate,this.thisArg,this.source))}}class ql extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Wl(e,t){return"function"==typeof t?n=>n.pipe(Wl((n,r)=>$(e(n,r)).pipe(q((e,i)=>t(n,e,r,i))))):t=>t.lift(new zl(e))}class zl{constructor(e){this.project=e}call(e,t){return t.subscribe(new Bl(e,this.project))}}class Bl extends H{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new R(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function $l(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ql(e,t,n))}}class Ql{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Kl(e,this.accumulator,this.seed,this.hasSeed))}}class Kl extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Gl(e,t){return Q(e,t,1)}class Yl{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Xl(e,this.callback))}}class Xl extends g{constructor(e,t){super(e),this.add(new d(t))}}let Zl=null;function Jl(){return Zl}class eu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class tu extends eu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const nu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ru=3,iu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ou={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},su=(()=>{if(Ie.Node)return Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class au extends tu{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new au,Zl||(Zl=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return nu}contains(e,t){return su.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===ru&&ou.hasOwnProperty(t)&&(t=ou[t]))}return iu[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=uu||(uu=document.querySelector("base"))?uu.getAttribute("href"):null;return null==t?null:(n=t,lu||(lu=document.createElement("a")),lu.setAttribute("href",n),"/"===lu.pathname.charAt(0)?lu.pathname:"/"+lu.pathname);var n}resetBaseElement(){uu=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Fa(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let lu,uu=null;function cu(){return!!window.history.pushState}const hu=new ke("TRANSITION_ID"),du=[{provide:ji,useFactory:function(e,t,n){return()=>{n.get(Vi).donePromise.then(()=>{const n=Jl();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[hu,el,Mt],multi:!0}];class pu{static init(){var e;e=new pu,So=e}addToWindow(e){Ie.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(e=>{const t=Ie.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?Jl().isShadowRoot(t)?this.findTestabilityInTree(e,Jl().getHost(t),!0):this.findTestabilityInTree(e,Jl().parentElement(t),!0):null}}function fu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}const gu=(()=>({ApplicationRef:Po,NgZone:po}))();function mu(e){return $o(e)}const vu=new ke("EventManagerPlugins");class yu{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class _u{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=Jl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class bu{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class wu extends bu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Jl().remove(e))}}const Cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Eu=/%COMP%/g,Su="_nghost-%COMP%",Tu="_ngcontent-%COMP%";function Iu(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Iu(e,i,n):(i=i.replace(Eu,e),n.push(i))}return n}function ku(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class xu{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Nu(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Qe.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Ou(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Qe.Native:case Qe.ShadowDom:return new Pu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Iu(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Nu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Cu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Cu[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Cu[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&mn.DashCase?e.style.setProperty(t,n,r&mn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Au(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Au(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ku(n)):this.eventManager.addEventListener(e,t,ku(n))}}const Ru=(()=>"@".charCodeAt(0))();function Au(e,t){if(e.charCodeAt(0)===Ru)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ou extends Nu{constructor(e,t,n,r){super(e),this.component=n;const i=Iu(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=Tu.replace(Eu,r+"-"+n.id),this.hostAttr=Su.replace(Eu,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Pu extends Nu{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Qe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Iu(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Du=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Lu=Du("addEventListener"),Mu=Du("removeEventListener"),Uu={},Fu="FALSE",ju="ANGULAR",Vu="addEventListener",Hu="removeEventListener",qu="__zone_symbol__propagationStopped",Wu="__zone_symbol__stopImmediatePropagation",zu=(()=>{const e="undefined"!=typeof Zone&&Zone[Du("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Bu=function(e){return!!zu&&zu.hasOwnProperty(e)},$u=function(e){const t=Uu[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[qu];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class Qu extends _u{constructor(e,t,n){super(e),this.ngZone=t,n&&nl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Wu])return;const e=Event.prototype[Wu]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[qu]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[Lu]||po.isInAngularZone()&&!Bu(t))e[Vu](t,r,!1);else{let n=Uu[t];n||(n=Uu[t]=Du(ju+t+Fu));let i=e[n];const o=i&&i.length>0;i||(i=e[n]=[]);const s=Bu(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===r){e=!0;break}e||i.push({zone:s,handler:r})}o||e[Lu](t,$u,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Mu];if(!r)return e[Hu].apply(e,[t,n,!1]);let i=Uu[t],o=i&&e[i];if(!o)return e[Hu].apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,$u,!1]):e[Hu].apply(e,[t,n,!1])}}const Ku={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Gu=new ke("HammerGestureConfig"),Yu=new ke("HammerLoader");class Xu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class Zu extends _u{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!Ku.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Ju=["alt","control","meta","shift"],ec={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class tc extends _u{constructor(e){super(e)}supports(e){return null!=tc.parseEventName(e)}addEventListener(e,t,n){const r=tc.parseEventName(t),i=tc.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jl().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=tc._normalizeKey(t.pop());let i="";if(Ju.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=Jl().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ju.forEach(r=>{r!=n&&(0,ec[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(e,t,n){return r=>{tc.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class nc{}class rc extends nc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case It.NONE:return t;case It.HTML:return t instanceof oc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{St=St||new ot(e);let r=t?String(t):"";n=St.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=St.getInertBodyElement(r)}while(r!==o);const s=new bt,a=s.sanitizeChildren(Tt(n)||n);return it()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Tt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case It.STYLE:return t instanceof sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Nt);return t&&lt(t[1])===t[1]||e.match(xt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(it()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case It.SCRIPT:if(t instanceof ac)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case It.URL:return t instanceof uc||t instanceof lc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),lt(String(t)));case It.RESOURCE_URL:if(t instanceof uc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof ic)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new oc(e)}bypassSecurityTrustStyle(e){return new sc(e)}bypassSecurityTrustScript(e){return new ac(e)}bypassSecurityTrustUrl(e){return new lc(e)}bypassSecurityTrustResourceUrl(e){return new uc(e)}}class ic{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class oc extends ic{getTypeName(){return"HTML"}}class sc extends ic{getTypeName(){return"Style"}}class ac extends ic{getTypeName(){return"Script"}}class lc extends ic{getTypeName(){return"URL"}}class uc extends ic{getTypeName(){return"ResourceURL"}}const cc=No(Ko,"browser",[{provide:Bi,useValue:"browser"},{provide:zi,useValue:function(){au.makeCurrent(),pu.init()},multi:!0},{provide:Ta,useClass:class extends Ta{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Jl().getLocation(),this._history=Jl().getHistory()}getBaseHrefFromDOM(){return Jl().getBaseHref(this._doc)}onPopState(e){Jl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Jl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){cu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){cu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[el]},{provide:el,useFactory:function(){return document},deps:[]}]);function hc(){return new tt}class dc{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:dc,providers:[{provide:Hi,useValue:e.appId},{provide:hu,useExisting:Hi},du]}}}"undefined"!=typeof window&&window;class pc{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new pc;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}function fc(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return pc.init(r)}class gc{}class mc{constructor(e,t){this.id=e,this.url=t}}class vc extends mc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yc extends mc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _c extends mc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bc extends mc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wc extends mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cc extends mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ec extends mc{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sc extends mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc extends mc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ac{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pc{}const Dc="primary";class Lc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mc(e){return new Lc(e)}const Uc="ngNavigationCancelingError";function Fc(e){const t=Error("NavigationCancelingError: "+e);return t[Uc]=!0,t}function jc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Vc{constructor(e,t){this.routes=e,this.module=t}}function Hc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];qc(r,Wc(t,r))}}function qc(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Dc)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Hc(e.children,t)}function Wc(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function zc(e){const t=e.children&&e.children.map(zc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Dc&&(n.component=Pc),n}function Bc(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function $c(e){return Array.prototype.concat.apply([],e)}function Qc(e){return e.length>0?e[e.length-1]:null}function Kc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Gc(e){return en(e)?e:Jt(e)?$(Promise.resolve(e)):ll(e)}function Yc(e,t,n){return n?function(e,t){return Bc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!eh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!eh(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!eh(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!eh(n.segments,e)&&!!n.children[Dc]&&t(n.children[Dc],r,o)}}(t,n,n.segments)}(e.root,t.root)}class Xc{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mc(this.queryParams)),this._queryParamMap}toString(){return ih.serialize(this)}}class Zc{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kc(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}}class Jc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mc(this.parameters)),this._parameterMap}toString(){return hh(this)}}function eh(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function th(e,t){let n=[];return Kc(e.children,(e,r)=>{r===Dc&&(n=n.concat(t(e,r)))}),Kc(e.children,(e,r)=>{r!==Dc&&(n=n.concat(t(e,r)))}),n}class nh{}class rh{parse(e){const t=new mh(e);return new Xc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return oh(t);if(n){const n=t.children[Dc]?e(t.children[Dc],!1):"",r=[];return Kc(t.children,(t,n)=>{n!==Dc&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=th(t,(n,r)=>r===Dc?[e(t.children[Dc],!1)]:[`${r}:${e(n,!1)}`]);return`${oh(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${ah(t)}=${ah(e)}`).join("&"):`${ah(t)}=${ah(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const ih=new rh;function oh(e){return e.segments.map(e=>hh(e)).join("/")}function sh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ah(e){return sh(e).replace(/%3B/gi,";")}function lh(e){return sh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(e){return decodeURIComponent(e)}function ch(e){return uh(e.replace(/\+/g,"%20"))}function hh(e){return`${lh(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${lh(e)}=${lh(t[e])}`).join("")}`;var t}const dh=/^[^\/()?;=#]+/;function ph(e){const t=e.match(dh);return t?t[0]:""}const fh=/^[^=?&#]+/,gh=/^[^?&#]+/;class mh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zc([],{}):new Zc([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Dc]=new Zc(e,t)),n}parseSegment(){const e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Jc(uh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ph(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=ph(this.remaining);e&&this.capture(n=e)}e[uh(t)]=uh(n)}parseQueryParam(e){const t=function(e){const t=e.match(fh);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(gh);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=ch(t),i=ch(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ph(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Dc);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Dc]:new Zc([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=yh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_h(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return _h(e,this._root).map(e=>e.value)}}function yh(e,t){if(e===t.value)return t;for(const n of t.children){const t=yh(e,n);if(t)return t}return null}function _h(e,t){if(e===t.value)return[t];for(const n of t.children){const r=_h(e,n);if(r.length)return r.unshift(t),r}return[]}class bh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wh(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ch extends vh{constructor(e,t){super(e),this.snapshot=t,xh(this,e)}toString(){return this.snapshot.toString()}}function Eh(e,t){const n=function(e,t){const n=new Ih([],{},{},"",{},Dc,t,null,e.root,-1,{});return new kh("",new bh(n,[]))}(e,t),r=new ul([new Jc("",{})]),i=new ul({}),o=new ul({}),s=new ul({}),a=new ul(""),l=new Sh(r,i,s,a,o,Dc,t,n.root);return l.snapshot=n.root,new Ch(new bh(l,[]),n)}class Sh{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(e=>Mc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(e=>Mc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Th(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ih{constructor(e,t,n,r,i,o,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kh extends vh{constructor(e,t){super(t),this.url=e,xh(this,t)}toString(){return Nh(this._root)}}function xh(e,t){t.value._routerState=e,t.children.forEach(t=>xh(e,t))}function Nh(e){const t=e.children.length>0?` { ${e.children.map(Nh).join(", ")} } `:"";return`${e.value}${t}`}function Rh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Bc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Bc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ah(e,t){var n,r;return Bc(e.params,t.params)&&eh(n=e.url,r=t.url)&&n.every((e,t)=>Bc(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ah(e.parent,t.parent))}function Oh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ph(e,t,n,r,i){let o={};return r&&Kc(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Xc(n.root===e?t:function e(t,n,r){const i={};return Kc(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new Zc(t.segments,i)}(n.root,e,t),o,i)}class Dh{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Oh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Qc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Mh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Dc]:`${e}`}function Uh(e,t,n){if(e||(e=new Zc([],{})),0===e.segments.length&&e.hasChildren())return Fh(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=Mh(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!qh(s,a,t))return o;r+=2}else{if(!qh(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Zc(e.segments.slice(0,r.pathIndex),{});return t.children[Dc]=new Zc(e.segments.slice(r.pathIndex),e.children),Fh(t,0,i)}return r.match&&0===i.length?new Zc(e.segments,{}):r.match&&!e.hasChildren()?jh(e,t,n):r.match?Fh(e,0,i):jh(e,t,n)}function Fh(e,t,n){if(0===n.length)return new Zc(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Dc]:e}:void 0===e[0].outlets?{[Dc]:e}:e[0].outlets}(n),i={};return Kc(r,(n,r)=>{null!==n&&(i[r]=Uh(e.children[r],t,n))}),Kc(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Zc(e.segments,i)}}function jh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Vh(n[i].outlets);return new Zc(r,e)}if(0===i&&Oh(n[0])){r.push(new Jc(e.segments[t].path,n[0])),i++;continue}const o=Mh(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Oh(s)?(r.push(new Jc(o,Hh(s))),i+=2):(r.push(new Jc(o,{})),i++)}return new Zc(r,{})}function Vh(e){const t={};return Kc(e,(e,n)=>{null!==e&&(t[n]=jh(new Zc([],{}),0,e))}),t}function Hh(e){const t={};return Kc(e,(e,n)=>t[n]=`${e}`),t}function qh(e,t,n){return e==n.path&&Bc(t,n.parameters)}const Wh=(e,t,n)=>q(r=>(new zh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class zh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Rh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=wh(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Kc(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=wh(e),i=e.value.component?n.children:t;Kc(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=wh(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ac(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Nc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Rh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bh(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Bh(e){Rh(e.value),e.children.forEach(Bh)}function $h(e){return"function"==typeof e}function Qh(e){return e instanceof Xc}class Kh{constructor(e){this.segmentGroup=e||null}}class Gh{constructor(e){this.urlTree=e}}function Yh(e){return new w(t=>t.error(new Kh(e)))}function Xh(e){return new w(t=>t.error(new Gh(e)))}function Zh(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jh{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(We)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Dc).pipe(q(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dl(e=>{if(e instanceof Gh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Kh)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dc).pipe(q(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Dl(e=>{if(e instanceof Kh)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Zc([],{[Dc]:e}):e;return new Xc(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(q(e=>new Zc([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return ll({});const n=[],r=[],i={};return Kc(e,(e,o)=>{const s=t(o,e).pipe(q(e=>i[o]=e));o===Dc?n.push(s):r.push(s)}),ll.apply(null,n.concat(r)).pipe(ml(),Pl(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return ll(...n).pipe(q(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Dl(e=>{if(e instanceof Kh)return ll(null);throw e}))),ml(),Vl(e=>!!e),Dl((e,n)=>{if(e instanceof hl||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return ll(new Zc([],{}));throw new Kh(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return rd(r)!==o?Yh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Yh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xh(i):this.lineralizeSegments(n,i).pipe(Q(n=>{const i=new Zc(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=ed(t,r,i);if(!s)return Yh(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Xh(c):this.lineralizeSegments(r,c).pipe(Q(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(q(e=>(n._loadedConfig=e,new Zc(r,{})))):ll(new Zc(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=ed(t,n,r);if(!i)return Yh(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(Q(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>nd(e,t,n)&&rd(n)!==Dc)}(e,n,r)?{segmentGroup:td(new Zc(t,function(e,t){const n={};n[Dc]=t;for(const r of e)""===r.path&&rd(r)!==Dc&&(n[rd(r)]=new Zc([],{}));return n}(r,new Zc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>nd(e,t,n))}(e,n,r)?{segmentGroup:td(new Zc(e.segments,function(e,t,n,r){const i={};for(const o of n)nd(e,t,o)&&!r[rd(o)]&&(i[rd(o)]=new Zc([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(q(e=>new Zc(o,e))):0===r.length&&0===s.length?ll(new Zc(o,{})):this.expandSegment(n,i,r,s,Dc,!0).pipe(q(e=>new Zc(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?ll(new Vc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ll(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?$(r).pipe(q(r=>{const i=e.get(r);let o;if(function(e){return e&&$h(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!$h(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Gc(o)})).pipe(ml(),(i=e=>!0===e,e=>e.lift(new Hl(i,void 0,e)))):ll(!0);var i}(e.injector,t,n).pipe(Q(n=>n?this.configLoader.load(e.injector,t).pipe(q(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Fc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):ll(new Vc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ll(n);if(r.numberOfChildren>1||!r.children[Dc])return Zh(e.redirectTo);r=r.children[Dc]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Xc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Kc(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Kc(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Zc(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function ed(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||jc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function td(e){if(1===e.numberOfChildren&&e.children[Dc]){const t=e.children[Dc];return new Zc(e.segments.concat(t.segments),t.children)}return e}function nd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function rd(e){return e.outlet||Dc}class id{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class od{constructor(e,t){this.component=e,this.route=t}}function sd(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=wh(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!eh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!eh(e.url,t.url)||!Bc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ah(e,t)||!Bc(e.queryParams,t.queryParams);case"paramsChange":default:return!Ah(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new id(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new od(l&&l.outlet&&l.outlet.component||null,a))}else a&&ld(n,l,o),o.canActivateChecks.push(new id(i)),e(t,null,s.component?l?l.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),Kc(s,(e,t)=>ld(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function ad(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ld(e,t,n){const r=wh(e),i=e.value;Kc(r,(e,r)=>{ld(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new od(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const ud=Symbol("INITIAL_VALUE");function cd(){return Wl(e=>(function(...e){let t=null,n=null;return N(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),B(e,n).lift(new pl(t))})(...e.map(e=>e.pipe(Ul(1),function(...e){return t=>{let n=e[e.length-1];N(n)?e.pop():n=null;const r=e.length;return function(...e){return ml()(ll(...e))}(1!==r||n?r>0?B(e,n):sl(n):al(e[0]),t)}}(ud)))).pipe($l((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==ud)return e;if(r===ud&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Qh(r))return r}return e},e)},ud),vl(e=>e!==ud),q(e=>Qh(e)?e:!0===e),Ul(1)))}function hd(e,t){return null!==e&&t&&t(new Rc(e)),ll(!0)}function dd(e,t){return null!==e&&t&&t(new xc(e)),ll(!0)}function pd(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?ll(r.map(r=>gl(()=>{const i=ad(r,t,n);let o;if(function(e){return e&&$h(e.canActivate)}(i))o=Gc(i.canActivate(t,e));else{if(!$h(i))throw new Error("Invalid CanActivate guard");o=Gc(i(t,e))}return o.pipe(Vl())}))).pipe(cd()):ll(!0)}function fd(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>gl(()=>ll(t.guards.map(i=>{const o=ad(i,t.node,n);let s;if(function(e){return e&&$h(e.canActivateChild)}(o))s=Gc(o.canActivateChild(r,e));else{if(!$h(o))throw new Error("Invalid CanActivateChild guard");s=Gc(o(r,e))}return s.pipe(Vl())})).pipe(cd())));return ll(i).pipe(cd())}class gd{}class md{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=_d(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dc),n=new Ih([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bh(n,t),i=new kh(this.url,r);return this.inheritParamsAndData(i._root),ll(i)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Th(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=th(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Dc?-1:t.value.outlet===Dc?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof gd))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new gd}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new gd;if((e.outlet||Dc)!==r)throw new gd;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?Qc(n).parameters:{};i=new Ih(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cd(e),r,e.component,e,vd(t),yd(t)+n.length,Ed(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new gd;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||jc)(n,e,t);if(!r)throw new gd;const i={};Kc(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Ih(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cd(e),r,e.component,e,vd(t),yd(t)+o.length,Ed(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=_d(t,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new bh(i,e)]}if(0===a.length&&0===u.length)return[new bh(i,[])];const c=this.processSegment(a,l,u,Dc);return[new bh(i,c)]}}function vd(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function yd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function _d(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>bd(e,t,n)&&wd(n)!==Dc)}(e,n,r)){const i=new Zc(t,function(e,t,n,r){const i={};i[Dc]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&wd(o)!==Dc){const n=new Zc([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[wd(o)]=n}return i}(e,t,r,new Zc(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>bd(e,t,n))}(e,n,r)){const o=new Zc(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(bd(e,n,a)&&!i[wd(a)]){const n=new Zc([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[wd(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Zc(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function bd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function wd(e){return e.outlet||Dc}function Cd(e){return e.data||{}}function Ed(e){return e.resolve||{}}function Sd(e,t,n,r){const i=ad(e,t,r);return Gc(i.resolve?i.resolve(t,n):i(t,n))}function Td(e){return function(t){return t.pipe(Wl(t=>{const n=e(t);return n?$(n).pipe(q(()=>t)):$([t])}))}}class Id{}class kd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const xd=new ke("ROUTES");class Nd{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Vc($c(r.injector.get(xd)).map(zc),r)}))}loadModuleFactory(e){return"string"==typeof e?$(this.loader.load(e)):Gc(e()).pipe(Q(e=>e instanceof ze?ll(e):$(this.compiler.compileModuleAsync(e))))}}class Rd{}class Ad{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Od(e){throw e}function Pd(e,t,n){return t.parse("/")}function Dd(e,t){return ll(null)}class Ld{constructor(e,t,n,r,i,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Od,this.malformedUriErrorHandler=Pd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dd,afterPreactivation:Dd},this.urlHandlingStrategy=new Ad,this.routeReuseStrategy=new kd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(We),this.console=i.get(Qi);const l=i.get(po);this.isNgZoneEnabled=l instanceof po,this.resetConfig(a),this.currentUrlTree=new Xc(new Zc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nd(o,s,e=>this.triggerEvent(new Ic(e)),e=>this.triggerEvent(new kc(e))),this.routerState=Eh(this.currentUrlTree,this.rootComponentType),this.transitions=new ul({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(vl(e=>0!==e.id),q(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Wl(e=>{let n=!1,r=!1;return ll(e).pipe(Tl(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Wl(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ll(e).pipe(Wl(e=>{const n=this.transitions.getValue();return t.next(new vc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ol:[e]}),Wl(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(Wl(i=>(function(e,t,n,r,i){return new Jh(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(q(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tl(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(Q(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new md(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(q(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Tl(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Tl(e=>{const n=new wc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new vc(n,this.serializeUrl(r),i,o);t.next(a);const l=Eh(r,this.rootComponentType).snapshot;return ll(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ol}),Td(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Tl(e=>{const t=new Cc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),q(e=>Object.assign({},e,{guards:sd(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ll(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return $(e).pipe(Q(e=>(function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ll(o.map(o=>{const s=ad(o,t,i);let a;if(function(e){return e&&$h(e.canDeactivate)}(s))a=Gc(s.canDeactivate(e,t,n,r));else{if(!$h(s))throw new Error("Invalid CanDeactivate guard");a=Gc(s(e,t,n,r))}return a.pipe(Vl())})).pipe(cd()):ll(!0)})(e.component,e.route,n,t,r)),Vl(e=>!0!==e,!0))}(s,r,i,e).pipe(Q(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return $(t).pipe(Gl(t=>$([dd(t.route.parent,r),hd(t.route,r),fd(e,t.path,n),pd(e,t.route,n)]).pipe(ml(),Vl(e=>!0!==e,!0))),Vl(e=>!0!==e,!0))}(r,o,e,t):ll(n)),q(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Tl(e=>{if(Qh(e.guardsResult)){const t=Fc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Tl(e=>{const t=new Ec(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),vl(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new _c(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Td(e=>{if(e.guards.canActivateChecks.length)return ll(e).pipe(Tl(e=>{const t=new Sc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?$(i).pipe(Gl(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return ll({});if(1===i.length){const o=i[0];return Sd(e[o],t,n,r).pipe(q(e=>({[o]:e})))}const o={};return $(i).pipe(Q(i=>Sd(e[i],t,n,r).pipe(q(e=>(o[i]=e,e))))).pipe(Pl(),q(()=>o))}(e._resolve,e,t,r).pipe(q(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Th(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return _($l(e,t),Cl(1),Rl(t))(n)}:function(t){return _($l((t,n,r)=>e(t,n,r+1)),Cl(1))(t)}}((e,t)=>e),q(e=>n)):ll(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Tl(e=>{const t=new Tc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Td(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),q(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new bh(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Sh(new ul((i=n.value).url),new ul(i.params),new ul(i.queryParams),new ul(i.fragment),new ul(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new bh(r,o)}}var i}(e,t._root,n?n._root:void 0);return new Ch(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Tl(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Wh(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Tl({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new Yl(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new _c(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Dl(n=>{if(r=!0,function(e){return e&&e[Uc]}(n)){const r=Qh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new _c(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new bc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return ol}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Hc(e),this.config=e.map(zc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=t;it()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Ph(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Dh(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Kc(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Dh(n,t,r)}(n);if(o.toRoot())return Ph(t.root,new Zc([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Lh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Lh(n.snapshot._urlSegment,!0,0);const r=Oh(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Lh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Fh(s.segmentGroup,s.index,o.commands):Uh(s.segmentGroup,s.index,o.commands);return Ph(s.segmentGroup,a,t,r,i)}(l,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){it()&&this.isNgZoneEnabled&&!po.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Qh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Qh(e))return Yc(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Yc(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new yc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Md{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){it()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Fd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}class Ud{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof yc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){it()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Fd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}function Fd(e){return""===e||!!e}class jd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vd,this.attachRef=null}}class Vd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new jd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Hd{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mi,this.deactivateEvents=new Mi,this.name=r||Dc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class qd{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Sh?this.route:e===Vd?this.childContexts:this.parent.get(e,t)}}class Wd{}class zd{preload(e,t){return t().pipe(Dl(()=>ll(null)))}}class Bd{preload(e,t){return ll(null)}}class $d{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Nd(t,n,t=>e.triggerEvent(new Ic(t)),t=>e.triggerEvent(new kc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(vl(e=>e instanceof yc),Gl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(We);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return $(n).pipe(X(),q(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Q(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class Qd{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Oc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Kd=new ke("ROUTER_CONFIGURATION"),Gd=new ke("ROUTER_FORROOT_GUARD"),Yd=[Na,{provide:nh,useClass:rh},{provide:Ld,useFactory:rp,deps:[Po,nh,Vd,Na,Mt,Lo,to,xd,Kd,[Rd,new ce],[Id,new ce]]},Vd,{provide:Sh,useFactory:ip,deps:[Ld]},{provide:Lo,useClass:Vo},$d,Bd,zd,{provide:Kd,useValue:{enableTracing:!1}}];function Xd(){return new xo("Router",Ld)}class Zd{constructor(e,t){}static forRoot(e,t){return{ngModule:Zd,providers:[Yd,np(e),{provide:Gd,useFactory:tp,deps:[[Ld,new ce,new de]]},{provide:Kd,useValue:t||{}},{provide:ka,useFactory:ep,deps:[Ta,[new ue(xa),new ce],Kd]},{provide:Qd,useFactory:Jd,deps:[Ld,rl,Kd]},{provide:Wd,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Bd},{provide:xo,multi:!0,useFactory:Xd},[op,{provide:ji,multi:!0,useFactory:sp,deps:[op]},{provide:lp,useFactory:ap,deps:[op]},{provide:$i,multi:!0,useExisting:lp}]]}}static forChild(e){return{ngModule:Zd,providers:[np(e)]}}}function Jd(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Qd(e,t,n)}function ep(e,t,n={}){return n.useHash?new Aa(e,t):new Oa(e,t)}function tp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function np(e){return[{provide:Bt,multi:!0,useValue:e},{provide:xd,multi:!0,useValue:e}]}function rp(e,t,n,r,i,o,s,a,l={},u,c){const h=new Ld(null,t,n,r,i,o,s,$c(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=Jl();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function ip(e){return e.routerState.root}class op{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Ia,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ld),r=this.injector.get(Kd);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?ll(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Kd),n=this.injector.get($d),r=this.injector.get(Qd),i=this.injector.get(Ld),o=this.injector.get(Po);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function sp(e){return e.appInitializer.bind(e)}function ap(e){return e.bootstrapListener.bind(e)}const lp=new ke("Router Initializer");var up=nr({encapsulation:2,styles:[],data:{}});function cp(e){return ms(0,[(e()(),ts(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),di(1,212992,null,0,Hd,[Vd,Fn,ln,[8,null],Ot],null,null)],(function(e,t){e(t,1,0)}),null)}function hp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"ng-component",[],null,null,null,cp,up)),di(1,49152,null,0,Pc,[],null,null)],null,null)}var dp=qr("ng-component",Pc,hp,{},{},[]);class pp{swipe(e,t){const n=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],r=(new Date).getTime();if("start"===t)this._swipeCoord=n,this._swipeTime=r;else if("end"===t){const e=[n[0]-this._swipeCoord[0],n[1]-this._swipeCoord[1]];if(r-this._swipeTime<1e3&&Math.abs(e[1])<Math.abs(e[0])&&Math.abs(e[0])>30)return e[0]<0?1:-1}return 0}}const fp="firstSlide";class gp{constructor(e,t,n,r,i,o,s){this._swipeService=e,this._renderer=t,this._transferState=n,this._ngZone=r,this.sanitizer=i,this.platform_id=o,this.document=s,this.slideIndex=-1,this.slides=[],this._initial=!0,this._isHidden=!1,this.imageUrls=[],this.height="100%",this.showArrows=!0,this.disableSwiping=!1,this.autoPlay=!1,this.autoPlayInterval=3333,this.stopAutoPlayOnSlide=!0,this.autoPlayWaitForLazyLoad=!1,this.backgroundSize="cover",this.backgroundPosition="center center",this.backgroundRepeat="no-repeat",this.showDots=!1,this.dotColor="#FFF",this.showCaptions=!0,this.captionColor="#FFF",this.captionBackground="rgba(0, 0, 0, .35)",this.lazyLoad=!1,this.hideOnNoSlides=!1,this.fullscreen=!1,this.onSlideLeft=new Mi,this.onSlideRight=new Mi,this.onSwipeLeft=new Mi,this.onSwipeRight=new Mi,this.onFullscreenExit=new Mi,this.onIndexChanged=new Mi}get safeStyleDotColor(){return this.sanitizer.bypassSecurityTrustStyle(`--dot-color: ${this.dotColor}`)}ngOnInit(){void 0!==this.debug&&console.warn("[Deprecation Warning]: The debug input will be removed from ng-simple-slideshow in 1.3.0")}ngDoCheck(){this.imageUrls&&this.imageUrls.length>0?(!0===this._initial&&(this._urlCache=Array.from(this.imageUrls)),!0===this._isHidden&&(this._renderer.removeStyle(this.container.nativeElement,"display"),this._isHidden=!1),this.setSlides()):!0===this.hideOnNoSlides&&(this._renderer.setStyle(this.container.nativeElement,"display","none"),this._isHidden=!0),this.setStyles(),this.handleAutoPlay()}onSlide(e,t){this.handleAutoPlay(this.stopAutoPlayOnSlide),this.slide(e,t)}onSwipe(e,t){if(!0===this.disableSwiping)return;const n=this._swipeService.swipe(e,t);0!==n&&this.onSlide(n,!0)}onClick(e){e.preventDefault();const t=this.slides.length>0&&this.slides[this.slideIndex];t&&t.image.clickAction?t.image.clickAction():t&&t.image.href&&(this.document.location.href=t.image.href)}goToSlide(e){const t=this.slideIndex;this.slideIndex=e-1,this.setSlideIndex(1),this.slides[this.slideIndex].loaded||this.loadRemainingSlides(),this.handleAutoPlay(this.stopAutoPlayOnSlide),this.slideRight(t),this.slides[t].selected=!1,this.slides[this.slideIndex].selected=!0}getSlideStyle(e){const t=this.slides[e];return t.loaded?{"background-image":"url("+t.image.url+")","background-size":t.image.backgroundSize||this.backgroundSize,"background-position":t.image.backgroundPosition||this.backgroundPosition,"background-repeat":t.image.backgroundRepeat||this.backgroundRepeat}:{"background-image":void 0,"background-size":void 0,"background-position":void 0,"background-repeat":void 0}}exitFullScreen(e){e.preventDefault(),this.fullscreen=!1,this.onFullscreenExit.emit(!0)}slide(e,t){const n=this.slideIndex;this.setSlideIndex(e),this.slides[this.slideIndex].loaded||this.loadRemainingSlides(),1===e?this.slideRight(n,t):this.slideLeft(n,t),this.slides[n].selected=!1,this.slides[this.slideIndex].selected=!0}setSlideIndex(e){this.slideIndex+=e,this.slideIndex<0&&(this.slideIndex=this.slides.length-1),this.slideIndex>=this.slides.length&&(this.slideIndex=0),this.onIndexChanged.emit(this.slideIndex)}slideLeft(e,t){!0===t?this.onSwipeLeft.emit(this.slideIndex):this.onSlideLeft.emit(this.slideIndex),this.slides[this.getLeftSideIndex(e)].leftSide=!1,this.slides[e].leftSide=!0,this.slides[e].action="slideOutLeft",this.slides[this.slideIndex].rightSide=!1,this.slides[this.getRightSideIndex()].rightSide=!0,this.slides[this.slideIndex].action="slideInRight"}slideRight(e,t){!0===t?this.onSwipeRight.emit(this.slideIndex):this.onSlideRight.emit(this.slideIndex),this.slides[this.getRightSideIndex(e)].rightSide=!1,this.slides[e].rightSide=!0,this.slides[e].action="slideOutRight",this.slides[this.slideIndex].leftSide=!1,this.slides[this.getLeftSideIndex()].leftSide=!0,this.slides[this.slideIndex].action="slideInLeft"}setSlides(){this.imageUrls&&(this.checkCache()||!0===this._initial)&&(this._initial=!1,this._urlCache=Array.from(this.imageUrls),this.slides=[],!0===this.lazyLoad?this.buildLazyLoadSlideArray():this.buildSlideArray())}buildLazyLoadSlideArray(){for(let e of this.imageUrls)this.slides.push({image:"string"==typeof e?{url:null}:{url:null,href:e.href||""},action:"",leftSide:!1,rightSide:!1,selected:!1,loaded:!1});this.slideIndex=0,this.slides[this.slideIndex].selected=!0,this.loadFirstSlide(),this.onIndexChanged.emit(this.slideIndex)}buildSlideArray(){for(let e of this.imageUrls)this.slides.push({image:"string"==typeof e?{url:e}:e,action:"",leftSide:!1,rightSide:!1,selected:!1,loaded:!0});this.slideIndex=0,this.slides[this.slideIndex].selected=!0,this.onIndexChanged.emit(this.slideIndex)}loadFirstSlide(){const e=this.slideIndex,t=this.imageUrls[e];if(nl(this.platform_id))this.slides[e].image="string"==typeof t?{url:t}:t,this.slides[e].loaded=!0,this._transferState.set(fp,this.slides[e]);else{const n=this._transferState.get(fp,null);if(null===n){let n=new Image;n.src="string"==typeof t?t:t.url,n.addEventListener("load",()=>{this.slides[e].image="string"==typeof t?{url:t}:t,this.slides[e].loaded=!0})}else this.slides[e]=n,this._transferState.remove(fp)}}loadRemainingSlides(){for(let e=0;e<this.slides.length;e++)this.slides[e].loaded||new Promise(t=>{const n=this.imageUrls[e];let r=new Image;r.addEventListener("load",()=>{this.slides[e].image="string"==typeof n?{url:n}:n,this.slides[e].loaded=!0,t()}),r.src="string"==typeof n?n:n.url})}handleAutoPlay(e){nl(this.platform_id)||(!0===e||!1===this.autoPlay?this._autoplayIntervalId&&(this._ngZone.runOutsideAngular(()=>clearInterval(this._autoplayIntervalId)),this._autoplayIntervalId=null):this._autoplayIntervalId||this._ngZone.runOutsideAngular(()=>{this._autoplayIntervalId=setInterval(()=>{(!this.autoPlayWaitForLazyLoad||this.autoPlayWaitForLazyLoad&&this.slides[this.slideIndex].loaded)&&this._ngZone.run(()=>this.slide(1))},this.autoPlayInterval)}))}setStyles(){this.fullscreen?(this._renderer.setStyle(this.container.nativeElement,"height","100%"),this._renderer.setStyle(this.container.nativeElement,"background-color","white")):(this._renderer.removeStyle(this.container.nativeElement,"background-color"),this.height&&this._renderer.setStyle(this.container.nativeElement,"height",this.height),this.minHeight&&this._renderer.setStyle(this.container.nativeElement,"min-height",this.minHeight)),this.arrowSize&&(this._renderer.setStyle(this.prevArrow.nativeElement,"height",this.arrowSize),this._renderer.setStyle(this.prevArrow.nativeElement,"width",this.arrowSize),this._renderer.setStyle(this.nextArrow.nativeElement,"height",this.arrowSize),this._renderer.setStyle(this.nextArrow.nativeElement,"width",this.arrowSize))}checkCache(){return!(this._urlCache.length===this.imageUrls.length&&this._urlCache.every((e,t)=>e===this.imageUrls[t]))}getLeftSideIndex(e){return void 0===e&&(e=this.slideIndex),--e<0&&(e=this.slides.length-1),e}getRightSideIndex(e){return void 0===e&&(e=this.slideIndex),++e>=this.slides.length&&(e=0),e}trackByFn(e,t){return t.image}}class mp{}var vp=nr({encapsulation:0,styles:[".display-none[_ngcontent-%COMP%] {\n      display: none !important; }\n\n    .fs-container[_ngcontent-%COMP%] {\n      display: block;\n      cursor: pointer;\n      position: fixed;\n      z-index: 1;\n      top: 16px;\n      left: 16px;\n      width: 46px;\n      height: 46px;\n      text-align: center;\n      padding: 0;\n      background-color: rgba(0, 0, 0, 0.2);\n      -webkit-transition: all .2s ease-in-out;\n      transition: all .2s ease-in-out; }\n      .fs-container[_ngcontent-%COMP%]:hover {\n        background-color: rgba(0, 0, 0, 0.33); }\n      .fs-container[_ngcontent-%COMP%]   .arrow-exitfs[_ngcontent-%COMP%] {\n        display: block;\n        width: 30px;\n        height: 30px;\n        background: transparent;\n        border-top: 2px solid #f2f2f2;\n        -webkit-transition: all .2s ease-in-out;\n        transition: all .2s ease-in-out; }\n        .fs-container[_ngcontent-%COMP%]   .arrow-exitfs.prev[_ngcontent-%COMP%] {\n          -webkit-transform: rotate(-45deg);\n                  transform: rotate(-45deg);\n          position: relative;\n          left: 18px;\n          top: 18px; }\n        .fs-container[_ngcontent-%COMP%]   .arrow-exitfs[_ngcontent-%COMP%]:after {\n          content: '';\n          width: 30px;\n          height: 30px;\n          background: transparent;\n          border-top: 2px solid #f2f2f2;\n          -webkit-transform: rotate(90deg);\n                  transform: rotate(90deg);\n          position: absolute;\n          left: -15px;\n          top: -17px; }\n\n    .slideshow-container.slideshow-container-fs[_ngcontent-%COMP%] {\n      position: fixed;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%; }\n\n    .slideshow-container[_ngcontent-%COMP%] {\n      position: relative;\n      display: block;\n      margin: auto;\n      height: 100%;\n      width: 100%;\n      overflow: hidden; }\n      .slideshow-container[_ngcontent-%COMP%]   .hide-slide[_ngcontent-%COMP%] {\n        visibility: hidden;\n        position: absolute;\n        top: -100vw;\n        left: -100vw;\n        opacity: 0; }\n      .slideshow-container[_ngcontent-%COMP%]   .slides[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        width: 100%;\n        visibility: visible;\n        opacity: 1;\n        display: block; }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.selected[_ngcontent-%COMP%] {\n          left: 0; }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.left-slide[_ngcontent-%COMP%] {\n          left: -100%; }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.right-slide[_ngcontent-%COMP%] {\n          left: 100%; }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.slide-in-left[_ngcontent-%COMP%] {\n          left: 0;\n          -webkit-animation: slideInLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideInLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.slide-in-right[_ngcontent-%COMP%] {\n          left: 0;\n          -webkit-animation: slideInRight 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideInRight 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.slide-out-left[_ngcontent-%COMP%] {\n          left: -100%;\n          -webkit-animation: slideOutLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideOutLeft 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.slide-out-right[_ngcontent-%COMP%] {\n          left: 100%;\n          -webkit-animation: slideOutRight 0.5s cubic-bezier(0.42, 0, 0.58, 1);\n                  animation: slideOutRight 0.5s cubic-bezier(0.42, 0, 0.58, 1); }\n        .slideshow-container[_ngcontent-%COMP%]   .slides.link[_ngcontent-%COMP%] {\n          cursor: pointer; }\n        .slideshow-container[_ngcontent-%COMP%]   .slides[_ngcontent-%COMP%]:not(.link) {\n          cursor: default; }\n      .slideshow-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%] {\n        position: absolute;\n        bottom: 0;\n        padding: 10px;\n        width: 100%; }\n      .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        position: absolute;\n        top: 0;\n        height: 100%;\n        width: auto;\n        cursor: pointer;\n        background-size: 100%;\n        background-image: -webkit-gradient(linear, left top, left bottom, from(transparent), to(transparent));\n        background-image: linear-gradient(transparent, transparent);\n        z-index: 100;\n        -webkit-user-select: none;\n           -moz-user-select: none;\n            -ms-user-select: none;\n                user-select: none; }\n        .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]:before {\n          display: block;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          opacity: 0;\n          width: 100%;\n          z-index: -100;\n          -webkit-transition: opacity 0.45s;\n          transition: opacity 0.45s; }\n        .slideshow-container[_ngcontent-%COMP%]   .arrow-container.prev[_ngcontent-%COMP%] {\n          left: 0; }\n          .slideshow-container[_ngcontent-%COMP%]   .arrow-container.prev[_ngcontent-%COMP%]:before {\n            background-image: -webkit-gradient(linear, right top, left top, from(transparent), to(rgba(0, 0, 0, 0.75)));\n            background-image: linear-gradient(to left, transparent, rgba(0, 0, 0, 0.75));\n            content: ''; }\n        .slideshow-container[_ngcontent-%COMP%]   .arrow-container.next[_ngcontent-%COMP%] {\n          right: 0; }\n          .slideshow-container[_ngcontent-%COMP%]   .arrow-container.next[_ngcontent-%COMP%]:before {\n            background-image: -webkit-gradient(linear, left top, right top, from(transparent), to(rgba(0, 0, 0, 0.75)));\n            background-image: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.75));\n            content: ''; }\n        .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%] {\n          display: block;\n          margin: auto;\n          width: 30px;\n          height: 30px;\n          background: transparent;\n          border-top: 2px solid #f2f2f2;\n          border-left: 2px solid #f2f2f2;\n          -webkit-transition: all .2s ease-in-out;\n          transition: all .2s ease-in-out;\n          -webkit-user-select: none;\n             -moz-user-select: none;\n              -ms-user-select: none;\n                  user-select: none; }\n          .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:before {\n            display: block;\n            height: 200%;\n            width: 200%;\n            margin-left: -50%;\n            margin-top: -50%;\n            content: \"\";\n            -webkit-transform: rotate(45deg);\n                    transform: rotate(45deg); }\n          .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]   .arrow.prev[_ngcontent-%COMP%] {\n            -webkit-transform: rotate(-45deg);\n                    transform: rotate(-45deg);\n            position: relative;\n            left: 20px;\n            margin-right: 10px; }\n          .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]   .arrow.next[_ngcontent-%COMP%] {\n            -webkit-transform: rotate(135deg);\n                    transform: rotate(135deg);\n            position: relative;\n            right: 20px;\n            margin-left: 10px; }\n      .slideshow-container[_ngcontent-%COMP%]   .slick-dots[_ngcontent-%COMP%] {\n        display: block;\n        bottom: 15px;\n        z-index: 1;\n        text-align: center;\n        position: absolute;\n        padding: 0;\n        left: 0;\n        right: 0;\n        margin: 0 auto; }\n        .slideshow-container[_ngcontent-%COMP%]   .slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n          display: inline;\n          margin: 0;\n          padding: 0; }\n          .slideshow-container[_ngcontent-%COMP%]   .slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n            border: none;\n            background: none;\n            text-indent: -9999px;\n            font-size: 0;\n            width: 20px;\n            height: 20px;\n            outline: none;\n            position: relative;\n            z-index: 1;\n            cursor: pointer; }\n            .slideshow-container[_ngcontent-%COMP%]   .slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before {\n              content: '';\n              width: 4px;\n              height: 4px;\n              background: var(--dot-color, #FFF);\n              border-radius: 4px;\n              display: block;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              -webkit-transform: translate(-50%, -50%);\n                      transform: translate(-50%, -50%);\n              opacity: .7;\n              -webkit-transition: all .5s ease-out;\n              transition: all .5s ease-out; }\n          .slideshow-container[_ngcontent-%COMP%]   .slick-dots[_ngcontent-%COMP%]   li.slick-active[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before {\n            -webkit-transform: translate(-50%, -50%) scale(1.4);\n                    transform: translate(-50%, -50%) scale(1.4);\n            opacity: 1; }\n\n    @media screen and (min-width: 768px) {\n      .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]:hover:before {\n        opacity: 1; }\n      .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%] {\n        border-width: 4px; }\n      .slideshow-container[_ngcontent-%COMP%]   .arrow-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover {\n        border-width: 4px; } }\n\n    @-webkit-keyframes slideInRight {\n      0% {\n        left: -100%; }\n      100% {\n        left: 0; } }\n\n    @keyframes slideInRight {\n      0% {\n        left: -100%; }\n      100% {\n        left: 0; } }\n\n    @-webkit-keyframes slideInLeft {\n      0% {\n        left: 100%; }\n      100% {\n        left: 0; } }\n\n    @keyframes slideInLeft {\n      0% {\n        left: 100%; }\n      100% {\n        left: 0; } }\n\n    @-webkit-keyframes slideOutRight {\n      0% {\n        left: 0; }\n      100% {\n        left: -100%; } }\n\n    @keyframes slideOutRight {\n      0% {\n        left: 0; }\n      100% {\n        left: -100%; } }\n\n    @-webkit-keyframes slideOutLeft {\n      0% {\n        left: 0; }\n      100% {\n        left: 100%; } }\n\n    @keyframes slideOutLeft {\n      0% {\n        left: 0; }\n      100% {\n        left: 100%; } }\n\n    .loader[_ngcontent-%COMP%] {\n      position: absolute;\n      left: 50%;\n      margin-left: -20px;\n      top: 50%;\n      margin-top: -20px;\n      border: 5px solid #f3f3f3;\n      border-top: 5px solid #555;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      -webkit-animation: spin 1s linear infinite;\n              animation: spin 1s linear infinite; }\n\n    @-webkit-keyframes spin {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }\n\n    @keyframes spin {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }"],data:{}});function yp(e){return ms(0,[(e()(),ts(0,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null))],null,null)}function _p(e){return ms(0,[(e()(),ts(0,0,null,null,3,"div",[["class","caption"]],[[8,"innerHTML",1]],null,null,null,null)),pi(512,null,Ga,Ya,[dn,On,vn]),di(2,278528,null,0,Za,[Ga],{ngStyle:[0,"ngStyle"]},null),ds(3,{color:0,"background-color":1})],(function(e,t){var n=t.component,r=e(t,3,0,n.captionColor,n.captionBackground);e(t,2,0,r)}),(function(e,t){e(t,0,0,null==t.parent.context.$implicit?null:null==t.parent.context.$implicit.image?null:t.parent.context.$implicit.image.caption)}))}function bp(e){return ms(0,[(e()(),ts(0,0,null,null,6,"a",[["class","slides"]],[[8,"href",4],[8,"title",0],[2,"selected",null],[2,"hide-slide",null],[2,"left-side",null],[2,"right-side",null],[2,"slide-in-left",null],[2,"slide-in-right",null],[2,"slide-out-left",null],[2,"slide-out-right",null],[2,"link",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClick(n)&&r),r}),null,null)),pi(512,null,Ga,Ya,[dn,On,vn]),di(2,278528,null,0,Za,[Ga],{ngStyle:[0,"ngStyle"]},null),(e()(),es(16777216,null,null,1,null,yp)),di(4,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),es(16777216,null,null,1,null,_p)),di(6,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getSlideStyle(t.context.index)),e(t,4,0,!(null!=t.context.$implicit&&t.context.$implicit.loaded)),e(t,6,0,n.showCaptions&&(null==t.context.$implicit?null:null==t.context.$implicit.image?null:t.context.$implicit.image.caption))}),(function(e,t){e(t,0,1,[Nr(1,"",null!=t.context.$implicit&&null!=t.context.$implicit.image&&t.context.$implicit.image.clickAction?"#":null==t.context.$implicit?null:null==t.context.$implicit.image?null:t.context.$implicit.image.href,""),Nr(1,"",null==t.context.$implicit?null:null==t.context.$implicit.image?null:t.context.$implicit.image.title,""),null==t.context.$implicit?null:t.context.$implicit.selected,!(null!=t.context.$implicit&&t.context.$implicit.selected||null!=t.context.$implicit&&t.context.$implicit.leftSide||null!=t.context.$implicit&&t.context.$implicit.rightSide),null==t.context.$implicit?null:t.context.$implicit.leftSide,null==t.context.$implicit?null:t.context.$implicit.rightSide,"slideInLeft"===(null==t.context.$implicit?null:t.context.$implicit.action),"slideInRight"===(null==t.context.$implicit?null:t.context.$implicit.action),"slideOutLeft"===(null==t.context.$implicit?null:t.context.$implicit.action),"slideOutRight"===(null==t.context.$implicit?null:t.context.$implicit.action),(null==t.context.$implicit?null:null==t.context.$implicit.image?null:t.context.$implicit.image.clickAction)||(null==t.context.$implicit?null:null==t.context.$implicit.image?null:t.context.$implicit.image.href)])}))}function wp(e){return ms(0,[(e()(),ts(0,0,null,null,2,"li",[],[[2,"slick-active",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.goToSlide(e.context.index)&&r),r}),null,null)),(e()(),ts(1,0,null,null,1,"button",[["type","button"]],[[1,"style",2]],null,null,null,null)),(e()(),ps(2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,t.context.$implicit.selected),e(t,1,0,n.safeStyleDotColor),e(t,2,0,t.context.index)}))}function Cp(e){return ms(0,[(e()(),ts(0,0,null,null,2,"ul",[["class","slick-dots"]],null,null,null,null,null)),(e()(),es(16777216,null,null,1,null,wp)),di(2,278528,null,0,za,[Fn,Mn,An],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.slides,n.trackByFn)}),null)}function Ep(e){return ms(0,[ss(402653184,1,{container:0}),ss(402653184,2,{prevArrow:0}),ss(402653184,3,{nextArrow:0}),(e()(),ts(3,0,null,null,1,"div",[["class","fs-container"]],[[2,"display-none",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.exitFullScreen(n)&&r),r}),null,null)),(e()(),ts(4,0,null,null,0,"i",[["class","arrow-exitfs prev"],["title","Back"]],null,null,null,null,null)),(e()(),ts(5,0,[[1,0],["container",1]],null,8,"div",[["class","slideshow-container"]],[[2,"slideshow-container-fs",null]],[[null,"touchstart"],[null,"touchend"]],(function(e,t,n){var r=!0,i=e.component;return"touchstart"===t&&(r=!1!==i.onSwipe(n,"start")&&r),"touchend"===t&&(r=!1!==i.onSwipe(n,"end")&&r),r}),null,null)),(e()(),es(16777216,null,null,1,null,bp)),di(7,278528,null,0,za,[Fn,Mn,An],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),ts(8,0,null,null,1,"div",[["class","arrow-container prev"]],[[2,"display-none",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onSlide(-1)&&r),r}),null,null)),(e()(),ts(9,0,[[2,0],["prevArrow",1]],null,0,"i",[["class","arrow prev"],["title","Previous"]],null,null,null,null,null)),(e()(),ts(10,0,null,null,1,"div",[["class","arrow-container next"]],[[2,"display-none",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onSlide(1)&&r),r}),null,null)),(e()(),ts(11,0,[[3,0],["nextArrow",1]],null,0,"i",[["class","arrow next"],["title","Next"]],null,null,null,null,null)),(e()(),es(16777216,null,null,1,null,Cp)),di(13,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,n.slides,n.trackByFn),e(t,13,0,n.showDots)}),(function(e,t){var n=t.component;e(t,3,0,!n.fullscreen),e(t,5,0,n.fullscreen),e(t,8,0,!n.showArrows),e(t,10,0,!n.showArrows)}))}class Sp{constructor(){this.imageSources=[{url:"https://cdn-prod.mortalkombat.com/features/scorpion-bg.jpg",caption:"Picture with caption",title:"Picture title goes here"},{url:"https://i.ytimg.com/vi/z_N2gPZKYIE/maxresdefault.jpg",clickAction:()=>alert("picture clicked, function performed"),title:"Cool sample picture #2"},{url:"https://www.syfy.com/sites/syfy/files/styles/1200x680/public/2019/01/mortal_kombat_11_via_official_youtube_trailer_2019.png",caption:"Clickable link",href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",title:"hehe"}],this.autoPlayInterval=5e3,this.captionColor="whitesmoke",this.captionBackground="rgba(0, 0, 0, .35)"}ngOnInit(){}}var Tp=nr({encapsulation:0,styles:[["slideshow[_ngcontent-%COMP%]{position:absolute;top:30vh;left:25vw;margin:auto;box-shadow:0 0 50px #000;width:50vw;height:30vh;font-family:'die nasty'}"]],data:{}});function Ip(e){return ms(0,[(e()(),ts(0,0,null,null,1,"slideshow",[],null,null,null,Ep,vp)),di(1,376832,null,0,gp,[pp,vn,pc,po,nc,Bi,el],{imageUrls:[0,"imageUrls"],height:[1,"height"],minHeight:[2,"minHeight"],showArrows:[3,"showArrows"],autoPlay:[4,"autoPlay"],autoPlayInterval:[5,"autoPlayInterval"],autoPlayWaitForLazyLoad:[6,"autoPlayWaitForLazyLoad"],captionColor:[7,"captionColor"],captionBackground:[8,"captionBackground"],lazyLoad:[9,"lazyLoad"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.imageSources,"100%","100px",!0,!0,n.autoPlayInterval,!0,n.captionColor,n.captionBackground,(null==n.imageSources?null:n.imageSources.length)>1)}),null)}function kp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-home",[],null,null,null,Ip,Tp)),di(1,114688,null,0,Sp,[],null,null)],(function(e,t){e(t,1,0)}),null)}var xp=qr("app-home",Sp,kp,{},{},[]);class Np{constructor(){this.imageArr=[],this.showModal=!1,this.image1="https://www.skullshoppe.com/images/skulls/rl%20ud1.jpg",this.image2="https://cdn.mos.cms.futurecdn.net/u8wSHMmMMXzZuAFBCmcsCK.jpg",this.image3="https://cdn.shopify.com/s/files/1/0038/3867/3008/products/Skull_Head_Statue_016_600x.jpg?v=1541304069",this.image4="https://upload.wikimedia.org/wikipedia/en/thumb/6/6c/ScorpionMKXRender.png/220px-ScorpionMKXRender.png",this.image5="https://i.ytimg.com/vi/Sg0rXa1WnZc/maxresdefault.jpg",this.pushImages(),this.pushImages(),this.pushImages(),this.pushImages(),this.pushImages(),this.pushImages()}ngOnInit(){}pushImages(){this.imageArr.push({src:this.image1,alt:"Skull boi",title:"I dunno"}),this.imageArr.push({src:this.image2,alt:"Skull boi",title:"I dunno"}),this.imageArr.push({src:this.image3,alt:"Skull boi",title:"I dunno"}),this.imageArr.push({src:this.image4,alt:"Skull boi",title:"GET OVER HERE"}),this.imageArr.push({src:this.image5,alt:"Vader",title:"Darth Vader"})}fullSizeImage(e){this.showModal=!0,this.modalImage=this.imageArr[e]}hideModal(){this.showModal=!1}}var Rp=nr({encapsulation:0,styles:[[".gallery-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;position:fixed;top:20vh;left:10vw;height:70vh;width:80vw}.gallery-photos[_ngcontent-%COMP%]{display:inline}.image-container[_ngcontent-%COMP%]{display:inline-block;height:30%;width:20%;padding:2.5%}.images-g[_ngcontent-%COMP%]{max-height:100%;max-width:100%;border-radius:5px;cursor:pointer}img[_ngcontent-%COMP%]{color:#f5f5f5}.image-modal[_ngcontent-%COMP%]{color:#f5f5f5;position:absolute;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0,0,0,.3);z-index:4;text-align:center}.modal-image-container[_ngcontent-%COMP%]{height:100%;display:inline-block;vertical-align:middle;z-index:5}.images-full[_ngcontent-%COMP%]{padding:0;vertical-align:middle;max-width:100%;max-height:100%;z-index:6}"]],data:{}});function Ap(e){return ms(0,[(e()(),ts(0,0,null,null,2,"div",[["class","gallery-photos"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,1,"div",[["class","image-container"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.fullSizeImage(e.context.index)&&r),r}),null,null)),(e()(),ts(2,0,null,null,0,"img",[["class","images-g"]],[[8,"src",4],[8,"alt",0],[8,"title",0]],null,null,null,null))],null,(function(e,t){e(t,2,0,Nr(1,"",t.context.$implicit.src,""),Nr(1,"",t.context.$implicit.alt,""),Nr(1,"",t.context.$implicit.title,""))}))}function Op(e){return ms(0,[(e()(),ts(0,0,null,null,2,"div",[["class","image-modal"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.hideModal()&&r),r}),null,null)),(e()(),ts(1,0,null,null,0,"span",[["class","modal-image-container"]],null,null,null,null,null)),(e()(),ts(2,0,null,null,0,"img",[["class","images-full"]],[[8,"src",4],[8,"alt",0],[8,"title",0]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,Nr(1,"",n.modalImage.src,""),Nr(1,"",n.modalImage.alt,""),Nr(1,"",n.modalImage.title,""))}))}function Pp(e){return ms(0,[(e()(),ts(0,0,null,null,2,"div",[["class","gallery-container"]],null,null,null,null,null)),(e()(),es(16777216,null,null,1,null,Ap)),di(2,278528,null,0,za,[Fn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),es(16777216,null,null,1,null,Op)),di(4,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.imageArr),e(t,4,0,n.showModal)}),null)}function Dp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-gallery",[],null,null,null,Pp,Rp)),di(1,114688,null,0,Np,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Lp=qr("app-gallery",Np,Dp,{},{},[]);class Mp{constructor(){this.redClass=!1}ngOnInit(){}}var Up=nr({encapsulation:0,styles:[[".bio-container[_ngcontent-%COMP%]{position:absolute;top:30vh;left:30vh;width:50vw}.bio-text[_ngcontent-%COMP%]{color:#f5f5f5;font-size:2em}"]],data:{}});function Fp(e){return ms(0,[(e()(),ts(0,0,null,null,5,"div",[["class","bio-container"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,4,"div",[["class","bio-text"]],null,null,null,null,null)),pi(512,null,ja,Va,[An,On,dn,vn]),di(3,278528,null,0,qa,[ja],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ds(4,{"color-red":0}),(e()(),ps(-1,null,[" Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel unde iusto quod tempora molestiae in dignissimos ullam odit non voluptas eveniet nobis dolore, alias laborum illo exercitationem delectus quam quibusdam. "]))],(function(e,t){var n=e(t,4,0,t.component.redClass);e(t,3,0,"bio-text",n)}),null)}function jp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-bio",[],null,null,null,Fp,Up)),di(1,114688,null,0,Mp,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Vp=qr("app-bio",Mp,jp,{},{},[]);class Hp{constructor(){}ngOnInit(){}}var qp=nr({encapsulation:0,styles:[[".contact-container[_ngcontent-%COMP%]{position:fixed;top:30vh;left:30vw}.contact[_ngcontent-%COMP%]{list-style:none;font-family:fantasy;color:#f5f5f5;font-size:2em}.link-fix[_ngcontent-%COMP%]{color:#f5f5f5}"]],data:{}});function Wp(e){return ms(0,[(e()(),ts(0,0,null,null,11,"div",[["class","contact-container"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,10,"ul",[["class","contact"]],null,null,null,null,null)),(e()(),ts(2,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,["Email: "])),(e()(),ts(4,0,null,null,1,"a",[["class","link link-fix"],["href","mailto:darth@vader.deathstar"]],null,null,null,null,null)),(e()(),ps(-1,null,["darth@vader.deathstar"])),(e()(),ts(6,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,["Phone: 808-867-5309"])),(e()(),ts(8,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,["Buy Artwork: "])),(e()(),ts(10,0,null,null,1,"a",[["class","link link-fix"],["href","https://www.absolutearts.com/portfolios/k/killerkuff/"],["target","_blank"]],null,null,null,null,null)),(e()(),ps(-1,null,["Mike's Absolute Arts Profile"]))],null,null)}function zp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-contact",[],null,null,null,Wp,qp)),di(1,114688,null,0,Hp,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Bp=qr("app-contact",Hp,zp,{},{},[]);class $p{constructor(){this.loginModal=!1}ngOnInit(){}loginModalShow(){this.loginModal=!0}loginModalHide(){this.loginModal=!1}badTouch(e){e.stopPropagation()}tryLogin(){}}var Qp=nr({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Lato&display=swap);.version-container[_ngcontent-%COMP%]{position:absolute;top:20vh;left:25vw;height:60vh;width:50vw;overflow-y:auto;color:#f5f5f5;font-family:Lato,monospace,sans-serif}.dev-contact[_ngcontent-%COMP%]{font-size:1.4em}.beauty-btn[_ngcontent-%COMP%]{background-color:#5f9ea0;border:1px solid #007164;border-radius:4px;font-family:monospace,Verdana,Geneva,Tahoma,sans-serif;padding:.5%}.patch-notes-list[_ngcontent-%COMP%]{list-style-type:circle}.strikeout[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}.login-container[_ngcontent-%COMP%]{color:#f5f5f5;position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0,0,0,.3);z-index:5;text-align:center}.login-box[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:50%;max-height:60%;background-color:rgba(31,36,46,.4);padding:2% 0;z-index:6}.input[_ngcontent-%COMP%]{border:none;background-color:#413030;color:#fff8dc;padding:1%;font-size:2em;margin:1%;z-index:10;max-width:100%;max-height:10%}"]],data:{}});function Kp(e){return ms(0,[(e()(),ts(0,0,null,null,10,"div",[["class","login-modal"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,9,"div",[["class","login-container"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loginModalHide()&&r),r}),null,null)),(e()(),ts(2,0,null,null,8,"div",[["class","login-box"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.badTouch(n)&&r),r}),null,null)),(e()(),ts(3,0,null,null,1,"div",[["class","input-box"]],null,null,null,null,null)),(e()(),ts(4,0,null,null,0,"input",[["class","input username"],["type","username"]],null,null,null,null,null)),(e()(),ts(5,0,null,null,1,"div",[["class","input-box"]],null,null,null,null,null)),(e()(),ts(6,0,null,null,0,"input",[["class","input password"],["type","password"]],null,null,null,null,null)),(e()(),ts(7,0,null,null,3,"div",[["class","input-box"]],null,null,null,null,null)),(e()(),ts(8,0,null,null,2,"button",[["class","better-btn"],["routerLink","/administration"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==Jr(e,9).onClick()&&r),"click"===t&&(r=!1!==i.tryLogin()&&r),r}),null,null)),di(9,16384,null,0,Md,[Ld,Sh,[8,null],vn,dn],{routerLink:[0,"routerLink"]},null),(e()(),ps(-1,null,["Go to Admin Page"]))],(function(e,t){e(t,9,0,"/administration")}),null)}function Gp(e){return ms(0,[(e()(),ts(0,0,null,null,59,"div",[["class","version-container"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,4,"div",[["class","dev-contact"]],null,null,null,null,null)),(e()(),ps(-1,null,[" For issues with this website please contact: "])),(e()(),ts(3,0,null,null,2,"button",[["class","beauty-btn"]],null,null,null,null,null)),(e()(),ts(4,0,null,null,1,"a",[["class","link"],["href","mailto:billycoda@killerkuff.com"]],null,null,null,null,null)),(e()(),ps(-1,null,["billycoda@killerkuff.com"])),(e()(),ts(6,0,null,null,4,"div",[["class","admin-access"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Admin access: "])),(e()(),ts(8,0,null,null,2,"button",[["class","beauty-btn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loginModalShow()&&r),r}),null,null)),(e()(),ts(9,0,null,null,1,"a",[["class","link"]],null,null,null,null,null)),(e()(),ps(-1,null,["LOGIN"])),(e()(),es(16777216,null,null,1,null,Kp)),di(12,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),ts(13,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(14,0,null,null,45,"div",[["class","patch-notes"]],null,null,null,null,null)),(e()(),ts(15,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Version Notes "])),(e()(),ts(17,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),ts(18,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(19,0,null,null,1,"div",[["class","patch-number"]],null,null,null,null,null)),(e()(),ps(-1,null,[" V1.1.0 "])),(e()(),ts(21,0,null,null,4,"ul",[["class","patch-notes-list"]],null,null,null,null,null)),(e()(),ts(22,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Site now hosted at 'https://killerkuff.com' "])),(e()(),ts(24,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Support email implemented and live "])),(e()(),ts(26,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(27,0,null,null,1,"div",[["class","patch-number"]],null,null,null,null,null)),(e()(),ps(-1,null,[" V1.0.0 "])),(e()(),ts(29,0,null,null,12,"ul",[["class","patch-notes-list"]],null,null,null,null,null)),(e()(),ts(30,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Basic site structure with component and 404 routing implemented "])),(e()(),ts(32,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Hosted using GitHub Pages and Google Firebase "])),(e()(),ts(34,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Placeholder photos in place for homepage slideshow and gallery - gallery photos now zoom to full size upon click "])),(e()(),ts(36,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Placeholder information used in Bio and Contact pages "])),(e()(),ts(38,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Artwork marketplace linked in Contact page - future plans to implement local marketplace "])),(e()(),ts(40,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Patch notes implemented "])),(e()(),ts(42,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(43,0,null,null,1,"div",[["class","patch-number"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Candidates for future implementation "])),(e()(),ts(45,0,null,null,14,"ul",[["class","patch-notes-list"]],null,null,null,null,null)),(e()(),ts(46,0,null,null,1,"li",[["class","strikeout"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Site will be migrated to 'http://killerkuff.com' "])),(e()(),ts(48,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Marketplace integration/creation "])),(e()(),ts(50,0,null,null,1,"li",[["class","strikeout"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Support email and email routing "])),(e()(),ts(52,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Enhance gallery with zoom function "])),(e()(),ts(54,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Style details "])),(e()(),ts(56,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Mobile version "])),(e()(),ts(58,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ps(-1,null,[" Administration page and authentication/authorization and upload functionality "]))],(function(e,t){e(t,12,0,t.component.loginModal)}),null)}function Yp(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-version",[],null,null,null,Gp,Qp)),di(1,114688,null,0,$p,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Xp=qr("app-version",$p,Yp,{},{},[]);class Zp{constructor(e,t){this.http=e,this.storageService=t,this.selectedImages=[],this.selectorClicked=!1,this.select="Select",this.size=[],this.uploadComplete=!1}ngOnInit(){}onFileSelect(e){this.selectedImages=[],this.select="Reselect",this.selectorClicked=!0;const t=e.target.files,n=/^image\//;for(const r of t)if(r.type.match(n)){this.selectedImages.push(r);const e=Math.round(.001*r.size);this.size.push(e)}else this.notAnImageMsg="One or more files were omitted due to unsupported format. Image files only."}sendImages(){let e=!1;this.selectedImages.length>0?e=this.storageService.onUpload(this.selectedImages):this.notAnImageMsg="No images selected.",this.uploadComplete=e}}class Jp{}class ef{}class tf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof tf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new tf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof tf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nf{encodeKey(e){return rf(e)}encodeValue(e){return rf(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function rf(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class of{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new of({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function sf(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function af(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lf(e){return"undefined"!=typeof FormData&&e instanceof FormData}class uf{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new tf),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new of,this.urlWithParams=t}serializeBody(){return null===this.body?null:sf(this.body)||af(this.body)||lf(this.body)||"string"==typeof this.body?this.body:this.body instanceof of?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:lf(this.body)?null:af(this.body)?this.body.type||null:sf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof of?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new uf(t,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const cf=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class hf{constructor(e,t=200,n="OK"){this.headers=e.headers||new tf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class df extends hf{constructor(e={}){super(e),this.type=cf.ResponseHeader}clone(e={}){return new df({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pf extends hf{constructor(e={}){super(e),this.type=cf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new pf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ff extends hf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gf(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class mf{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof uf)r=e;else{let i=void 0;i=n.headers instanceof tf?n.headers:new tf(n.headers);let o=void 0;n.params&&(o=n.params instanceof of?n.params:new of({fromObject:n.params})),r=new uf(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ll(r).pipe(Gl(e=>this.handler.handle(e)));if(e instanceof uf||"events"===n.observe)return i;const o=i.pipe(vl(e=>e instanceof pf));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(q(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(q(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(q(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(q(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new of).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,gf(n,t))}post(e,t,n={}){return this.request("POST",e,gf(n,t))}put(e,t,n={}){return this.request("PUT",e,gf(n,t))}}class vf{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const yf=new ke("HTTP_INTERCEPTORS");class _f{intercept(e,t){return t.handle(e)}}const bf=/^\)\]\}',?\n/;class wf{}class Cf{constructor(){}build(){return new XMLHttpRequest}}class Ef{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new tf(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new df({headers:o,status:t,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(bf,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new pf({body:l,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new ff({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new ff({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const u=r=>{l||(t.next(o()),l=!0);let i={type:cf.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},c=e=>{let n={type:cf.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),t.next({type:cf.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Sf=new ke("XSRF_COOKIE_NAME"),Tf=new ke("XSRF_HEADER_NAME");class If{}class kf{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class xf{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}class Nf{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(yf,[]);this.chain=e.reduceRight((e,t)=>new vf(e,t),this.backend)}return this.chain.handle(e)}}class Rf{static disable(){return{ngModule:Rf,providers:[{provide:xf,useClass:_f}]}}static withOptions(e={}){return{ngModule:Rf,providers:[e.cookieName?{provide:Sf,useValue:e.cookieName}:[],e.headerName?{provide:Tf,useValue:e.headerName}:[]]}}}class Af{}var Of=n("mrSG");function Pf(e){const t=function(e){return new w(t=>(e.on("state_changed",e=>t.next(e),e=>t.error(e),()=>t.complete()),()=>e.cancel()))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(q(e=>e.bytesTransferred/e.totalBytes*100))}}function Df(e,t){return{getDownloadURL:()=>t.keepUnstableUntilFirst(t.runOutsideAngular($(t.zone.runOutsideAngular(()=>e.getDownloadURL())))),getMetadata:()=>t.keepUnstableUntilFirst(t.runOutsideAngular($(t.zone.runOutsideAngular(()=>e.getMetadata())))),delete:()=>$(e.delete()),child:n=>Df(e.child(n),t),updateMetatdata:t=>$(e.updateMetadata(t)),updateMetadata:t=>$(e.updateMetadata(t)),put:(t,n)=>Pf(e.put(t,n)),putString:(t,n,r)=>Pf(e.putString(t,n,r))}}class Lf extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class Mf extends Lf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class Uf extends Mf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let Ff=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class jf extends Ff{constructor(e,t=Ff.now){super(e,()=>jf.delegate&&jf.delegate!==this?jf.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return jf.delegate&&jf.delegate!==this?jf.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class Vf extends jf{}const Hf=new Vf(Uf),qf=new ke("angularfire2.realtimeDatabaseURL");class Wf{constructor(e,t){this.zone=e,this.platformId=t}schedule(...e){return this.zone.runGuarded((function(){return Hf.schedule.apply(Hf,e)}))}keepUnstableUntilFirst(e){return nl(this.platformId)?new w(t=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);e.subscribe(e=>{"scheduled"===r.state&&r.invoke(),t.next(e)},e=>{"scheduled"===r.state&&r.invoke(),t.error(e)},()=>{"scheduled"===r.state&&r.invoke(),t.complete()})}):e}runOutsideAngular(e){return new w(t=>this.zone.runOutsideAngular(()=>e.subscribe(e=>this.zone.run(()=>t.next(e)),e=>this.zone.run(()=>t.error(e)),()=>this.zone.run(()=>t.complete()))))}}var zf,Bf=n("Wcq6"),$f=n.n(Bf);const Qf=new ke("angularfire2.app.options"),Kf=new ke("angularfire2.app.nameOrConfig");class Gf{}function Yf(e,t,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",$f.a.apps.filter(e=>e&&e.name===r.name)[0]||t.runOutsideAngular(()=>$f.a.initializeApp(e,r))}let Xf=zf=class{static initializeApp(e,t){return{ngModule:zf,providers:[{provide:Qf,useValue:e},{provide:Kf,useValue:t}]}}};const Zf=new ke("angularfire2.storageBucket");let Jf=class{constructor(e,t,n,r,i){this.scheduler=new Wf(i,r),this.storage=i.runOutsideAngular(()=>Yf(e,i,t).storage(n||void 0))}ref(e){return Df(this.storage.ref(e),this.scheduler)}upload(e,t,n){return Df(this.storage.ref(e),this.scheduler).put(t,n)}},eg=(()=>{class e{constructor(e){this.db=e}onUpload(e){for(let t=0;t<e.length;t++){const n=e[t];this.ref=this.db.ref("pictures/"+n.name),this.task=this.ref.put(n)}return!0}}return e.ngInjectableDef=ge({factory:function(){return new e(Ve(Jf))},token:e,providedIn:"root"}),e})();var tg=nr({encapsulation:0,styles:[[".admin-container[_ngcontent-%COMP%]{color:#fff8dc;position:absolute;top:30vh;left:25vw;height:60vh;width:50vw}#image-selector[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]{padding:1%;margin:1%}.list-scroller[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.2);height:30vh;overflow-y:auto}"]],data:{}});function ng(e){return ms(0,[(e()(),ts(0,0,null,null,5,"ul",[["class","image-list"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),ts(2,0,null,null,1,"div",[["class","image-name"]],null,null,null,null,null)),(e()(),ps(3,null,["Name: ",""])),(e()(),ts(4,0,null,null,1,"div",[["class","image-size"]],null,null,null,null,null)),(e()(),ps(5,null,["Size: ","KB"]))],null,(function(e,t){var n=t.component;e(t,3,0,t.context.$implicit.name),e(t,5,0,n.size[t.context.index])}))}function rg(e){return ms(0,[(e()(),ts(0,0,null,null,10,"div",[["class","list-container"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Images to Upload "])),(e()(),ts(2,0,null,null,2,"div",[["class","list-scroller"]],null,null,null,null,null)),(e()(),es(16777216,null,null,1,null,ng)),di(4,278528,null,0,za,[Fn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),ts(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(6,0,null,null,1,"div",[["class","warning-unsupported"]],null,null,null,null,null)),(e()(),ps(7,null,["",""])),(e()(),ts(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(9,0,null,null,1,"button",[["class","upload-btn btn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.sendImages()&&r),r}),null,null)),(e()(),ps(-1,null,[" Upload Image(s) "]))],(function(e,t){e(t,4,0,t.component.selectedImages)}),(function(e,t){e(t,7,0,t.component.notAnImageMsg)}))}function ig(e){return ms(0,[(e()(),ts(0,0,null,null,1,"div",[["class","completion-level"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Upload Complete! "]))],null,null)}function og(e){return ms(0,[(e()(),ts(0,0,null,null,15,"div",[["class","admin-container"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(e()(),ps(-1,null,[" Admin Page "])),(e()(),ts(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(4,0,null,null,9,"div",[["class","image-upload"]],null,null,null,null,null)),(e()(),ts(5,0,[["fileInput",1]],null,0,"input",[["accept","image/*"],["id","image-selector"],["multiple",""],["name","image-selector"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.onFileSelect(n)&&r),r}),null,null)),(e()(),ts(6,0,null,null,1,"button",[["class","select-btn btn"],["id","select-btn"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,5).click()&&r),r}),null,null)),(e()(),ps(7,null,[" "," Image(s) to Upload "])),(e()(),ts(8,0,null,null,1,"label",[["for","select-btn"]],null,null,null,null,null)),(e()(),ps(-1,null,["(.jpg, .png, .gif supported)"])),(e()(),ts(10,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ts(11,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),es(16777216,null,null,1,null,rg)),di(13,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),es(16777216,null,null,1,null,ig)),di(15,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,13,0,n.selectorClicked),e(t,15,0,n.uploadComplete)}),(function(e,t){e(t,7,0,t.component.select)}))}function sg(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-admin-page",[],null,null,null,og,tg)),di(1,114688,null,0,Zp,[mf,eg],null,null)],(function(e,t){e(t,1,0)}),null)}var ag=qr("app-admin-page",Zp,sg,{},{},[]);class lg{constructor(e){this.auth=e,this.versionNumber=this.auth.appVersion}ngOnInit(){}}let ug=(()=>{class e{constructor(){this.appVersion="1.1.0"}}return e.ngInjectableDef=ge({factory:function(){return new e},token:e,providedIn:"root"}),e})();var cg=nr({encapsulation:0,styles:[[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;right:1%;font-size:1.2em;font-family:monospace}"]],data:{}});function hg(e){return ms(0,[(e()(),ts(0,0,null,null,3,"div",[["class","nav-header die-nasty"]],null,null,null,null,null)),(e()(),ts(1,0,null,null,2,"a",[["class","link"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),di(2,671744,null,0,Ud,[Ld,Sh,ka],{routerLink:[0,"routerLink"]},null),(e()(),ps(-1,null,["MIKE CUFF"])),(e()(),ts(4,0,null,null,9,"div",[["class","nav-links die-nasty"]],null,null,null,null,null)),(e()(),ts(5,0,null,null,2,"a",[["class","link pad"],["routerLink","/gallery"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),di(6,671744,null,0,Ud,[Ld,Sh,ka],{routerLink:[0,"routerLink"]},null),(e()(),ps(-1,null,["Gallery"])),(e()(),ts(8,0,null,null,2,"a",[["class","link pad"],["routerLink","/bio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),di(9,671744,null,0,Ud,[Ld,Sh,ka],{routerLink:[0,"routerLink"]},null),(e()(),ps(-1,null,["Bio"])),(e()(),ts(11,0,null,null,2,"a",[["class","link pad"],["routerLink","/contact"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),di(12,671744,null,0,Ud,[Ld,Sh,ka],{routerLink:[0,"routerLink"]},null),(e()(),ps(-1,null,["Contact"])),(e()(),ts(14,0,null,null,3,"div",[["class","footer"]],null,null,null,null,null)),(e()(),ts(15,0,null,null,2,"a",[["class","link footer"],["routerLink","/version"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Jr(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),di(16,671744,null,0,Ud,[Ld,Sh,ka],{routerLink:[0,"routerLink"]},null),(e()(),ps(17,null,["V",""]))],(function(e,t){e(t,2,0,"/"),e(t,6,0,"/gallery"),e(t,9,0,"/bio"),e(t,12,0,"/contact"),e(t,16,0,"/version")}),(function(e,t){var n=t.component;e(t,1,0,Jr(t,2).target,Jr(t,2).href),e(t,5,0,Jr(t,6).target,Jr(t,6).href),e(t,8,0,Jr(t,9).target,Jr(t,9).href),e(t,11,0,Jr(t,12).target,Jr(t,12).href),e(t,15,0,Jr(t,16).target,Jr(t,16).href),e(t,17,0,n.versionNumber)}))}var dg=nr({encapsulation:0,styles:[[""]],data:{}});function pg(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-navbar",[],null,null,null,hg,cg)),di(1,114688,null,0,lg,[ug],null,null),(e()(),ts(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),di(3,212992,null,0,Hd,[Vd,Fn,ln,[8,null],Ot],null,null)],(function(e,t){e(t,1,0),e(t,3,0)}),null)}function fg(e){return ms(0,[(e()(),ts(0,0,null,null,1,"app-root",[],null,null,null,pg,dg)),di(1,49152,null,0,Sa,[],null,null)],null,null)}var gg=qr("app-root",Sa,fg,{},{},[]);function mg(e){return null==e}function vg(e){return"function"==typeof e.set}function yg(e,t){return vg(t)?t:e.ref(t)}function _g(e,t){if("string"==typeof e)return t.stringCase();if(vg(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}const bg=new jf(Mf);let wg=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return ll(this.value);case"E":return e=this.error,new w(t=>t.error(e));case"C":return sl()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class Cg{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Eg(e,this.delay,this.scheduler))}}class Eg extends g{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Eg.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new Sg(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(wg.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(wg.createComplete()),this.unsubscribe()}}class Sg{constructor(e,t){this.time=e,this.notification=t}}function Tg(e,t,n="on"){return new w(r=>{const i=e[n](t,(e,t)=>{r.next({snapshot:e,prevKey:t}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe(){e.off(t,i)}}:{unsubscribe(){}}}).pipe(q(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),function(e,t=bg){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new Cg(r,t))}(0),se())}class Ig{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new kg(e,this.compare,this.keySelector))}}class kg extends g{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function xg(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Ng(e,t){const{payload:n,prevKey:r,key:i}=t,o=xg(e,i),s=function(e,t){if(mg(t))return 0;{const n=xg(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(o>-1){const i=e[o-1];(i&&i.key||null)!=r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(s,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(o>-1){const t=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,t),e}return e;default:return e}}function Rg(e){return(mg(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Ag(e,t){return function(e,t){return Tg(e,"value","once").pipe(Wl(n=>{const r=[ll(n)];return t.forEach(t=>r.push(Tg(e,t))),Z(...r).pipe($l(Ng,[]))}),e=>e.lift(new Ig(void 0,void 0)))}(e,t=Rg(t))}function Og(e,t){return Z(...(t=Rg(t)).map(t=>Tg(e,t)))}class Pg{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Dg(e,this.observables,this.project))}}class Dg extends H{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let e=t[i];this.add(V(this,e,e,i))}}notifyNext(e,t,n,r,i){this.values[n]=t;const o=this.toRespond;if(o.length>0){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Lg{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new Mg(e,this.predicate))}}class Mg extends g{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}function Ug(e,t){return function(n,r){return _g(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function Fg(e){return function(){return Tg(e,"value")}}let jg=class{constructor(e,t,n,r,i){this.scheduler=new Wf(i,r),this.database=i.runOutsideAngular(()=>Yf(e,i,t).database(n||void 0))}list(e,t){const n=yg(this.database,e);let r=n;return t&&(r=t(n)),function(e,t){return{query:e,update:Ug(e.ref,"update"),set:Ug(e.ref,"set"),push:t=>e.ref.push(t),remove:(n=e.ref,function(e){return e?_g(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}),snapshotChanges(n){const r=Ag(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},stateChanges(n){const r=Og(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},auditTrail(n){const r=function(e,t){return function(e,t){return function(e){return Tg(e,"value").pipe(q(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Pg(e,n))}}(t),q(([e,t])=>{let n=e.lastKeyToLoad;const r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(n=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new Lg(n))),q(e=>e.actions));var n}(e,Og(e,t).pipe($l((e,t)=>[...e,t],[])))}(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r))},valueChanges(n){const r=Ag(e,n);return t.scheduler.keepUnstableUntilFirst(t.scheduler.runOutsideAngular(r)).pipe(q(e=>e.map(e=>e.payload.val())))}};var n}(r,this)}object(e){const t=yg(this.database,e);return r=this,{query:n=t,snapshotChanges(){const e=Fg(n)();return r.scheduler.keepUnstableUntilFirst(r.scheduler.runOutsideAngular(e))},update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges(){const e=Fg(n)();return r.scheduler.keepUnstableUntilFirst(r.scheduler.runOutsideAngular(e)).pipe(q(e=>e.payload.exists()?e.payload.val():null))}};var n,r}createPushId(){return this.database.ref().push().key}};n("NSPt");let Vg=class{},Hg=class{constructor(e,t,n,r){this.zone=r;const i=new Wf(r,n);this.auth=r.runOutsideAngular(()=>Yf(e,r,t).auth()),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(e=>({unsubscribe:this.auth.onAuthStateChanged(e)})))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(e=>({unsubscribe:this.auth.onIdTokenChanged(e)})))),this.idToken=this.user.pipe(Wl(e=>e?$(e.getIdToken()):ll(null))),this.idTokenResult=this.user.pipe(Wl(e=>e?$(e.getIdTokenResult()):ll(null)))}};var qg=n("wj3C"),Wg=n.n(qg);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var s=n.setTimeout;r.prototype.c=function(e){s(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.f();e.La(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t((function(e,t){i=e,o=t}));return this.La(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.La=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),s=r.next();!s.done;s=r.next())o(s.value).La(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).La(i(s.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},s=this||self;function a(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){return null===e}function f(e){return"array"==d(e)}function g(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.gd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function k(e){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function x(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");k.call(this,n+e[r])}function N(e,t){throw new x("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function R(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function A(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function O(){this.b=this.a=null}T(k,Error),k.prototype.name="CustomError",T(x,k),x.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var P=new R((function(){return new L}),(function(e){e.reset()}));function D(){var e=He,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function L(){this.next=this.b=this.a=null}function M(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}O.prototype.add=function(e,t){var n=P.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},F=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},j=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=a(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},V=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function H(e,t){return 0<=U(e,t)}function q(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function W(e,t){!function(e,t){for(var n=a(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function z(e){return Array.prototype.concat.apply([],arguments)}function B(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Q(e){for(var t in e)return!1;return!0}function K(e){var t,n={};for(t in e)n[t]=e[t];return n}var G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<G.length;o++)n=G[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function X(e,t){this.a=e===ee&&t||"",this.b=J}function Z(e){return e instanceof X&&e.constructor===X&&e.b===J?e.a:(N("expected object of type Const, got '"+e+"'"),"type_error:Const")}X.prototype.qa=!0,X.prototype.pa=function(){return this.a},X.prototype.toString=function(){return"Const{"+this.a+"}"};var J={},ee={},te=new X(ee,"");function ne(){this.a="",this.b=ae}function re(e){return e instanceof ne&&e.constructor===ne&&e.b===ae?e.a:(N("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ie(e,t){var n=Z(e);if(!se.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return le(e=n.replace(oe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof X?Z(e):encodeURIComponent(String(e))})))}ne.prototype.qa=!0,ne.prototype.pa=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var oe=/%{(\w+)}/g,se=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ae={};function le(e){var t=new ne;return t.a=e,t}var ue=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ce=/&/g,he=/</g,de=/>/g,pe=/"/g,fe=/'/g,ge=/\x00/g,me=/[\x00&<>"']/;function ve(e,t){return-1!=e.indexOf(t)}function ye(e,t){return e<t?-1:e>t?1:0}function _e(){this.a="",this.b=Se}function be(e){return e instanceof _e&&e.constructor===_e&&e.b===Se?e.a:(N("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}_e.prototype.qa=!0,_e.prototype.pa=function(){return this.a.toString()},_e.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var we=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ce(e){return e instanceof _e?e:(e="object"==typeof e&&e.qa?e.pa():String(e),we.test(e)||(e="about:invalid#zClosurez"),Te(e))}var Ee,Se={};function Te(e){var t=new _e;return t.a=e,t}Te("about:blank");e:{var Ie=s.navigator;if(Ie){var ke=Ie.userAgent;if(ke){Ee=ke;break e}}Ee=""}function xe(e){return ve(Ee,e)}function Ne(){this.a="",this.b=Ae}function Re(e){return e instanceof Ne&&e.constructor===Ne&&e.b===Ae?e.a:(N("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}Ne.prototype.qa=!0,Ne.prototype.pa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ae={};function Oe(e){var t=new Ne;return t.a=e,t}Oe("<!DOCTYPE html>");var Pe,De,Le=Oe("");function Me(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ue(e){return me.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ce,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(de,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(pe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(fe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Fe(e){s.setTimeout((function(){throw e}),0)}function je(e,t){De||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);De=function(){e.then(qe)}}else De=function(){var e=qe;!m(s.setImmediate)||s.Window&&s.Window.prototype&&!xe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Pe||(Pe=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!xe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=le(Z(te));M(e,"HTMLIFrameElement"),e.src=re(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Re(Le)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!xe("Trident")&&!xe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){s.setTimeout(e,0)}}()),Pe(e)):s.setImmediate(e)}}(),Ve||(De(),Ve=!0),He.add(e,t)}Oe("<br>");var Ve=!1,He=new O;function qe(){for(var e;e=D();){try{e.a.call(e.b)}catch(t){Fe(t)}A(P,e)}Ve=!1}function We(e,t){if(this.a=ze,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){nt(n,Be,e)}),(function(e){if(!(e instanceof ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}nt(n,$e,e)}))}catch(r){nt(this,$e,r)}}var ze=0,Be=2,$e=3;function Qe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ke=new R((function(){return new Qe}),(function(e){e.reset()}));function Ge(e,t,n){var r=Ke.get();return r.g=e,r.b=t,r.f=n,r}function Ye(e){if(e instanceof We)return e;var t=new We(h);return nt(t,Be,e),t}function Xe(e){return new We((function(t,n){n(e)}))}function Ze(e,t,n){rt(e,t,n,null)||je(E(t,e))}function Je(e){return new We((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ze(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function et(e,t){e.b||e.a!=Be&&e.a!=$e||it(e),e.f?e.f.next=t:e.b=t,e.f=t}function tt(e,t,n,r){var i=Ge(null,null,null);return i.a=new We((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(s){o(s)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ut?o(t):e(i)}catch(s){o(s)}}:o})),i.a.c=e,et(e,i),i.a}function nt(e,t,n){e.a==ze&&(e===n&&(t=$e,n=new TypeError("Promise cannot resolve to itself")),e.a=1,rt(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,it(e),t!=$e||n instanceof ut||function(e,t){e.g=!0,je((function(){e.g&&lt.call(null,t)}))}(e,n)))}function rt(e,t,n,r){if(e instanceof We)return et(e,Ge(t||h,n||null,r)),!0;if(I(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,(function(e){s||(s=!0,n.call(i,e))}),o)}catch(a){o(a)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function it(e){e.h||(e.h=!0,je(e.Zb,e))}function ot(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function st(e,t,n,r){if(n==$e&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,at(t,n,r);else try{t.c?t.g.call(t.f):at(t,n,r)}catch(i){lt.call(null,i)}A(Ke,t)}function at(e,t,n){t==Be?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}We.prototype.then=function(e,t,n){return tt(this,m(e)?e:null,m(t)?t:null,n)},We.prototype.$goog_Thenable=!0,(e=We.prototype).ka=function(e,t){return(e=Ge(e,e,t)).c=!0,et(this,e),this},e.s=function(e,t){return tt(this,null,e,t)},e.cancel=function(e){this.a==ze&&je((function(){!function e(t,n){if(t.a==ze)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==t&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ze&&1==i?e(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):ot(r),st(r,o,$e,n)))}t.c=null}else nt(t,$e,n)}(this,new ut(e))}),this)},e.Oc=function(e){this.a=ze,nt(this,Be,e)},e.Pc=function(e){this.a=ze,nt(this,$e,e)},e.Zb=function(){for(var e;e=ot(this);)st(this,e,this.a,this.i);this.h=!1};var lt=Fe;function ut(e){k.call(this,e)}function ct(){0!=ht&&(dt[this[y]||(this[y]=++_)]=this),this.va=this.va,this.la=this.la}T(ut,k),ut.prototype.name="cancel";var ht=0,dt={};function pt(e){if(!e.va&&(e.va=!0,e.za(),0!=ht)){var t=e[y]||(e[y]=++_);if(0!=ht&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete dt[t]}}function ft(e){return ft[" "](e),e}ct.prototype.va=!1,ct.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},ft[" "]=h;var gt,mt,vt=xe("Opera"),yt=xe("Trident")||xe("MSIE"),_t=xe("Edge"),bt=_t||yt,wt=xe("Gecko")&&!(ve(Ee.toLowerCase(),"webkit")&&!xe("Edge"))&&!(xe("Trident")||xe("MSIE"))&&!xe("Edge"),Ct=ve(Ee.toLowerCase(),"webkit")&&!xe("Edge");function Et(){var e=s.document;return e?e.documentMode:void 0}e:{var St="",Tt=(mt=Ee,wt?/rv:([^\);]+)(\)|;)/.exec(mt):_t?/Edge\/([\d\.]+)/.exec(mt):yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mt):Ct?/WebKit\/(\S+)/.exec(mt):vt?/(?:Version)[ \/]?(\S+)/.exec(mt):void 0);if(Tt&&(St=Tt?Tt[1]:""),yt){var It=Et();if(null!=It&&It>parseFloat(St)){gt=String(It);break e}}gt=St}var kt,xt={};function Nt(e){return function(e,t){var n=xt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=ue(String(gt)).split("."),r=ue(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ye(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ye(0==s[2].length,0==a[2].length)||ye(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}kt=s.document&&yt?Et():void 0;var Rt=Object.freeze||function(e){return e},At=!yt||9<=Number(kt),Ot=yt&&!Nt("9"),Pt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Dt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Lt(e,t){if(Dt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(wt){e:{try{ft(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:Mt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Dt.prototype.preventDefault=function(){this.Mb=!1},T(Lt,Dt);var Mt=Rt({2:"touch",3:"pen",4:"mouse"});Lt.prototype.preventDefault=function(){Lt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ot)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Lt.prototype.f=function(){return this.a};var Ut="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function jt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Ft,this.ta=this.Ka=!1}function Vt(e){e.ta=!0,e.listener=null,e.proxy=null,e.src=null,e.Pa=null}function Ht(e){this.src=e,this.a={},this.b=0}function qt(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(Vt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Wt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ta&&o.listener==t&&o.capture==!!n&&o.Pa==r)return i}return-1}Ht.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=Wt(e,t,r,i);return-1<s?(t=e[s],n||(t.Ka=!1)):((t=new jt(t,this.src,o,!!r,i)).Ka=n,e.push(t)),t};var zt="closure_lm_"+(1e6*Math.random()|0),Bt={};function $t(e,t,n,r,i){if(r&&r.once)Kt(e,t,n,r,i);else if(f(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);else n=rn(n),e&&e[Ut]?sn(e,t,n,v(r)?!!r.capture:!!r,i):Qt(e,t,n,!1,r,i)}function Qt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=tn(e);if(a||(e[zt]=a=new Ht(e)),!(n=a.add(t,n,r,s,o)).proxy)if(r=function(){var e=en,t=At?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function Kt(e,t,n,r,i){if(f(t))for(var o=0;o<t.length;o++)Kt(e,t[o],n,r,i);else n=rn(n),e&&e[Ut]?an(e,t,n,v(r)?!!r.capture:!!r,i):Qt(e,t,n,!0,r,i)}function Gt(e,t,n,r,i){if(f(t))for(var o=0;o<t.length;o++)Gt(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=rn(n),e&&e[Ut]?(e=e.u,(t=String(t).toString())in e.a&&-1<(n=Wt(o=e.a[t],n,r,i))&&(Vt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=tn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Wt(t,n,r,i)),(n=-1<e?t[e]:null)&&Yt(n))}function Yt(e){if("number"!=typeof e&&e&&!e.ta){var t=e.src;if(t&&t[Ut])qt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tn(t))?(qt(n,e),0==n.b&&(n.src=null,t[zt]=null)):Vt(e)}}}function Xt(e){return e in Bt?Bt[e]:Bt[e]="on"+e}function Zt(e,t,n,r){var i=!0;if((e=tn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ta&&(o=Jt(o,r),i=i&&!1!==o)}return i}function Jt(e,t){var n=e.listener,r=e.Pa||e.src;return e.Ka&&Yt(e),n.call(r,t)}function en(e,t){if(e.ta)return!0;if(!At){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Lt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Zt(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Zt(r[i],e,!1,t),n=n&&o}return n}return Jt(e,new Lt(t,this))}function tn(e){return(e=e[zt])instanceof Ht?e:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(e){return m(e)?e:(e[nn]||(e[nn]=function(t){return e.handleEvent(t)}),e[nn])}function on(){ct.call(this),this.u=new Ht(this),this.Sb=this,this.Xa=null}function sn(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function an(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function ln(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ta&&s.capture==n){var a=s.listener,l=s.Pa||s.src;s.Ka&&qt(e.u,s),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Mb}function un(e,t,n){if(m(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function cn(e){var t=null;return new We((function(n,r){-1==(t=un((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw s.clearTimeout(t),e}))}function hn(e){if(e.U&&"function"==typeof e.U)return e.U();if(a(e))return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function dn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(g(e)||a(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof pn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function fn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(on,ct),on.prototype[Ut]=!0,on.prototype.addEventListener=function(e,t,n,r){$t(this,e,t,n,r)},on.prototype.removeEventListener=function(e,t,n,r){Gt(this,e,t,n,r)},on.prototype.dispatchEvent=function(e){var t,n=this.Xa;if(n)for(t=[];n;n=n.Xa)t.push(n);n=this.Sb;var r=e.type||e;if(a(e))e=new Dt(e,n);else if(e instanceof Dt)e.target=e.target||n;else{var i=e;Y(e=new Dt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=ln(s,r,!0,e)&&i}if(i=ln(s=e.b=n,r,!0,e)&&i,i=ln(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ln(s=e.b=t[o],r,!1,e)&&i;return i},on.prototype.za=function(){if(on.qb.za.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Vt(n[r]);delete t.a[e],t.b--}}this.Xa=null},(e=pn.prototype).U=function(){fn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return fn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return gn(this.b,e)?this.b[e]:t},e.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof vn?(this.h=void 0!==t?t:e.h,yn(this,e.f),this.i=e.i,this.b=e.b,_n(this,e.l),this.c=e.c,bn(this,jn(e.a)),this.g=e.g):e&&(n=String(e).match(mn))?(this.h=!!t,yn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),_n(this,n[4]),this.c=Tn(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!t,this.a=new Pn(null,this.h))}function yn(e,t,n){e.f=n?Tn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function _n(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function bn(e,t,n){t instanceof Pn?(e.a=t,function(e,t){t&&!e.f&&(Dn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mn(this,t),Fn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=In(t,An)),e.a=new Pn(t,e.h))}function wn(e,t,n){e.a.set(t,n)}function Cn(e,t){return e.a.get(t)}function En(e){return e instanceof vn?new vn(e):new vn(e,void 0)}function Sn(e,t){var n=new vn(null,void 0);return yn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Tn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function In(e,t,n){return a(e)?(e=encodeURI(e).replace(t,kn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(In(t,xn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(In(t,xn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(In(n,"/"==n.charAt(0)?Rn:Nn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",In(n,On)),e.join("")},vn.prototype.resolve=function(e){var t=new vn(this),n=!!e.f;n?yn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)_n(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ve(i,"./")||ve(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?bn(t,jn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var xn=/[#\/\?@]/g,Nn=/[#\?:]/g,Rn=/[#\?]/g,An=/[#\?@]/g,On=/#/g;function Pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Dn(e){e.a||(e.a=new pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ln(e){var t=dn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Pn(null,void 0);e=hn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];f(o)?Fn(n,i,o):n.add(i,o)}return n}function Mn(e,t){Dn(e),t=Vn(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&fn(e)))}function Un(e,t){return Dn(e),t=Vn(e,t),gn(e.a.b,t)}function Fn(e,t,n){Mn(e,t),0<n.length&&(e.c=null,e.a.set(Vn(e,t),B(n)),e.b+=n.length)}function jn(e){var t=new Pn;return t.c=e.c,e.a&&(t.a=new pn(e.a),t.b=e.b),t}function Vn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=Pn.prototype).add=function(e,t){Dn(this),this.c=null,e=Vn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Dn(this),this.a.forEach((function(n,r){F(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.X=function(){Dn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.U=function(e){Dn(this);var t=[];if(a(e))Un(this,e)&&(t=z(t,this.a.get(Vn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},e.set=function(e,t){return Dn(this),this.c=null,Un(this,e=Vn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var Hn=!yt||9<=Number(kt);function qn(e){var t=document;return a(e)?t.getElementById(e):e}function Wn(e,t){$(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:zn.hasOwnProperty(n)?e.setAttribute(zn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bn(e){if(e&&"number"==typeof e.length){if(v(e))return"function"==typeof e.item||"string"==typeof e.item;if(m(e))return"function"==typeof e.item}return!1}function $n(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),e(t,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Yn(i,r),r.push(":"),e(t,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}var Kn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Gn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(e,t){t.push('"',e.replace(Gn,(function(e){var t=Kn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Kn[e]=t),t})),'"')}function Xn(){var e=mr();return yt&&!!kt&&11==kt||/Edge\/\d+/.test(e)}function Zn(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Jn(e,t){t=t||s.window;var n="about:blank";e&&(n=be(Ce(e)).toString()),t.location.href=n}function er(e){return!!((e=(e||mr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function tr(e){e=e||s.window;try{e.close()}catch(t){}}function nr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(t.target=r,ve(n,"crios/")&&(t.target="_blank")),pr(mr())==hr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof _e?n:Ce(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((xe("iPhone")&&!xe("iPod")&&!xe("iPad")||xe("iPad")||xe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(M(s=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof _e||t instanceof _e||(t="object"==typeof t&&t.qa?t.pa():String(t),we.test(t)||(t="about:invalid#zClosurez"),t=Te(t)),s.href=be(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=r.open("",n,s),e=be(t).toString(),s&&(bt&&ve(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">'),s.document.write(Re(e)),s.document.close())):(s=r.open(be(t).toString(),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var e=null;return new We((function(t){"complete"==s.document.readyState?t():(e=function(){t()},Kt(window,"load",e))})).s((function(t){throw Gt(window,"load",e),t}))}function sr(e){return e=e||mr(),!("file:"!==wr()&&"ionic:"!==wr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function lr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function ur(){return Wg.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Wg.a.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function cr(){var e=ur();return"ReactNative"===e||"Node"===e}var hr="Firefox",dr="Chrome";function pr(e){var t=e.toLowerCase();return ve(t,"opera/")||ve(t,"opr/")||ve(t,"opios/")?"Opera":ve(t,"iemobile")?"IEMobile":ve(t,"msie")||ve(t,"trident/")?"IE":ve(t,"edge/")?"Edge":ve(t,"firefox/")?hr:ve(t,"silk/")?"Silk":ve(t,"blackberry")?"Blackberry":ve(t,"webos")?"Webos":!ve(t,"safari/")||ve(t,"chrome/")||ve(t,"crios/")||ve(t,"android")?!ve(t,"chrome/")&&!ve(t,"crios/")||ve(t,"edge/")?ve(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":dr:"Safari"}var fr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function gr(e,t){t=t||[];var n,r=[],i={};for(n in fr)i[fr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=ur())?r=pr(i=mr()):"Worker"===r&&(r=pr(i=mr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function mr(){return s.navigator&&s.navigator.userAgent||""}function vr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function yr(){try{var e=s.localStorage,t=Ir();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xn()||!!s.indexedDB}catch(n){return lr()&&!!s.indexedDB}return!1}function _r(){return(br()||"chrome-extension:"===wr()||sr())&&!cr()&&yr()&&!lr()}function br(){return"http:"===wr()||"https:"===wr()}function wr(){return s.location&&s.location.protocol||null}function Cr(e){return!er(e=e||mr())&&pr(e)!=hr}function Er(e){return void 0===e?null:$n(e)}function Sr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Tr(e){if(null!==e)return JSON.parse(e)}function Ir(e){return e||Math.floor(1e9*Math.random()).toString()}function kr(e){return"Safari"!=pr(e=e||mr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Nr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=mr(),t=ur(),this.b=er(e)||"ReactNative"===t}function Rr(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ar(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Or(){return!(!vr("fireauth.oauthhelper",s)&&!vr("fireauth.iframe",s))}Nr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!br()&&"chrome-extension:"!==wr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pr,Dr={};function Lr(e){Dr[e]||(Dr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Mr={};Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:2}),Pr=2==Mr.abcd}catch(mt){Pr=!1}function Ur(e,t,n){Pr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Fr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Ur(e,n,t[n])}function jr(e){var t={};return Fr(t,e),t}function Vr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Ur(t,n,Vr(e[n]));return t}function Hr(e){var t={},n=e[Wr],r=e[zr];if(!(e=e[Br])||e!=qr&&!n)throw Error("Invalid provider user info!");t[Qr]=r||null,t[$r]=n||null,Ur(this,Gr,e),Ur(this,Kr,Vr(t))}var qr="EMAIL_SIGNIN",Wr="email",zr="newEmail",Br="requestType",$r="email",Qr="fromEmail",Kr="data",Gr="operation";function Yr(e,t){this.code=Zr+e,this.message=t||Jr[e]||""}function Xr(e){var t=e&&e.code;return t?new Yr(t.substring(Zr.length),e.message):null}T(Yr,Error),Yr.prototype.A=function(){return{code:this.code,message:this.message}},Yr.prototype.toJSON=function(){return this.A()};var Zr="auth/",Jr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ei(e){var t=Cn(e=En(e),ti)||null,n=Cn(e,ni)||null,r=Cn(e,oi)||null;if(r=r&&ai[r]||null,!t||!n||!r)throw new Yr("argument-error",ti+", "+ni+"and "+oi+" are required in a valid action code URL.");Fr(this,{apiKey:t,operation:r,code:n,continueUrl:Cn(e,ri)||null,languageCode:Cn(e,ii)||null,tenantId:Cn(e,si)||null})}var ti="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",si="tenantId",ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:qr,verifyEmail:"VERIFY_EMAIL"};function li(e){try{return new ei(e)}catch(t){return null}}function ui(e){var t=e[fi];if(void 0===t)throw new Yr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Yr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ci];if(n&&"object"==typeof n){t=n[vi];var r=n[gi];if(n=n[mi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Yr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yr("argument-error",mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Yr("argument-error",vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Yr("missing-android-pkg-name")}}else if(void 0!==n)throw new Yr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(t=e[pi])&&"object"==typeof t){if("string"==typeof(t=t[yi])&&t.length)this.f=t;else if(void 0!==t)throw new Yr("argument-error",yi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Yr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(t=e[di])&&"boolean"!=typeof t)throw new Yr("argument-error",di+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[hi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Yr("argument-error",hi+" property must be a non empty string when specified.");this.i=e||null}var ci="android",hi="dynamicLinkDomain",di="handleCodeInApp",pi="iOS",fi="url",gi="installApp",mi="minimumVersion",vi="packageName",yi="bundleId";function _i(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var bi=null,wi=null;function Ci(e){this.f=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ei(e){return(e=Si(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ci(e):null}function Si(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!bi){bi={},wi={};for(var e=0;65>e;e++)bi[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),wi[bi[e]]=e,62<=e&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ti,Ii={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ki(e){for(var t in Ii)if(Ii[t].id===e)return{firebaseEndpoint:(e=Ii[t]).cb,secureTokenEndpoint:e.ib};return null}Ti=ki("__EID__")?"__EID__":void 0;var xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ni=["client_id","response_type","scope","redirect_uri","state"],Ri={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ni},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ni},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ni},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:xi},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Ai(e){for(var t in Ri)if(Ri[t].Fa==e)return Ri[t];return null}function Oi(e){var t={};t["facebook.com"]=Ui,t["google.com"]=ji,t["github.com"]=Fi,t["twitter.com"]=Vi;var n=e&&e[Di];try{if(n)return t[n]?new t[n](e):new Mi(e);if(void 0!==e[Pi])return new Li(e)}catch(r){}return null}var Pi="idToken",Di="providerId";function Li(e){var t=e[Di];if(!t&&e[Pi]){var n=Ei(e[Pi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Ur(this,"providerId",t),Ur(this,"isNewUser",n)}function Mi(e){Li.call(this,e),Ur(this,"profile",Vr((e=Tr(e.rawUserInfo||"{}"))||{}))}function Ui(e){if(Mi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fi(e){if(Mi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function ji(e){if(Mi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(e){if(Mi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",e.screenName||null)}function Hi(e){var t=En(e),n=Cn(t,"link"),r=Cn(En(n),"link");return t=Cn(t,"deep_link_id"),Cn(En(t),"link")||t||r||n||e}function qi(){}function Wi(e,t){return e.then((function(e){if(e[Ns]){var n=Ei(e[Ns]);if(!n||t!=n.f)throw new Yr("user-mismatch");return e}throw new Yr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==Zr+"user-not-found"?new Yr("user-mismatch"):e}))}function zi(e,t){if(!t)throw new Yr("internal-error","failed to construct a credential");this.a=t,Ur(this,"providerId",e),Ur(this,"signInMethod",e)}function Bi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function $i(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new zi(e.providerId,e.pendingToken)}catch(t){}return null}function Qi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Ur(this,"idToken",t.idToken),t.accessToken&&Ur(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Ur(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Yr("internal-error","failed to construct a credential");Ur(this,"accessToken",t.oauthToken),Ur(this,"secret",t.oauthTokenSecret)}Ur(this,"providerId",e),Ur(this,"signInMethod",n)}function Ki(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Ln(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Gi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Qi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Yi(e,t){this.Fc=t||[],Fr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Ai(e)||{}).Ea||null,this.bb=null}function Xi(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Yr("argument-error",'SAML provider IDs must be prefixed with "saml."');Yi.call(this,e,[])}function Zi(e){Yi.call(this,e,Ni),this.a=[]}function Ji(){Zi.call(this,"facebook.com")}function eo(e){if(!e)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Ji).credential({accessToken:t})}function to(){Zi.call(this,"github.com")}function no(e){if(!e)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new to).credential({accessToken:t})}function ro(){Zi.call(this,"google.com"),this.ya("profile")}function io(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new ro).credential({idToken:n,accessToken:t})}function oo(){Yi.call(this,"twitter.com",xi)}function so(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Yr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function ao(e,t,n){this.a=e,this.c=t,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===uo.EMAIL_LINK_SIGN_IN_METHOD?uo.EMAIL_LINK_SIGN_IN_METHOD:uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function lo(e){return e&&e.email&&e.password?new ao(e.email,e.password,e.signInMethod):null}function uo(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function co(e,t){if(!(t=ho(t)))throw new Yr("argument-error","Invalid email link!");return new ao(e,t.code,uo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(e){return(e=li(e=Hi(e)))&&e.operation===qr?e:null}function po(e){if(!(e.Va&&e.Ua||e.Ha&&e.ba))throw new Yr("internal-error");this.a=e,Ur(this,"providerId","phone"),Ur(this,"signInMethod","phone")}function fo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new po(t)}return null}function go(e){return e.a.Ha&&e.a.ba?{temporaryProof:e.a.Ha,phoneNumber:e.a.ba}:{sessionInfo:e.a.Va,code:e.a.Ua}}function mo(e){try{this.a=e||Wg.a.auth()}catch(t){throw new Yr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function vo(e,t){if(!e)throw new Yr("missing-verification-id");if(!t)throw new Yr("missing-verification-code");return new po({Va:e,Ua:t})}function yo(e){if(e.temporaryProof&&e.phoneNumber)return new po({Ha:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return io(o,n);case"facebook.com":return eo(n);case"github.com":return no(n);case"twitter.com":return so(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new zi(t,s):new Qi(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Zi(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function _o(e){if(!e.isOAuthProvider)throw new Yr("invalid-oauth-provider")}function bo(e,t,n,r,i,o,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new Yr("invalid-auth-event");if(this.g&&this.a)throw new Yr("invalid-auth-event");if(this.g&&!this.f)throw new Yr("invalid-auth-event")}function wo(e){return(e=e||{}).type?new bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Xr(e.error),e.postBody,e.tenantId):null}function Co(){this.b=null,this.a=[]}T(Mi,Li),T(Ui,Mi),T(Fi,Mi),T(ji,Mi),T(Vi,Mi),zi.prototype.na=function(e){return Qs(e,Bi(this))},zi.prototype.b=function(e,t){var n=Bi(this);return n.idToken=t,Ks(e,n)},zi.prototype.f=function(e,t){return Wi(Gs(e,Bi(this)),t)},zi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(e){return Qs(e,Ki(this))},Qi.prototype.b=function(e,t){var n=Ki(this);return n.idToken=t,Ks(e,n)},Qi.prototype.f=function(e,t){return Wi(Gs(e,Ki(this)),t)},Qi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Yi.prototype.Ga=function(e){return this.zb=K(e),this},T(Xi,Yi),T(Zi,Yi),Zi.prototype.ya=function(e){return H(this.a,e)||this.a.push(e),this},Zi.prototype.Hb=function(){return B(this.a)},Zi.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Yr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},T(Ji,Zi),Ur(Ji,"PROVIDER_ID","facebook.com"),Ur(Ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(to,Zi),Ur(to,"PROVIDER_ID","github.com"),Ur(to,"GITHUB_SIGN_IN_METHOD","github.com"),T(ro,Zi),Ur(ro,"PROVIDER_ID","google.com"),Ur(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),T(oo,Yi),Ur(oo,"PROVIDER_ID","twitter.com"),Ur(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ao.prototype.na=function(e){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?Sa(e,ra,{email:this.a,oobCode:this.c}):Sa(e,ba,{email:this.a,password:this.c})},ao.prototype.b=function(e,t){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?Sa(e,ia,{idToken:t,email:this.a,oobCode:this.c}):Sa(e,fa,{idToken:t,email:this.a,password:this.c})},ao.prototype.f=function(e,t){return Wi(this.na(e),t)},ao.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(uo,{PROVIDER_ID:"password"}),Fr(uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(e){return e.Wa(go(this))},po.prototype.b=function(e,t){var n=go(this);return n.idToken=t,Sa(e,Ca,n)},po.prototype.f=function(e,t){var n=go(this);return n.operation="REAUTH",Wi(e=Sa(e,Ea,n),t)},po.prototype.A=function(){var e={providerId:"phone"};return this.a.Va&&(e.verificationId=this.a.Va),this.a.Ua&&(e.verificationCode=this.a.Ua),this.a.Ha&&(e.temporaryProof=this.a.Ha),this.a.ba&&(e.phoneNumber=this.a.ba),e},mo.prototype.Wa=function(e,t){var n=this.a.b;return Ye(t.verify()).then((function(r){if(!a(r))throw new Yr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Sa(e,da,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Yr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Fr(mo,{PROVIDER_ID:"phone"}),Fr(mo,{PHONE_SIGN_IN_METHOD:"phone"}),bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},bo.prototype.R=function(){return this.h},bo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,So=null;function To(e){var t="unauthorized-domain",n=void 0,r=En(e);e=r.b,"chrome-extension"==(r=r.f)?n=Me("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Me("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Yr.call(this,t,n)}function Io(e,t,n){Yr.call(this,e,n),(e=t||{}).Ab&&Ur(this,"email",e.Ab),e.ba&&Ur(this,"phoneNumber",e.ba),e.credential&&Ur(this,"credential",e.credential),e.Qb&&Ur(this,"tenantId",e.Qb)}function ko(e){if(e.code){var t=e.code||"";0==t.indexOf(Zr)&&(t=t.substring(Zr.length));var n={credential:yo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Yr(t,e.message||void 0);return new Io(t,n,e.message)}return null}function xo(){}function No(){}function Ro(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ao(){}function Oo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Po(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Do(e,t,n){this.reset(e,t,n,void 0,void 0)}function Lo(e){this.f=e,this.b=this.c=this.a=null}function Mo(e,t){this.name=e,this.value=t}T(To,Yr),T(Io,Yr),Io.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&Y(e,t),e},Io.prototype.toJSON=function(){return this.A()},xo.prototype.c=null,T(No,xo),No.prototype.a=function(){var e=Ro(this);return e?new ActiveXObject(e):new XMLHttpRequest},No.prototype.b=function(){var e={};return Ro(this)&&(e[0]=!0,e[1]=!0),e},Eo=new No,T(Ao,xo),Ao.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Oo;throw Error("Unsupported browser")},Ao.prototype.b=function(){return{}},(e=Oo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Po(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Do.prototype.a=null,Do.prototype.reset=function(e,t,n,r,i){r||S(),delete this.a},Mo.prototype.toString=function(){return this.name};var Uo=new Mo("SEVERE",1e3),Fo=new Mo("WARNING",900),jo=new Mo("CONFIG",700),Vo=new Mo("FINE",500);Lo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(N("Root logger has no level set."),null)}(this).value)for(m(t)&&(t=t()),e=new Do(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Ho={},qo=null;function Wo(e){var t;if(qo||(qo=new Lo(""),Ho[""]=qo,qo.c=jo),!(t=Ho[e])){t=new Lo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Wo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Ho[e]=t}return t}function zo(e,t){e&&e.log(Vo,t,void 0)}function Bo(e){this.f=e}function $o(e){on.call(this),this.o=e,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Bo,xo),Bo.prototype.a=function(){return new $o(this.f)},Bo.prototype.b=function(e){return function(){return e}}({}),T($o,on);var Qo=0;function Ko(e){e.c.read().then(e.ec.bind(e)).catch(e.Oa.bind(e))}function Go(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Yo(e)}function Yo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Xo(e){on.call(this),this.headers=new pn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zo,this.v=this.P=!1}(e=$o.prototype).open=function(e,t){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Yo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Go(this,!1)),this.readyState=Qo},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Yo(this)),this.a&&(this.readyState=3,Yo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Ko(this)):e.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Go(this,!0):Yo(this),3==this.readyState&&Ko(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Go(this,!0))},e.hc=function(e){this.a&&(this.response=e,Go(this,!0))},e.Oa=function(e){var t=this.h;t&&t.log(Fo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Go(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Fo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Fo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(Xo,on);var Zo="";Xo.prototype.b=Wo("goog.net.XhrIo");var Jo=/^https?$/i,es=["POST","PUT"];function ts(e){return"content-type"==e.toLowerCase()}function ns(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,rs(e),os(e)}function rs(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function is(e){if(e.c&&void 0!==o)if(e.w[1]&&4==as(e)&&2==ls(e))zo(e.b,us(e,"Local request error detected and ignored"));else if(e.i&&4==as(e))un(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==as(e)){zo(e.b,us(e,"Request complete")),e.c=!1;try{var t,n=ls(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.l).match(mn)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}i=!Jo.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<as(e)?e.a.statusText:""}catch(c){zo(e.b,"Can not get status: "+c.message),u=""}e.h=u+" ["+ls(e)+"]",rs(e)}}finally{os(e)}}}function os(e,t){if(e.a){ss(e);var n=e.a,r=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Uo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ss(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(s.clearTimeout(e.o),e.o=null)}function as(e){return e.a?e.a.readyState:0}function ls(e){try{return 2<as(e)?e.a.status:-1}catch(t){return-1}}function us(e,t){return t+" ["+e.O+" "+e.l+" "+ls(e)+"]"}function cs(e){var t=ws;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function hs(e,t,n){e.a=!0,e.c=n,e.f=!t,gs(e)}function ds(e){if(e.a){if(!e.u)throw new ms(e);e.u=!1}}function ps(e,t,n,r){e.g.push([t,n,r]),e.a&&gs(e)}function fs(e){return V(e.g,(function(e){return m(e[1])}))}function gs(e){if(e.h&&e.a&&fs(e)){var t=e.h,n=_s[t];n&&(s.clearTimeout(n.a),delete _s[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var l=o.call(i||e.o,t);void 0!==l&&(e.f=e.f&&(l==t||l instanceof Error),e.c=t=l),(I(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,fs(e)||(n=!0)}}e.c=t,r&&(l=C(e.m,e,!0),r=C(e.m,e,!1),t instanceof cs?(ps(t,l,r),t.w=!0):t.then(l,r)),n&&(t=new ys(t),_s[t.a]=t,e.h=t.a)}function ms(){k.call(this)}function vs(){k.call(this)}function ys(e){this.a=s.setTimeout(C(this.c,this),0),this.b=e}(e=Xo.prototype).Ia=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,us(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(zo(this.b,us(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),os(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),os(this,!0)),Xo.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?is(this):this.yc())},e.yc=function(){is(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Uo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return zo(this.b,"Can not get response: "+t.message),null}},cs.prototype.cancel=function(e){if(this.a)this.c instanceof cs&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new vs(this),ds(this),hs(this,!1,e))}},cs.prototype.m=function(e,t){this.i=!1,hs(this,e,t)},cs.prototype.then=function(e,t,n){var r,i,o=new We((function(e,t){r=e,i=t}));return ps(this,r,(function(e){e instanceof vs?o.cancel():i(e)})),o.then(e,t,n)},cs.prototype.$goog_Thenable=!0,T(ms,k),ms.prototype.message="Deferred has already fired",ms.prototype.name="AlreadyCalledError",T(vs,k),vs.prototype.message="Deferred was canceled",vs.prototype.name="CanceledError",ys.prototype.c=function(){throw delete _s[this.a],this.b};var _s={};function bs(e){var t={},n=t.document||document,r=re(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},a=new cs(o),l=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Cs(i,!0);var e=new Ts(Ss,"Timeout reached for loading script "+r);ds(a),hs(a,!1,e)}),h),o.Ia=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Cs(i,t.hd||!1,l),ds(a),hs(a,!0,null))},i.onerror=function(){Cs(i,!0,l);var e=new Ts(Es,"Error while loading script "+r);ds(a),hs(a,!1,e)},Y(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Wn(i,o),function(e,t){M(e,"HTMLScriptElement"),e.src=re(t),null===c&&(c=(t=(t=s.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""),(t=c)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ws(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Cs(e,!0,this.Ia)}}function Cs(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Es=0,Ss=1;function Ts(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),k.call(this,n),this.code=e}function Is(e){this.f=e}function ks(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Rs,this.g=K(e.secureTokenHeaders||As),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Os,this.a=K(e.firebaseHeaders||Ps),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ur(),!(n=s.XMLHttpRequest||n&&Wg.a.INTERNAL.node&&Wg.a.INTERNAL.node.XMLHttpRequest)&&!lr())throw new Yr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=lr()?new Bo(self):cr()?new Is(n):new Ao,this.b=null}T(Ts,k),T(Is,xo),Is.prototype.a=function(){return new this.f},Is.prototype.b=function(){return{}};var xs,Ns="idToken",Rs=new Nr(3e4,6e4),As={"Content-Type":"application/x-www-form-urlencoded"},Os=new Nr(3e4,6e4),Ps={"Content-Type":"application/json"};function Ds(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ls(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Ms(e,t,n,r,i,o,a){(function(){var e=mr();return!((e=pr(e)!=dr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||yt&&kt&&!(9<kt))})()||lr()?e=C(e.o,e):(xs||(xs=new We((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[Fs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){ps(e,null,t,void 0)}(bs(ie(Us,{onload:Fs})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=C(e.m,e)),e(t,n,r,i,o,a)}ks.prototype.R=function(){return this.b},ks.prototype.o=function(e,t,n,r,i,o){if(lr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Yr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Xo(this.f);if(o){l.g=Math.max(0,o);var u=setTimeout((function(){l.dispatchEvent("timeout")}),o)}sn(l,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return zo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),an(l,"ready",(function(){u&&clearTimeout(u),pt(this)})),an(l,"timeout",(function(){u&&clearTimeout(u),pt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():Eo.a(),e.w=function(e){return e.c||(e.c=e.b())}(e.B?e.B:Eo),e.a.onreadystatechange=C(e.Lb,e);try{zo(e.b,us(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(l){return zo(e.b,us(e,"Error opening Xhr: "+l.message)),void ns(e,l)}t=r||"";var o=new pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||a(e))F(e,t,void 0);else for(var n=dn(e),r=hn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ts,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(o.X()),r=s.FormData&&t instanceof s.FormData,!H(es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{ss(e),0<e.g&&(e.v=function(e){return yt&&Nt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),zo(e.b,us(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=C(e.Ia,e)):e.o=un(e.Ia,e.g,e)),zo(e.b,us(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(l){zo(e.b,us(e,"Send error: "+l.message)),ns(e,l)}}(l,e,n,r,i)};var Us=new X(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),Fs="__fcb"+Math.floor(1e6*Math.random()).toString();function js(e){if(!a(e=e.email)||!ir.test(e))throw new Yr("invalid-email")}function Vs(e){"email"in e&&js(e)}function Hs(e){if(!e[Ns])throw new Yr("internal-error")}function qs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Yr("internal-error")}else{if(!e.sessionInfo)throw new Yr("missing-verification-id");if(!e.code)throw new Yr("missing-verification-code")}}ks.prototype.m=function(e,t,n,r,i){var o=this;xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ks.prototype.ob=function(){return Sa(this,ga,{})},ks.prototype.rb=function(e,t){return Sa(this,pa,{idToken:e,email:t})},ks.prototype.sb=function(e,t){return Sa(this,fa,{idToken:e,password:t})};var Ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function zs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Yr("internal-error")}function Bs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Un(e=new Pn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function $s(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ko(e)):e.errorMessage&&(t=Ta(e.errorMessage)),t)throw t;if(!e[Ns])throw new Yr("internal-error")}function Qs(e,t){return t.returnIdpCredential=!0,Sa(e,ma,t)}function Ks(e,t){return t.returnIdpCredential=!0,Sa(e,ya,t)}function Gs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Sa(e,va,t)}function Ys(e){if(!e.oobCode)throw new Yr("invalid-action-code")}(e=ks.prototype).tb=function(e,t){var n={idToken:e},r=[];return $(Ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Sa(this,pa,n)},e.kb=function(e,t){return Y(e={requestType:"PASSWORD_RESET",email:e},t),Sa(this,la,e)},e.lb=function(e,t){return Y(e={requestType:"EMAIL_SIGNIN",email:e},t),Sa(this,sa,e)},e.jb=function(e,t){return Y(e={requestType:"VERIFY_EMAIL",idToken:e},t),Sa(this,aa,e)},e.Wa=function(e){return Sa(this,wa,e)},e.ab=function(e,t){return Sa(this,ha,{oobCode:e,newPassword:t})},e.Ma=function(e){return Sa(this,Zs,{oobCode:e})},e.Ya=function(e){return Sa(this,Xs,{oobCode:e})};var Xs={endpoint:"setAccountInfo",D:Ys,fa:"email",F:!0},Zs={endpoint:"resetPassword",D:Ys,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Yr("internal-error")},F:!0},Js={endpoint:"signupNewUser",D:function(e){if(js(e),!e.password)throw new Yr("weak-password")},K:Hs,T:!0,F:!0},ea={endpoint:"createAuthUri",F:!0},ta={endpoint:"deleteAccount",V:["idToken"]},na={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!f(e.deleteProvider))throw new Yr("internal-error")}},ra={endpoint:"emailLinkSignin",V:["email","oobCode"],D:js,K:Hs,T:!0,F:!0},ia={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:js,K:Hs,T:!0},oa={endpoint:"getAccountInfo"},sa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Yr("internal-error");js(e)},fa:"email",F:!0},aa={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Yr("internal-error")},fa:"email",F:!0},la={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Yr("internal-error");js(e)},fa:"email",F:!0},ua={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ca={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Yr("internal-error")}},ha={endpoint:"resetPassword",D:Ys,fa:"email",F:!0},da={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pa={endpoint:"setAccountInfo",V:["idToken"],D:Vs,T:!0},fa={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Vs(e),!e.password)throw new Yr("weak-password")},K:Hs,T:!0},ga={endpoint:"signupNewUser",K:Hs,T:!0,F:!0},ma={endpoint:"verifyAssertion",D:zs,Ra:Bs,K:$s,T:!0,F:!0},va={endpoint:"verifyAssertion",D:zs,Ra:Bs,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Yr("user-not-found");if(e.errorMessage)throw Ta(e.errorMessage);if(!e[Ns])throw new Yr("internal-error")},T:!0,F:!0},ya={endpoint:"verifyAssertion",D:function(e){if(zs(e),!e.idToken)throw new Yr("internal-error")},Ra:Bs,K:$s,T:!0},_a={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Yr("invalid-custom-token")},K:Hs,T:!0,F:!0},ba={endpoint:"verifyPassword",D:function(e){if(js(e),!e.password)throw new Yr("wrong-password")},K:Hs,T:!0,F:!0},wa={endpoint:"verifyPhoneNumber",D:qs,K:Hs,F:!0},Ca={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Yr("internal-error");qs(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ko(e);Hs(e)}},Ea={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qs,K:Hs,F:!0};function Sa(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return Xe(new Yr("internal-error"));var r,i=t.Kb||"POST";return Ye(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var s=En(e.h+t);wn(s,"key",e.c),o&&wn(s,"cb",S().toString());var a="GET"==n;if(a)for(var l in r)r.hasOwnProperty(l)&&wn(s,l,r[l]);return new We((function(t,o){Ms(e,s.toString(),(function(e){e?e.error?o(Ia(e,i||{})):t(e):o(new Yr("network-request-failed"))}),n,a?void 0:$n(Sr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Ra?t.Ra(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Yr("internal-error");return r[t.fa]}))}function Ta(e){return Ia({error:{errors:[{message:e}],code:400,message:e}})}function Ia(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Yr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Yr(r[i],t);return!t&&e&&(t=Er(e)),new Yr("internal-error",t)}function ka(e){this.b=e,this.a=null,this.gb=function(e){return(Aa||(Aa=new We((function(e,t){function n(){xr(),vr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xr(),t(Error("Network Error"))},timeout:Na.get()})}if(vr("gapi.iframes.Iframe"))e();else if(vr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){vr("gapi.load")?n():t(Error("Network Error"))},Ye(bs(r=ie(xa,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Aa=null,e})))).then((function(){return new We((function(t,n){vr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ra.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var xa=new X(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Na=new Nr(3e4,6e4),Ra=new Nr(5e3,15e3),Aa=null;function Oa(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Pa(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Da(e){try{return Wg.a.app(e).auth().Ca()}catch(t){return[]}}function La(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ma(e){var t=Zn();return function(e){return Sa(e,ua,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=En(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=En(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:rr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new To(Zn())}))}function Ua(e){return e.l?e.l:(e.l=or().then((function(){if(!e.o){var t=e.c,n=e.h,r=Da(e.b),i=new Oa(e.u,e.f,e.b);i.f=t,i.b=n,i.c=B(r||[]),e.o=i.toString()}e.i=new ka(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then((function(){e.a.register("authEvent",t,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=wo(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ye(n)}return n.status="ERROR",Ye(n)}))}(e)})),e.l)}function Fa(e){return e.m||(e.v=e.c?gr(e.c,Da(e.b)):null,e.m=new ks(e.f,ki(e.h),e.v)),e.m}function ja(e,t,n,r,i,o,s,a,l,u,c){return(e=new Pa(e,t,n,r,i)).l=o,e.g=s,e.i=a,e.b=K(l||null),e.f=u,e.nb(c).toString()}function Va(e){if(this.a=e||Wg.a.INTERNAL.reactNative&&Wg.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ha(e){this.b=e,this.a={},this.f=C(this.c,this)}Oa.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Mn(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Mn(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Mn(this.a.a,"fw"),this.a.toString()},Pa.prototype.nb=function(e){return this.h=e,this},Pa.prototype.toString=function(){var e=Sn(this.o,"/__/auth/handler");if(wn(e,"apiKey",this.m),wn(e,"appName",this.c),wn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=Wg.a.app(this.c).auth().ha()}catch(a){n=null}for(var r in t.bb=n,wn(e,"providerId",this.a.providerId),n=Sr((t=this.a).zb))n[r]=n[r].toString();r=t.Fc,n=K(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.eb&&t.bb&&!n[t.eb]&&(n[t.eb]=t.bb),Q(n)||wn(e,"customParameters",Er(n))}if("function"==typeof this.a.Hb&&(t=this.a.Hb()).length&&wn(e,"scopes",t.join(",")),this.l?wn(e,"redirectUrl",this.l):Mn(e.a,"redirectUrl"),this.g?wn(e,"eventId",this.g):Mn(e.a,"eventId"),this.i?wn(e,"v",this.i):Mn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(e,s)&&wn(e,s,this.b[s]);return this.h?wn(e,"tid",this.h):Mn(e.a,"tid"),this.f?wn(e,"eid",this.f):Mn(e.a,"eid"),(s=Da(this.c)).length&&wn(e,"fw",s.join(",")),e.toString()},(e=La.prototype).Fb=function(e,t,n){var r=new Yr("popup-closed-by-user"),i=new Yr("web-storage-unsupported"),o=this,s=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Ua(e).then((function(){return function(e,t){return e.gb.then((function(){return new We((function(n){e.a.send(t.type,t,n,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&tr(e),t(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(e){return new We((function(t){return function n(){cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return cn(n).then((function(){t(r)}))}))},e.Ob=function(){var e=mr();return!Cr(e)&&!kr(e)},e.Jb=function(){return!1},e.Db=function(e,t,n,r,i,o,s,a){if(!e)return Xe(new Yr("popup-blocked"));if(s&&!Cr())return this.ia().s((function(t){tr(e),i(t)})),r(),Ye();this.a||(this.a=Ma(Fa(this)));var l=this;return this.a.then((function(){var t=l.ia().s((function(t){throw tr(e),i(t),t}));return r(),t})).then((function(){_o(n),s||Jn(ja(l.u,l.f,l.b,t,n,null,o,l.c,void 0,l.h,a),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(l.a=null),e}))},e.Eb=function(e,t,n,r){this.a||(this.a=Ma(Fa(this)));var i=this;return this.a.then((function(){_o(t),Jn(ja(i.u,i.f,i.b,e,t,Zn(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ia=function(){var e=this;return Ua(this).then((function(){return e.i.gb})).s((function(){throw e.a=null,new Yr("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(e){this.g.push(e)},e.Na=function(e){W(this.g,(function(t){return t==e}))},(e=Va.prototype).get=function(e){return Ye(this.a.getItem(e)).then((function(e){return e&&Tr(e)}))},e.set=function(e,t){return Ye(this.a.setItem(e,Er(t)))},e.S=function(e){return Ye(this.a.removeItem(e))},e.$=function(){},e.ea=function(){};var qa,Wa=[];function za(e,t,n){Q(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ba(e){this.a=e}function $a(e){this.c=e,this.b=!1,this.a=[]}function Qa(e,t,n,r){var i,o,s,a,l=n||{},u=null;if(e.b)return Xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new We((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),e.a.push(u={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ka(e,u),t})).s((function(t){throw Ka(e,u),t}))}function Ka(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),W(e.a,(function(e){return e==t}))}}function Ga(){if(!Xa())throw new Yr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;lr()&&self?(this.l=function(){var e=lr()?self:null;if(F(Wa,(function(n){n.b==e&&(t=n)})),!t){var t=new Ha(e);Wa.push(t)}return t}(),za(this.l,"keyChanged",(function(t,n){return nl(e).then((function(t){return 0<t.length&&F(e.a,(function(e){e(t)})),{keyProcessed:H(t,n.key)}}))})),za(this.l,"ping",(function(){return Ye(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Ye().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Ye(null)}().then((function(t){(e.h=t)&&(e.g=new $a(new Ba(t)),Qa(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&H(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function Ya(e){return e.m||(e.m=function e(t){return new We((function(n,r){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new We((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).s((function(e){r(e)}))}}))}(e)),e.m}function Xa(){try{return!!s.indexedDB}catch(mt){return!1}}function Za(e){return e.objectStore("firebaseLocalStorage")}function Ja(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function el(e){return new We((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function tl(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Qa(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Ye()}function nl(e){return Ya(e).then((function(e){var t=Za(Ja(e,!1));return t.getAll?el(t.getAll()):new We((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function rl(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function il(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ye().then((function(){if(Xa()){var e=Ir(),r="__sak"+e;return qa||(qa=new Ga),(n=qa).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){F(t.a,(function(t){t(e)}))})),e}))}function ol(){this.a={},this.type="inMemory"}function sl(){if(!function(){var e="Node"==ur();if(!(e=al()||e&&Wg.a.INTERNAL.node&&Wg.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The LocalStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=al()||Wg.a.INTERNAL.node.localStorage,this.type="localStorage"}function al(){try{var e=s.localStorage,t=Ir();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ll(){this.type="nullStorage"}function ul(){if(!function(){var e="Node"==ur();if(!(e=cl()||e&&Wg.a.INTERNAL.node&&Wg.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The SessionStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=cl()||Wg.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cl(){try{var e=s.sessionStorage,t=Ir();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function hl(){var e={};e.Browser=fl,e.Node=gl,e.ReactNative=ml,e.Worker=vl,this.a=e[ur()]}Ha.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];F(r,(function(t){i.push(Ye().then((function(){return t(e.origin,e.data.data)})))})),Je(i).then((function(r){var i=[];F(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),F(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ba.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},$a.prototype.close=function(){for(;0<this.a.length;)Ka(this,this.a[0]);this.b=!0},(e=Ga.prototype).set=function(e,t){var n,r=!1,i=this;return Ya(this).then((function(t){return el((t=Za(Ja(n=t,!0))).get(e))})).then((function(o){var s=Za(Ja(n,!0));return o?(o.value=t,el(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,el(s.add(o)))})).then((function(){return i.c[e]=t,tl(i,e)})).ka((function(){r&&i.b--}))},e.get=function(e){return Ya(this).then((function(t){return el(Za(Ja(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.S=function(e){var t=!1,n=this;return Ya(this).then((function(r){return t=!0,n.b++,el(Za(Ja(r,!0)).delete(e))})).then((function(){return delete n.c[e],tl(n,e)})).ka((function(){t&&n.b--}))},e.$=function(e){0==this.a.length&&function(e){rl(e),function t(){e.f=setTimeout((function(){e.i=nl(e).then((function(t){0<t.length&&F(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ea=function(e){W(this.a,(function(t){return t==e})),0==this.a.length&&rl(this)},(e=il.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.S=function(e){return this.b.then((function(t){return t.S(e)}))},e.$=function(e){this.a.push(e)},e.ea=function(e){W(this.a,(function(t){return t==e}))},(e=ol.prototype).get=function(e){return Ye(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ye()},e.S=function(e){return delete this.a[e],Ye()},e.$=function(){},e.ea=function(){},(e=sl.prototype).get=function(e){var t=this;return Ye().then((function(){return Tr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ye().then((function(){var r=Er(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Ye().then((function(){t.a.removeItem(e)}))},e.$=function(e){s.window&&$t(s.window,"storage",e)},e.ea=function(e){s.window&&Gt(s.window,"storage",e)},(e=ll.prototype).get=function(){return Ye(null)},e.set=function(){return Ye()},e.S=function(){return Ye()},e.$=function(){},e.ea=function(){},(e=ul.prototype).get=function(e){var t=this;return Ye().then((function(){return Tr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ye().then((function(){var r=Er(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Ye().then((function(){t.a.removeItem(e)}))},e.$=function(){},e.ea=function(){};var dl,pl,fl={C:sl,Ta:ul},gl={C:sl,Ta:ul},ml={C:Va,Ta:ll},vl={C:sl,Ta:ll},yl={ad:"local",NONE:"none",cd:"session"};function _l(){var e=!(kr(mr())||!ar()),t=Cr(),n=yr();this.m=e,this.h=t,this.l=n,this.a={},dl||(dl=new hl),e=dl;try{this.g=!Xn()&&Or()||!s.indexedDB?new e.a.C:new il(lr()?new ol:new e.a.C)}catch(r){this.g=new ol,this.h=!0}try{this.i=new e.a.Ta}catch(r){this.i=new ol}this.u=new ol,this.f=C(this.Pb,this),this.b={}}function bl(){return pl||(pl=new _l),pl}function wl(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Cl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function El(e,t,n){return n=Cl(t,n),"local"==t.C&&(e.b[n]=null),wl(e,t.C).S(n)}function Sl(e){e.c&&(clearInterval(e.c),e.c=null)}function Tl(e){this.a=e,this.b=bl()}(e=_l.prototype).get=function(e,t){return wl(this,e.C).get(Cl(e,t))},e.set=function(e,t,n){var r=Cl(e,n),i=this,o=wl(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Cl(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),Q(this.a)&&(wl(this,"local").$(this.f),this.h||(Xn()||!Or())&&s.indexedDB||!this.l||function(e){Sl(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Lt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Cl(e,t),this.a[e]&&(W(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),Q(this.a)&&(wl(this,"local").ea(this.f),Sl(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?wl(this,"local").ea(this.f):Sl(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.$a(t))},yt&&kt&&10==kt&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else F(e,C(this.$a,this))},e.$a=function(e){this.a[e]&&F(this.a[e],(function(e){e()}))};var Il,kl={name:"authEvent",C:"local"};function xl(){this.a=bl()}function Nl(e,t){this.b=Rl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0!==Il||(Il=s.Int32Array?new Int32Array(Ul):Ul),this.reset()}T(Nl,(function(){this.b=-1}));for(var Rl=64,Al=Rl-1,Ol=[],Pl=0;Pl<Al;Pl++)Ol[Pl]=0;var Dl=z(128,Ol);function Ll(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],l=0|e.a[3],u=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|Il[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=i,i=r,r=s+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ml(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(a(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Ll(e),i=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Ll(e),i=0)}}e.c=i,e.g+=n}Nl.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):B(this.h)};var Ul=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fl(){Nl.call(this,8,jl)}T(Fl,Nl);var jl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vl(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new xl,this.g=new Tl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hl(e){return new Yr("invalid-cordova-configuration",e)}function ql(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Wl(e){return e.f||(e.f=e.ia().then((function(){return new We((function(t){e.Aa((function n(r){return t(r),e.Na(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),zl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Hi(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(Cn(o=En(i),"firebaseError")||null))?Xr(o):null)?new bo(r.c,r.b,null,null,o,null,r.R()):new bo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}ql(e,i)}))}var n=new bo("unknown",null,null,null,new Yr("no-auth-event")),r=!1,i=cn(500).then((function(){return zl(e).then((function(){r||ql(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(vr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},So||(So=new Co),function(e){var t=So;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=vr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function zl(e){var t=null;return function(e){return e.b.get(kl,e.a).then((function(e){return wo(e)}))}(e.g).then((function(n){return t=n,El((n=e.g).b,kl,n.a)})).then((function(){return t}))}function Bl(e){this.a=e,this.b=bl()}(e=Vl.prototype).ia=function(){return this.Da?this.Da:this.Da=(sr(void 0)?or().then((function(){return new We((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof vr("universalLinks.subscribe",s))throw Hl("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",s))throw Hl("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",s))throw Hl("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",s))throw Hl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Yr("cordova-not-ready")}))},e.Fb=function(e,t){return t(new Yr("operation-not-supported-in-this-environment")),Ye()},e.Db=function(){return Xe(new Yr("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(e,t,n,r){if(this.c)return Xe(new Yr("redirect-operation-pending"));var i=this,o=s.document,a=null,l=null,u=null,c=null;return this.c=Ye().then((function(){return _o(t),Wl(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new bo(t,r,null,o,new Yr("no-auth-event"),null,i),l=vr("BuildInfo.packageName",s);if("string"!=typeof l)throw new Yr("invalid-cordova-configuration");var u=vr("BuildInfo.displayName",s),c={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!mr().toLowerCase().match(/android/))return Xe(new Yr("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(e){var t=new Fl;Ml(t,e),e=[];var n=8*t.g;Ml(t,Dl,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Ll(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return j(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=ja(e.u,e.i,e.l,t,n,null,r,e.m,c,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(kl,a.A(),t)})).then((function(){var t=vr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new Yr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=vr("cordova.plugins.browsertab.openUrl",s)))throw new Yr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=vr("cordova.InAppBrowser.open",s)))throw new Yr("invalid-cordova-configuration");t=mr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new We((function(e,t){l=function(){var t=vr("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(l),c=function(){Rr()&&u()},o.addEventListener("resume",u=function(){a||(a=cn(2e3).then((function(){t(new Yr("redirect-cancelled-by-user"))})))},!1),mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(e){return zl(i).then((function(){throw e}))}))})).ka((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),l&&i.Na(l),i.c=null}))},e.Aa=function(e){this.b.push(e),Wl(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new bo("unknown",null,null,null,new Yr("no-auth-event")),e(t))}))},e.Na=function(e){W(this.b,(function(t){return t==e}))};var $l={name:"pendingRedirect",C:"session"};function Ql(e){return El(e.b,$l,e.a)}function Kl(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new lu,this.w=new pu,this.g=new Bl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Gl(this.B,this.u,this.m,Ti)}function Gl(e,t,n,r){var i=Wg.a.SDK_VERSION||null;return sr()?new Vl(e,t,n,i,r):new La(e,t,n,i,r)}function Yl(e){e.f||(e.f=!0,e.a.Aa(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function Xl(e){e.a.Ob()&&Yl(e).s((function(t){var n=new bo("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ru(t)&&e.o(n)})),e.a.Jb()||uu(e.b)}function Zl(e,t){H(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get($l,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Ql(e.g).then((function(){Yl(e).s((function(t){var n=new bo("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ru(t)&&e.o(n)}))})):Xl(e)})).s((function(){Xl(e)}))}function Jl(e,t){W(e.h,(function(e){return e==t}))}Kl.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Gl(this.B,this.u,this.m),this.i={}},Kl.prototype.o=function(e){if(!e)throw new Yr("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=S())),t=!0;break}}return uu(this.b),t};var eu=new Nr(2e3,1e4),tu=new Nr(3e4,6e4);function nu(e,t,n,r,i,o,s){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.Aa(e.l))}),(function(){e.reset()}),i,o,s)}function ru(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function iu(e,t,n,r,i){var o;return function(e){return e.b.set($l,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(ru(t))throw new Yr("operation-not-supported-in-this-environment");return o=t,Ql(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new We((function(){})):Ql(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function ou(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),eu.get())}Kl.prototype.oa=function(){return this.b.oa()};var su={};function au(e,t,n){var r=t+":"+n;return su[r]||(su[r]=new Kl(e,t,n)),su[r]}function lu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uu(e){e.g||(e.g=!0,du(e,!1,null,null))}function cu(e){e.g&&!e.i&&du(e,!1,null,null)}function hu(e,t){if(e.b=function(){return Ye(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function du(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Xe(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):hu(e,n):hu(e,{user:null}),e.f=[],e.c=[]}function pu(){}function fu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function gu(e,t){this.a=t,Ur(this,"verificationId",e)}function mu(e,t,n,r){return new mo(e).Wa(t,n).then((function(e){return new gu(e,r)}))}function vu(e){var t=Si(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Yr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:e,expirationTime:Ar(1e3*t.exp),authTime:Ar(1e3*t.auth_time),issuedAtTime:Ar(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function yu(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _u(e){this.f=e,this.b=this.a=null,this.c=0}function bu(e,t){var n=t[Ns],r=t.refreshToken;t=wu(t.expiresIn),e.b=n,e.c=t,e.a=r}function wu(e){return S()+1e3*parseInt(e,10)}function Cu(e,t){this.a=e||null,this.b=t||null,Fr(this,{lastSignInTime:Ar(t||null),creationTime:Ar(e||null)})}function Eu(e,t,n,r,i,o){Fr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Su(e,t){for(var n in Dt.call(this,e),t)this[n]=t[n]}function Tu(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=Wg.a.SDK_VERSION?gr(Wg.a.SDK_VERSION):null,this.a=new ks(this.l,ki(Ti),e),this.b=new _u(this.a),Ou(this,t[Ns]),bu(this.b,t),Ur(this,"refreshToken",this.b.a),Lu(this,n||{}),on.call(this),this.J=!1,this.o&&_r()&&(this.i=au(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new yu((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-S()-3e5;return 0<t?t:0}))}(this),this.W=C(this.Ja,this);var r=this;this.ga=null,this.xa=function(e){r.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){ku(r,e.c)},this.Y=null}function Iu(e,t){e.Z&&Gt(e.Z,"languageCodeChanged",e.xa),(e.Z=t)&&$t(t,"languageCodeChanged",e.xa)}function ku(e,t){e.P=t,Ls(e.a,Wg.a.SDK_VERSION?gr(Wg.a.SDK_VERSION,e.P):null)}function xu(e,t){e.Y&&Gt(e.Y,"frameworkChanged",e.wa),(e.Y=t)&&$t(t,"frameworkChanged",e.wa)}function Nu(e){try{return Wg.a.app(e.m).auth()}catch(t){throw new Yr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ru(e){e.B||e.w.b||(e.w.start(),Gt(e,"tokenChanged",e.W),$t(e,"tokenChanged",e.W))}function Au(e){Gt(e,"tokenChanged",e.W),e.w.stop()}function Ou(e,t){e.ma=t,Ur(e,"_lat",t)}function Pu(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return Je(t).then((function(){return e}))}function Du(e){e.i&&!e.J&&(e.J=!0,Zl(e.i,e))}function Lu(e,t){Fr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Cu(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Mu(){}function Uu(e){return Ye().then((function(){if(e.B)throw new Yr("app-deleted")}))}function Fu(e){return j(e.providerData,(function(e){return e.providerId}))}function ju(e,t){t&&(Vu(e,t.providerId),e.providerData.push(t))}function Vu(e,t){W(e.providerData,(function(e){return e.providerId==t}))}function Hu(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Ur(e,t,n)}function qu(e,t){e!=t&&(Fr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Ur(e,"metadata",t.metadata?function(e){return new Cu(e.a,e.b)}(t.metadata):new Cu),F(t.providerData,(function(t){ju(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Ur(e,"refreshToken",e.b.a))}function Wu(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return Sa(e.a,oa,{idToken:t}).then(C(e.zc,e))}(e,t).then((function(){return n||Hu(e,"isAnonymous",!1),t}))}))}function zu(e,t){t[Ns]&&e.ma!=t[Ns]&&(bu(e.b,t),e.dispatchEvent(new Su("tokenChanged")),Ou(e,t[Ns]),Hu(e,"refreshToken",e.b.a))}function Bu(e,t){return Wu(e).then((function(){if(H(Fu(e),t))return Pu(e).then((function(){throw new Yr("provider-already-linked")}))}))}function $u(e,t,n){return jr({user:e,credential:yo(t),additionalUserInfo:t=Oi(t),operationType:n})}function Qu(e,t){return zu(e,t),e.reload().then((function(){return e}))}function Ku(e,t,n,r,i){if(!_r())return Xe(new Yr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Xe(e.h);var o=Ai(n.providerId),s=Ir(e.uid+":::"),a=null;(!Cr()||ar())&&e.o&&n.isOAuthProvider&&(a=ja(e.o,e.l,e.m,t,n,null,s,Wg.a.SDK_VERSION||null,null,null,e.tenantId));var l=nr(a,o&&o.sa,o&&o.ra);return r=r().then((function(){if(Yu(e),!i)return e.G().then((function(){}))})).then((function(){return nu(e.i,l,t,n,s,!!a,e.tenantId)})).then((function(){return new We((function(n,r){e.ja(t,null,new Yr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=ou(e.i,e,t,l,s)}))})).then((function(e){return l&&tr(l),e?jr(e):null})).s((function(e){throw l&&tr(l),e})),Xu(e,r,i)}function Gu(e,t,n,r,i){if(!_r())return Xe(new Yr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Xe(e.h);var o=null,s=Ir(e.uid+":::");return r=r().then((function(){if(Yu(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=s,Pu(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ec,e.A(),t.a)),t})).then((function(){return iu(e.i,t,n,s,e.tenantId)})).s((function(t){if(o=t,e.da)return tc(e.da);throw o})).then((function(){if(o)throw o})),Xu(e,r,i)}function Yu(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Yr("internal-error");throw new Yr("auth-domain-config-required")}}function Xu(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Xe(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Su("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){q(e.I,r)})),r}function Zu(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var r=new Tu(t,n,e);return e.providerData&&F(e.providerData,(function(e){e&&ju(r,jr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function Ju(e){this.a=e,this.b=bl()}lu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},lu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(du(this,!0,null,e.a),Ye()):t.Ba(n,r)?function(e,t,n){n=n.Ba(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.R(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then((function(t){du(e,a,t,null)})).s((function(t){du(e,a,null,t)}))}(this,e,t):Xe(new Yr("invalid-auth-event")):(du(this,!1,null,null),Ye())}else Xe(new Yr("invalid-auth-event"))},lu.prototype.oa=function(){var e=this;return new We((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Yr("timeout");e.a&&e.a.cancel(),e.a=cn(tu.get()).then((function(){e.b||(e.g=!0,du(e,!0,null,t))}))}(e))}))},pu.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ye()):t.Ba(n,r)?function(e,t){var n=e.b,r=e.c;t.Ba(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):Xe(new Yr("invalid-auth-event"))}else Xe(new Yr("invalid-auth-event"))},gu.prototype.confirm=function(e){return e=vo(this.verificationId,e),this.a(e)},yu.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=s.document,t=null;return Rr()||!e?Ye():new We((function(n){t=function(){Rr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},yu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_u.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_u.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Xe(new Yr("user-token-expired")):e||!this.b||S()>this.c-3e4?this.a?function(e,t){return function(e,t){return new We((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ms(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ia(e)):e.access_token&&e.refresh_token?n(e):r(new Yr("internal-error")):r(new Yr("network-request-failed"))}),"POST",Ln(t).toString(),e.g,e.u.get()):r(new Yr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=wu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ye(null):Ye({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cu.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Su,Dt),T(Tu,on),Tu.prototype.ua=function(e){this.ga=e,Ds(this.a,e)},Tu.prototype.ha=function(){return this.ga},Tu.prototype.Ca=function(){return B(this.P)},Tu.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Ur(Tu.prototype,"providerId","firebase"),(e=Tu.prototype).reload=function(){var e=this;return Xu(this,Uu(this).then((function(){return Wu(e).then((function(){return Pu(e)})).then(Mu)})))},e.dc=function(e){return this.G(e).then((function(e){return new vu(e)}))},e.G=function(e){var t=this;return Xu(this,Uu(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Yr("internal-error");return e.accessToken!=t.ma&&(Ou(t,e.accessToken),t.dispatchEvent(new Su("tokenChanged"))),Hu(t,"refreshToken",e.refreshToken),e.accessToken})))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new Yr("internal-error");Lu(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?j(e,(function(e){return new Eu(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ju(this,t[n]);Hu(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(e){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},e.hb=function(e){var t=this,n=null;return Xu(this,e.f(this.a,this.uid).then((function(e){return zu(t,e),n=$u(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.rc=function(e){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},e.fb=function(e){var t=this,n=null;return Xu(this,Bu(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=$u(t,e,"link"),Qu(t,e)})).then((function(){return n})))},e.sc=function(e,t){var n=this;return Xu(this,Bu(this,"phone").then((function(){return mu(Nu(n),e,t,C(n.fb,n))})))},e.Bc=function(e,t){var n=this;return Xu(this,Ye().then((function(){return mu(Nu(n),e,t,C(n.hb,n))})),!0)},e.rb=function(e){var t=this;return Xu(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return zu(t,e),t.reload()})))},e.Sc=function(e){var t=this;return Xu(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return zu(t,e),t.reload()})))},e.sb=function(e){var t=this;return Xu(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return zu(t,e),t.reload()})))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Uu(this);var t=this;return Xu(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return zu(t,e),Hu(t,"displayName",e.displayName||null),Hu(t,"photoURL",e.photoUrl||null),F(t.providerData,(function(e){"password"===e.providerId&&(Ur(e,"displayName",t.displayName),Ur(e,"photoURL",t.photoURL))})),Pu(t)})).then(Mu))},e.Qc=function(e){var t=this;return Xu(this,Wu(this).then((function(n){return H(Fu(t),e)?function(e,t,n){return Sa(e,na,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return F(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),F(Fu(t),(function(e){n[e]||Vu(t,e)})),n[mo.PROVIDER_ID]||Ur(t,"phoneNumber",null),Pu(t)})):Pu(t).then((function(){throw new Yr("no-such-provider")}))})))},e.delete=function(){var e=this;return Xu(this,this.G().then((function(t){return Sa(e.a,ta,{idToken:t})})).then((function(){e.dispatchEvent(new Su("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Iu(e,null),xu(e,null),e.I=[],e.B=!0,Au(e),Ur(e,"refreshToken",null),e.i&&Jl(e.i,e)}))},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},e.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?C(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?C(this.Cb,this):null},e.tc=function(e){var t=this;return Ku(this,"linkViaPopup",e,(function(){return Bu(t,e.providerId).then((function(){return Pu(t)}))}),!1)},e.Cc=function(e){return Ku(this,"reauthViaPopup",e,(function(){return Ye()}),!0)},e.uc=function(e){var t=this;return Gu(this,"linkViaRedirect",e,(function(){return Bu(t,e.providerId)}),!1)},e.Dc=function(e){return Gu(this,"reauthViaRedirect",e,(function(){return Ye()}),!0)},e.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xu(this,this.G().then((function(n){return Ks(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=$u(i,e,"link"),Qu(i,e)})).then((function(){return o})))},e.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xu(this,Ye().then((function(){return Wi(Gs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=$u(i,e,"reauthenticate"),zu(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.jb=function(e){var t=this,n=null;return Xu(this,this.G().then((function(t){return n=t,void 0===e||Q(e)?{}:_i(new ui(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(e,this.metadata.A()),F(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ec={name:"redirectUser",C:"session"};function tc(e){return El(e.b,ec,e.a)}function nc(e){this.a=e,this.b=bl(),this.c=null,this.f=function(e){var t=oc("local"),n=oc("session"),r=oc("none");return function(e,t,n){var r=Cl(t,n),i=wl(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=Tr(s.localStorage.getItem(r))}catch(l){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ic,e.a).then((function(e){return e?oc(e):t}))}))}))})).then((function(t){return e.c=t,rc(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function rc(e,t){var n,r=[];for(n in yl)yl[n]!==t&&r.push(El(e.b,oc(yl[n]),e.a));return r.push(El(e.b,ic,e.a)),function(e){return new We((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)Ze(e[a],E(o,a),s);else t(i)}))}(r)}nc.prototype.g=function(){var e=this,t=oc("local");uc(this,(function(){return Ye().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return rc(e,"local").then((function(){e.c=t}))}))}))};var ic={name:"persistence",C:"session"};function oc(e){return{name:"authUser",C:e}}function sc(e,t){return uc(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function ac(e){return uc(e,(function(){return El(e.b,e.c,e.a)}))}function lc(e,t){return uc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zu(e||{})}))}))}function uc(e,t){return e.f=e.f.then(t,t),e.f}function cc(e){if(this.l=!1,Ur(this,"settings",new fu),Ur(this,"app",e),!yc(this).options||!yc(this).options.apiKey)throw new Yr("invalid-api-key");e=Wg.a.SDK_VERSION?gr(Wg.a.SDK_VERSION):null,this.b=new ks(yc(this).options&&yc(this).options.apiKey,ki(Ti),e),this.O=[],this.m=[],this.J=[],this.Ub=Wg.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=Wg.a.INTERNAL.createSubscribe(C(this.pc,this)),mc(this,null),this.h=new nc(yc(this).options.apiKey+":"+yc(this).name),this.w=new Ju(yc(this).options.apiKey+":"+yc(this).name),this.Y=Cc(this,function(e){var t=yc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ec,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zu(e||{})}))}(e.w,yc(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),tc(e.w)}));return Cc(e,t)}(e).then((function(){return lc(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return sc(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:ac(e.h)}))):null})).then((function(t){mc(e,t||null)}));return Cc(e,n)}(this)),this.i=Cc(this,function(e){return e.Y.then((function(){return fc(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(oc("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.wa=C(this.bc,this),this.xa=C(this.mc,this),this.Ja=C(this.nc,this),this.a=null,function(e){var t=yc(e).options.authDomain,n=yc(e).options.apiKey;t&&_r()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=au(t,n,yc(e).name),Zl(e.a,e),_c(e)&&Du(_c(e)),e.B){Du(e.B);var r=e.B;r.ua(e.ha()),Iu(r,e),ku(r=e.B,e.I),xu(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.ua(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function hc(e){Dt.call(this,"languageCodeChanged"),this.g=e}function dc(e){Dt.call(this,"frameworkChanged"),this.c=e}function pc(e){return e.Tb||Xe(new Yr("auth-domain-config-required"))}function fc(e){if(!_r())return Xe(new Yr("operation-not-supported-in-this-environment"));var t=pc(e).then((function(){return e.a.oa()})).then((function(e){return e?jr(e):null}));return Cc(e,t)}function gc(e,t){var n={};return n.apiKey=yc(e).options.apiKey,n.authDomain=yc(e).options.authDomain,n.appName=yc(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Tu(e,t);return n&&(i.da=n),r&&ku(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Ca())})).then((function(t){return _c(e)&&t.uid==_c(e).uid?(qu(_c(e),t),e.aa(t)):(mc(e,t),Du(t),e.aa(t))})).then((function(){wc(e)}))}function mc(e,t){_c(e)&&(function(e,t){W(e.O,(function(e){return e==t}))}(_c(e),e.ub),Gt(_c(e),"tokenChanged",e.wa),Gt(_c(e),"userDeleted",e.xa),Gt(_c(e),"userInvalidated",e.Ja),Au(_c(e))),t&&(t.O.push(e.ub),$t(t,"tokenChanged",e.wa),$t(t,"userDeleted",e.xa),$t(t,"userInvalidated",e.Ja),0<e.o&&Ru(t)),Ur(e,"currentUser",t),t&&(t.ua(e.ha()),Iu(t,e),ku(t,e.I),xu(t,e))}function vc(e,t){var n=null,r=null;return Cc(e,t.then((function(t){return n=yo(t),r=Oi(t),gc(e,t)})).then((function(){return jr({user:_c(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function yc(e){return e.app}function _c(e){return e.currentUser}function bc(e){return _c(e)&&_c(e)._lat||null}function wc(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](bc(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](bc(e))}}function Cc(e,t){return e.O.push(t),t.ka((function(){q(e.O,t)})),t}function Ec(){}function Sc(){this.a={},this.b=1e12}nc.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Yr("invalid-persistence-type"),n=new Yr("unsupported-persistence-type");e:{for(r in yl)if(yl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(ur()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!yr()&&"none"!==e)throw n}}(e),uc(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,rc(n,e)})).then((function(){if(n.c=oc(e),t)return n.b.set(n.c,t,n.a)})):Ye()}))},T(cc,on),T(hc,Dt),T(dc,Dt),(e=cc.prototype).mb=function(e){return Cc(this,e=this.h.mb(e))},e.ua=function(e){this.Z===e||this.l||(this.Z=e,Ds(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var e=s.navigator;this.ua(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.I.push(e),Ls(this.b,Wg.a.SDK_VERSION?gr(Wg.a.SDK_VERSION,this.I):null),this.dispatchEvent(new dc(this.I))},e.Ca=function(){return B(this.I)},e.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:yc(this).options.apiKey,authDomain:yc(this).options.authDomain,appName:yc(this).name,currentUser:_c(this)&&_c(this).A()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?C(this.ac,this):null},e.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,s=null,a=Qs(i.b,e).then((function(e){return o=yo(e),s=Oi(e),e}));return Cc(this,e=i.Y.then((function(){return a})).then((function(e){return gc(i,e)})).then((function(){return jr({user:_c(i),credential:o,additionalUserInfo:s,operationType:"signIn"})})))},e.Lc=function(e){if(!_r())return Xe(new Yr("operation-not-supported-in-this-environment"));var t=this,n=Ai(e.providerId),r=Ir(),i=null;(!Cr()||ar())&&yc(this).options.authDomain&&e.isOAuthProvider&&(i=ja(yc(this).options.authDomain,yc(this).options.apiKey,yc(this).name,"signInViaPopup",e,null,r,Wg.a.SDK_VERSION||null,null,null,this.R()));var o=nr(i,n&&n.sa,n&&n.ra);return Cc(this,n=pc(this).then((function(n){return nu(n,o,"signInViaPopup",e,r,!!i,t.R())})).then((function(){return new We((function(e,n){t.ja("signInViaPopup",null,new Yr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=ou(t.a,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&tr(o),e?jr(e):null})).s((function(e){throw o&&tr(o),e})))},e.Mc=function(e){if(!_r())return Xe(new Yr("operation-not-supported-in-this-environment"));var t=this;return Cc(this,pc(this).then((function(){return function(e){return uc(e,(function(){return e.b.set(ic,e.c.C,e.a)}))}(t.h)})).then((function(){return iu(t.a,"signInViaRedirect",e,void 0,t.R())})))},e.oa=function(){var e=this;return fc(this).then((function(t){return e.a&&cu(e.a.b),t})).s((function(t){throw e.a&&cu(e.a.b),t}))},e.Rc=function(e){if(!e)return Xe(new Yr("null-user"));if(this.P!=e.tenantId)return Xe(new Yr("tenant-id-mismatch"));var t=this,n={};n.apiKey=yc(this).options.apiKey,n.authDomain=yc(this).options.authDomain,n.appName=yc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Ns]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,t=new Tu(t,o),n&&(t.da=n),r&&ku(t,r),qu(t,e),t}(e,n,t.w,t.Ca());return Cc(this,this.i.then((function(){if(yc(t).options.apiKey!=e.l)return r.reload()})).then((function(){return _c(t)&&e.uid==_c(t).uid?(qu(_c(t),e),t.aa(e)):(mc(t,r),Du(r),t.aa(r))})).then((function(){wc(t)})))},e.pb=function(){var e=this;return Cc(this,this.i.then((function(){return e.a&&cu(e.a.b),_c(e)?(mc(e,null),ac(e.h).then((function(){wc(e)}))):Ye()})))},e.Nc=function(){var e=this;return lc(this.h,yc(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=_c(e)&&t){n=_c(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return qu(_c(e),t),_c(e).G();(_c(e)||t)&&(mc(e,t),t&&(Du(t),t.da=e.w),e.a&&Zl(e.a,e),wc(e))}}))},e.aa=function(e){return sc(this.h,e)},e.bc=function(){wc(this),this.aa(_c(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(_c(t))}))},e.pc=function(e){var t=this;!function(e,t){e.J.push(t),Cc(e,e.i.then((function(){!e.l&&H(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(bc(e)))})))}(this,(function(){e.next(_c(t))}))},e.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){m(e)?e(_c(r)):m(e.next)&&e.next(_c(r))})),this.Ub(e,t,n)},e.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),m(e)?e(_c(r)):m(e.next)&&e.next(_c(r))})),this.Vb(e,t,n)},e.cc=function(e){var t=this;return Cc(this,this.i.then((function(){return _c(t)?_c(t).G(e).then((function(e){return{accessToken:e}})):null})))},e.Hc=function(e){var t=this;return this.i.then((function(){return vc(t,Sa(t.b,_a,{token:e}))})).then((function(e){var n=e.user;return Hu(n,"isAnonymous",!1),t.aa(n),e}))},e.Ic=function(e,t){var n=this;return this.i.then((function(){return vc(n,Sa(n.b,ba,{email:e,password:t}))}))},e.Xb=function(e,t){var n=this;return this.i.then((function(){return vc(n,Sa(n.b,Js,{email:e,password:t}))}))},e.Sa=function(e){var t=this;return this.i.then((function(){return vc(t,e.na(t.b))}))},e.Gc=function(e){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(e)},e.ob=function(){var e=this;return this.i.then((function(){var t=_c(e);if(t&&t.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vc(e,e.b.ob()).then((function(t){var n=t.user;return Hu(n,"isAnonymous",!0),e.aa(n),t}))}))},e.getUid=function(){return _c(this)&&_c(this).uid||null},e.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&_c(this)&&Ru(_c(this))},e.Ec=function(e){var t=this;F(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&_c(this)&&Au(_c(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Cc(this,this.i.then((function(){t.l||H(t.m,e)&&e(bc(t))})))},e.removeAuthTokenListener=function(e){W(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(oc("local"),e.a,this.ma),this.a&&(Jl(this.a,this),cu(this.a.b)),Promise.resolve()},e.$b=function(e){return Cc(this,function(e,t){return Sa(e,ea,{identifier:t,continueUri:br()?Zn():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.qc=function(e){return!!ho(e)},e.lb=function(e,t){var n=this;return Cc(this,Ye().then((function(){var e=new ui(t);if(!e.c)throw new Yr("argument-error",di+" must be true when sending sign in link to email");return _i(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},e.Uc=function(e){return this.Ma(e).then((function(e){return e.data.email}))},e.ab=function(e,t){return Cc(this,this.b.ab(e,t).then((function(){})))},e.Ma=function(e){return Cc(this,this.b.Ma(e).then((function(e){return new Hr(e)})))},e.Ya=function(e){return Cc(this,this.b.Ya(e).then((function(){})))},e.kb=function(e,t){var n=this;return Cc(this,Ye().then((function(){return void 0===t||Q(t)?{}:_i(new ui(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},e.Kc=function(e,t){return Cc(this,mu(this,e,t,C(this.Sa,this)))},e.Jc=function(e,t){var n=this;return Cc(this,Ye().then((function(){var r=t||Zn(),i=co(e,r);if(!(r=ho(r)))throw new Yr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Yr("tenant-id-mismatch");return n.Sa(i)})))},Ec.prototype.render=function(){},Ec.prototype.reset=function(){},Ec.prototype.getResponse=function(){},Ec.prototype.execute=function(){};var Tc=null;function Ic(e,t){return(t=kc(t))&&e.a[t]||null}function kc(e){return(e=void 0===e?1e12:e)?e.toString():null}function xc(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():$t(this.f,"click",this.i)}function Nc(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Rc(){}Sc.prototype.render=function(e,t){return this.a[this.b.toString()]=new xc(e,t),this.b++},Sc.prototype.reset=function(e){var t=Ic(this,e);e=kc(e),t&&e&&(t.delete(),delete this.a[e])},Sc.prototype.getResponse=function(e){return(e=Ic(this,e))?e.getResponse():null},Sc.prototype.execute=function(e){(e=Ic(this,e))&&e.execute()},xc.prototype.getResponse=function(){return Nc(this),this.b},xc.prototype.execute=function(){Nc(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},xc.prototype.delete=function(){Nc(this),this.g=!0,clearTimeout(this.a),this.a=null,Gt(this.f,"click",this.i)},Rc.prototype.g=function(){return Tc||(Tc=new Sc),Ye(Tc)},Rc.prototype.c=function(){};var Ac=null;function Oc(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pc=new X(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dc=new Nr(3e4,6e4);Oc.prototype.g=function(e){var t=this;return new We((function(n,r){var i=setTimeout((function(){r(new Yr("network-request-failed"))}),Dc.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Yr("internal-error"));delete s[t.a]},Ye(bs(ie(Pc,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Yr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Oc.prototype.c=function(){this.b--};var Lc=null;function Mc(e,t,n,r,i,o,a){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(Ac||(Ac=new Rc),a=Ac):(Lc||(Lc=new Oc),a=Lc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jc])throw new Yr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vc],!s.document)throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qn(t)||!this.i&&qn(t).hasChildNodes())throw new Yr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ks(e,o||null,i||null),this.v=r||function(){return null};var l=this;this.l=[];var u=this.a[Uc];this.a[Uc]=function(e){if(Hc(l,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=vr(u,s);"function"==typeof t&&t(e)}};var c=this.a[Fc];this.a[Fc]=function(){if(Hc(l,null),"function"==typeof c)c();else if("string"==typeof c){var e=vr(c,s);"function"==typeof e&&e()}}}var Uc="callback",Fc="expired-callback",jc="sitekey",Vc="size";function Hc(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function qc(e,t){return e.h.push(t),t.ka((function(){q(e.h,t)})),t}function Wc(e){if(e.B)throw new Yr("internal-error","RecaptchaVerifier instance has been destroyed.")}function zc(e,t,n){var r=!1;try{this.b=n||Wg.a.app()}catch(s){throw new Yr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ca()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Wg.a.SDK_VERSION?gr(Wg.a.SDK_VERSION,o):null,Mc.call(this,n,e,t,(function(){try{var e=i.b.auth().ha()}catch(t){e=null}return e}),o,ki(Ti),r)}function Bc(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new Yr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=$c.length)throw new Yr("internal-error","Argument validator received an unsupported number of arguments.");n=$c[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Yr("argument-error",e+" failed: "+r)}(e=Mc.prototype).Da=function(){var e=this;return this.f?this.f:this.f=qc(this,Ye().then((function(){if(br()&&!lr())return or();throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,Sa(e.o,ca,{})})).then((function(t){e.a[jc]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Wc(this);var e=this;return qc(this,this.Da().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=qn(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!Hn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ue(s.name),'"'),s.type){o.push(' type="',Ue(s.type),'"');var l={};Y(l,s),delete l.type,s=l}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(a(s)?o.className=s:f(s)?o.className=s.join(" "):Wn(o,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(a(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||v(o)&&0<o.nodeType?r(o):F(Bn(o)?B(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Wc(this);var e=this;return qc(this,this.render().then((function(t){return new We((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){W(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Wc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Wc(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=qn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},T(zc,Mc);var $c="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qc(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:a}}function Kc(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:l}}function Gc(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:v}}function Yc(e,t){return{name:e||"",M:"a function",optional:!!t,N:m}}function Xc(e,t){return{name:e||"",M:"null",optional:!!t,N:p}}function Zc(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){return!!t&&!(!t.na||e&&t.providerId!==e)}}}function Jc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&a(e.type)&&m(e.verify))}}}function eh(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function th(e,t){for(var n in t){var r=t[n].name;e[r]=ih(r,e[n],t[n].j)}}function nh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Bc(e,[n],[r],!0),this[t]=r}),r,n,t[n].Za),enumerable:!0})}}function rh(e,t,n,r){e[t]=ih(t,n,r)}function ih(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Bc(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}th(cc.prototype,{Ya:{name:"applyActionCode",j:[Qc("code")]},Ma:{name:"checkActionCode",j:[Qc("code")]},ab:{name:"confirmPasswordReset",j:[Qc("code"),Qc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Qc("email"),Qc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Qc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Qc("emailLink")]},wc:{name:"onAuthStateChanged",j:[eh(Gc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[eh(Gc(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Qc("email"),eh(Gc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Qc("email"),Gc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Qc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Zc()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Zc()]},Hc:{name:"signInWithCustomToken",j:[Qc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Qc("email"),Qc("password")]},Jc:{name:"signInWithEmailLink",j:[Qc("email"),Qc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[eh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Tu)}},Xc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Qc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Za:eh(Qc(),Xc(),"languageCode")},ti:{name:"tenantId",Za:eh(Qc(),Xc(),"tenantId")}}),(cc.Persistence=yl).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",th(Tu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Kc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Kc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Zc()]},fb:{name:"linkWithCredential",j:[Zc()]},sc:{name:"linkWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zc()]},hb:{name:"reauthenticateWithCredential",j:[Zc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Qc("phoneNumber"),Jc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[eh(Gc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qc(null,!0)]},Qc:{name:"unlink",j:[Qc("provider")]},rb:{name:"updateEmail",j:[Qc("email")]},sb:{name:"updatePassword",j:[Qc("password")]},Sc:{name:"updatePhoneNumber",j:[Zc("phone")]},tb:{name:"updateProfile",j:[Gc("profile")]}}),th(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),th(We.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(fu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:Kc("appVerificationDisabledForTesting")}}),th(gu.prototype,{confirm:{name:"confirm",j:[Qc("verificationCode")]}}),rh(qi,"fromJSON",(function(e){e=a(e)?JSON.parse(e):e;for(var t,n=[Gi,lo,fo,$i],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[eh(Qc(),Gc(),"json")]),rh(uo,"credential",(function(e,t){return new ao(e,t)}),[Qc("email"),Qc("password")]),th(ao.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(Ji.prototype,{ya:{name:"addScope",j:[Qc("scope")]},Ga:{name:"setCustomParameters",j:[Gc("customOAuthParameters")]}}),rh(Ji,"credential",eo,[eh(Qc(),Gc(),"token")]),rh(uo,"credentialWithLink",co,[Qc("email"),Qc("emailLink")]),th(to.prototype,{ya:{name:"addScope",j:[Qc("scope")]},Ga:{name:"setCustomParameters",j:[Gc("customOAuthParameters")]}}),rh(to,"credential",no,[eh(Qc(),Gc(),"token")]),th(ro.prototype,{ya:{name:"addScope",j:[Qc("scope")]},Ga:{name:"setCustomParameters",j:[Gc("customOAuthParameters")]}}),rh(ro,"credential",io,[eh(Qc(),eh(Gc(),Xc()),"idToken"),eh(Qc(),Xc(),"accessToken",!0)]),th(oo.prototype,{Ga:{name:"setCustomParameters",j:[Gc("customOAuthParameters")]}}),rh(oo,"credential",so,[eh(Qc(),Gc(),"token"),Qc("secret",!0)]),th(Zi.prototype,{ya:{name:"addScope",j:[Qc("scope")]},credential:{name:"credential",j:[eh(Qc(),eh(Gc(),Xc()),"optionsOrIdToken"),eh(Qc(),Xc(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Gc("customOAuthParameters")]}}),th(Qi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(zi.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),rh(mo,"credential",vo,[Qc("verificationId"),Qc("verificationCode")]),th(mo.prototype,{Wa:{name:"verifyPhoneNumber",j:[Qc("phoneNumber"),Jc()]}}),th(po.prototype,{A:{name:"toJSON",j:[Qc(null,!0)]}}),th(Yr.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(Io.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(To.prototype,{toJSON:{name:"toJSON",j:[Qc(null,!0)]}}),th(zc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ei,"parseLink",li,[Qc("link")]),function(){if(void 0===Wg.a||!Wg.a.INTERNAL||!Wg.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:qi,Error:Yr};rh(e,"EmailAuthProvider",uo,[]),rh(e,"FacebookAuthProvider",Ji,[]),rh(e,"GithubAuthProvider",to,[]),rh(e,"GoogleAuthProvider",ro,[]),rh(e,"TwitterAuthProvider",oo,[]),rh(e,"OAuthProvider",Zi,[Qc("providerId")]),rh(e,"SAMLAuthProvider",Xi,[Qc("providerId")]),rh(e,"PhoneAuthProvider",mo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof cc)}}]),rh(e,"RecaptchaVerifier",zc,[eh(Qc(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Gc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof Wg.a.app.App)}}]),rh(e,"ActionCodeURL",ei,[]),Wg.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:C((e=new cc(e)).getUid,e),getToken:C(e.cc,e),addAuthTokenListener:C(e.Wb,e),removeAuthTokenListener:C(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),Wg.a.INTERNAL.extendNamespace({User:Tu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let zg=class{};var Bg="firebasestorage.googleapis.com",$g="storageBucket",Qg=12e4,Kg=6e5,Gg=-9007199254740991,Yg=function(){function e(e,t){this.code_=Zg(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return Zg(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),Xg={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Zg(e){return"storage/"+e}function Jg(){return new Yg(Xg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function em(){return new Yg(Xg.CANCELED,"User canceled the upload/download.")}function tm(){return new Yg(Xg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nm(){return new Yg(Xg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rm(e,t,n){return new Yg(Xg.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function im(){return new Yg(Xg.APP_DELETED,"The Firebase app was deleted.")}function om(e,t){return new Yg(Xg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function sm(e){throw new Yg(Xg.INTERNAL_ERROR,"Internal error: "+e)}var am={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function lm(e){switch(e){case am.RAW:case am.BASE64:case am.BASE64URL:case am.DATA_URL:return;default:throw"Expected one of the event types: ["+am.RAW+", "+am.BASE64+", "+am.BASE64URL+", "+am.DATA_URL+"]."}}var um=function(){return function(e,t){this.data=e,this.contentType=t||null}}();function cm(e,t){switch(e){case am.RAW:return new um(hm(t));case am.BASE64:case am.BASE64URL:return new um(dm(e,t));case am.DATA_URL:return new um((n=new pm(t)).base64?dm(am.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw om(am.DATA_URL,"Malformed data URL.")}return hm(t)}(n.rest),new pm(t).contentType)}var n;throw Jg()}function hm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function dm(e,t){switch(e){case am.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw om(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case am.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw om(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(u){throw om(e,"Invalid character found")}for(var a=new Uint8Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);return a}var pm=function(){return function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw om(am.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}(),fm={STATE_CHANGED:"state_changed"},gm={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},mm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vm(e){switch(e){case gm.RUNNING:case gm.PAUSING:case gm.CANCELING:return mm.RUNNING;case gm.PAUSED:return mm.PAUSED;case gm.SUCCESS:return mm.SUCCESS;case gm.CANCELED:return mm.CANCELED;case gm.ERROR:default:return mm.ERROR}}function ym(e){return null!=e}function _m(e){return void 0!==e}function bm(e){return"function"==typeof e}function wm(e){return"object"==typeof e}function Cm(e){return wm(e)&&null!==e}function Em(e){return"string"==typeof e||e instanceof String}function Sm(e){return Tm(e)&&Number.isInteger(e)}function Tm(e){return"number"==typeof e||e instanceof Number}function Im(e){return km()&&e instanceof Blob}function km(){return"undefined"!=typeof Blob}var xm=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),Nm=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=xm.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=xm.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=xm.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw sm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),ym(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return ym(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw sm("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw sm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw sm("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){ym(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){ym(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Rm=function(){function e(){}return e.prototype.createXhrIo=function(){return new Nm},e}();function Am(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Om(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Am();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(km())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var Pm=function(){function e(e,t){var n=0,r="";Im(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Im(this.data_)){var r=(o=t,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new e(r)}var i,o,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(km()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Om.apply(null,r))}var i=t.map((function(e){return Em(e)?cm(am.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)s[a++]=e[t]})),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Dm=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new Yg(Xg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=Bg.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],s=0;s<o.length;s++){var a=o[s],l=a.regex.exec(t);if(l){var u=l[a.indices.path];u||(u=""),n=new e(l[a.indices.bucket],u),a.postModify(n);break}}if(null==n)throw function(e){return new Yg(Xg.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return n},e}();function Lm(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return wm(n=t)&&!Array.isArray(n)?t:null}function Mm(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function Um(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Fm(e){return"https://"+Bg+"/v0"+e}function jm(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function Vm(e,t){return t}var Hm=function(){return function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Vm}}(),qm=null;function Wm(e,t,n){var r=Lm(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new Dm(e.bucket,e.fullPath);return t.makeStorageReference(n)}})}(r,e),r}(e,r,n)}function zm(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Bm(e){if(!wm(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!wm(n))throw"Expected object for 'customMetadata' mapping."}else if(Cm(n))throw"Mapping for '"+t+"' cannot be an object."}}var $m="maxResults",Qm=1e3,Km="pageToken",Gm="prefixes",Ym="items";function Xm(e){if(!wm(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===$m){if(!Sm(e[$m])||e[$m]<=0)throw"Expected maxResults to be a positive number.";if(e[$m]>1e3)throw"Expected maxResults to be less than or equal to "+Qm+"."}else{if(t!==Km)throw"Unknown option: "+t;if(e[Km]&&!Em(e[Km]))throw"Expected pageToken to be string."}}var Zm=function(){return function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Jm(e){if(!e)throw Jg()}function ev(e,t){return function(n,r){var i=Wm(e,r,t);return Jm(null!==i),i}}function tv(e){return function(t,n){var r;return(r=401===t.getStatus()?new Yg(Xg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Yg(Xg.QUOTA_EXCEEDED,"Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Yg(Xg.UNAUTHORIZED,"User does not have permission to access '"+e.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function nv(e){var t=tv(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new Yg(Xg.OBJECT_NOT_FOUND,"Object '"+e.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function rv(e,t,n){var r=Fm(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Zm(r,"GET",ev(e,n),i);return o.errorHandler=nv(t),o}function iv(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Fm(t.bucketOnlyServerUrl()),a=e.maxOperationRetryTime(),l=new Zm(s,"GET",function(e){return function(t,n){var r=function(e,t){var n=Lm(t);return null===n?null:function(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw new Yg(Xg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$g+"' property when initializing the app?");if(t[Gm])for(var i=0,o=t[Gm];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=e.makeStorageReference(new Dm(r,s));n.prefixes.push(a)}if(t[Ym])for(var l=0,u=t[Ym];l<u.length;l++)a=e.makeStorageReference(new Dm(r,u[l].name)),n.items.push(a);return n}(e,n)}(e,n);return Jm(null!==r),r}}(e),a);return l.urlParams=o,l.errorHandler=tv(t),l}function ov(e,t,n){var r=Fm(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Zm(r,"GET",function(e,t){return function(n,r){var i=Wm(e,r,t);return Jm(null!==i),function(e,t){var n=Lm(t);if(null===n)return null;if(!Em(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.fullPath;return Fm("/b/"+i(e.bucket)+"/o/"+i(n))+jm({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=nv(t),o}function sv(e,t,n,r){var i=Fm(t.fullServerUrl()),o=zm(n,r),s=e.maxOperationRetryTime(),a=new Zm(i,"PATCH",ev(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=nv(t),a}function av(e,t){var n=Fm(t.fullServerUrl()),r=e.maxOperationRetryTime(),i=new Zm(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=nv(t),i}function lv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var uv=function(){return function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}();function cv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Jm(!1)}return Jm(!!n&&-1!==(t||["active"]).indexOf(n)),n}var hv=function(){return function(e,t,n){if(bm(e)||ym(t)||ym(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),dv=function(){return function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function pv(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(l=s,u=1===s?"argument":"arguments"):(l="between "+s+" and "+a,u="arguments"),new Yg(Xg.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+e+"`: Expected "+l+" "+u+", received "+n.length+".");var s,a,l,u;for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(c){throw c instanceof Error?rm(o,e,c.message):rm(o,e,c)}}var fv=function(){return function(e,t){var n=this;this.validator=function(t){n.optional&&!_m(t)||e(t)},this.optional=!!t}}();function gv(e,t){function n(e){if(!Em(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new fv(r,t)}function mv(){return new fv((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||km()&&e instanceof Blob))throw"Expected Blob or File."}))}function vv(e){return new fv(Bm,e)}function yv(e){return new fv(Xm,e)}function _v(){return new fv((function(e){if(!(Tm(e)&&e>=0))throw"Expected a number 0 or greater."}))}function bv(e,t){return new fv((function(t){if(!(null===t||ym(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)}),t)}function wv(e){return new fv((function(e){if(null!==e&&!bm(e))throw"Expected a Function."}),e)}function Cv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Ev=function(){function e(e,t,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=gm.RUNNING,this.errorHandler_=function(e){s.request_=null,s.chunkMultiplier_=1,e.codeEquals(Xg.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=e,s.transition_(gm.ERROR))},this.metadataErrorHandler_=function(e){s.request_=null,e.codeEquals(Xg.CANCELED)?s.completeTransitions_():(s.error_=e,s.transition_(gm.ERROR))},this.promise_=new Promise((function(e,t){s.resolve_=e,s.reject_=t,s.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===gm.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case gm.RUNNING:e(n);break;case gm.CANCELING:t.transition_(gm.CANCELED);break;case gm.PAUSING:t.transition_(gm.PAUSED)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=lv(t,r,i),a={name:s.fullPath},l=Fm(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=zm(s,n),h=e.maxUploadRetryTime(),d=new Zm(l,"POST",(function(e){var t;cv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Jm(!1)}return Jm(Em(t)),t}),h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=tv(t),d}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new Zm(n,"POST",(function(e){var t=cv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Jm(!1)}n||Jm(!1);var i=Number(n);return Jm(!isNaN(i)),new uv(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=tv(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new uv(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(e,t,n,r,i,o,s,a){var l=new uv(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Yg(Xg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var h=l.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},p=r.slice(h,h+c);if(null===p)throw tm();var f=t.maxUploadRetryTime(),g=new Zm(n,"POST",(function(e,n){var i,s=cv(e,["active","final"]),a=l.current+c,u=r.size();return i="final"===s?ev(t,o)(e,n):null,new uv(a,u,"final"===s,i)}),f);return g.headers=d,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=tv(e),g}(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(a){return e.error_=a,void e.transition_(gm.ERROR)}var s=e.authWrapper_.makeRequest(o,i);e.request_=s,s.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(gm.SUCCESS)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=rv(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(gm.SUCCESS)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;var l=lv(t,r,i),u=zm(l,n),c=Pm.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw tm();var h={name:l.fullPath},d=Fm(o),p=e.maxUploadRetryTime(),f=new Zm(d,"POST",ev(e,n),p);return f.urlParams=h,f.headers=s,f.body=c.uploadData(),f.errorHandler=tv(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(gm.SUCCESS)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case gm.CANCELING:case gm.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case gm.RUNNING:var t=this.state_===gm.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case gm.PAUSED:this.state_=e,this.notifyObservers_();break;case gm.CANCELED:this.error_=em(),this.state_=e,this.notifyObservers_();break;case gm.ERROR:case gm.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case gm.PAUSING:this.transition_(gm.PAUSED);break;case gm.CANCELING:this.transition_(gm.CANCELED);break;case gm.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=vm(this.state_);return new dv(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==fm.STATE_CHANGED)throw"Expected one of the event types: ["+fm.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=wv(!0).validator,a=bv(null,!0).validator;function l(e){try{return void s(e)}catch(t){}try{if(a(e),!(_m(e.next)||_m(e.error)||_m(e.complete)))throw"";return}catch(t){throw o}}var u=[gv(i),bv(l,!0),wv(!0),wv(!0)];pv("on",u,arguments);var c=this;function h(e){return function(t,n,i){null!==e&&pv("on",e,arguments);var o=new hv(t,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(e){if(null===e)throw o;l(e)}var p=[bv(d),wv(!0),wv(!0)],f=!(_m(t)||_m(n)||_m(r));return f?h(p):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(vm(this.state_)){case mm.SUCCESS:Cv(this.resolve_.bind(null,this.snapshot))();break;case mm.CANCELED:case mm.ERROR:Cv(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(vm(this.state_)){case mm.RUNNING:case mm.PAUSED:e.next&&Cv(e.next.bind(e,this.snapshot))();break;case mm.SUCCESS:e.complete&&Cv(e.complete.bind(e))();break;case mm.CANCELED:case mm.ERROR:e.error&&Cv(e.error.bind(e,this.error_))();break;default:e.error&&Cv(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){pv("resume",[],arguments);var e=this.state_===gm.PAUSED||this.state_===gm.PAUSING;return e&&this.transition_(gm.RUNNING),e},e.prototype.pause=function(){pv("pause",[],arguments);var e=this.state_===gm.RUNNING;return e&&this.transition_(gm.PAUSING),e},e.prototype.cancel=function(){pv("cancel",[],arguments);var e=this.state_===gm.RUNNING||this.state_===gm.PAUSING;return e&&this.transition_(gm.CANCELING),e},e}(),Sv=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof Dm?t:Dm.makeFromUrl(t)}return e.prototype.toString=function(){return pv("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if(qm)return qm;var e=[];e.push(new Hm("bucket")),e.push(new Hm("generation")),e.push(new Hm("metageneration")),e.push(new Hm("name","fullPath",!0));var t=new Hm("name");t.xform=function(e,t){return function(e){return!Em(e)||e.length<2?e:Um(e)}(t)},e.push(t);var n=new Hm("size");return n.xform=function(e,t){return ym(t)?Number(t):t},e.push(n),e.push(new Hm("timeCreated")),e.push(new Hm("updated")),e.push(new Hm("md5Hash",null,!0)),e.push(new Hm("cacheControl",null,!0)),e.push(new Hm("contentDisposition",null,!0)),e.push(new Hm("contentEncoding",null,!0)),e.push(new Hm("contentLanguage",null,!0)),e.push(new Hm("contentType",null,!0)),e.push(new Hm("metadata","customMetadata",!0)),qm=e}()},e.prototype.child=function(e){pv("child",[gv()],arguments);var t=Mm(this.location.path,e),n=new Dm(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Dm(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new Dm(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Um(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),pv("put",[mv(),vv(!0)],arguments),this.throwIfRoot_("put"),new Ev(this,this.authWrapper,this.location,this.mappings(),new Pm(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=am.RAW),pv("putString",[gv(),gv(lm,!0),vv(!0)],arguments),this.throwIfRoot_("putString");var r=cm(t,e),i=Object.assign({},n);return!ym(i.contentType)&&ym(r.contentType)&&(i.contentType=r.contentType),new Ev(this,this.authWrapper,this.location,this.mappings(),new Pm(r.data,!0),i)},e.prototype.delete=function(){var e=this;return pv("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=av(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){pv("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(Of.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Of.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return n=o.sent(),(r=e.prefixes).push.apply(r,n.prefixes),(i=e.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(e,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){pv("list",[yv(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=iv(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return pv("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=rv(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return pv("updateMetadata",[vv()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=sv(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return pv("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=ov(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw nm();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new Yg(Xg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Tv=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Iv=function(){function e(){this.map=new Map,this.id=Gg}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),kv=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var s=this.app_.options;ym(s)&&(this.bucket_=e.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Qg,this.maxUploadRetryTime_=Kg,this.requestMap_=new Iv}return e.extractBucket_=function(e){var t=e[$g]||null;return null==t?null:Dm.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&ym(this.app_.INTERNAL)&&ym(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw im();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Tv(im());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),xv=function(){function e(e,t,n,r,i,o,s,a,l,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=e.callback_(s,s.getResponseText());_m(a)?i(a):i()}catch(l){o(l)}else null!==s?((r=Jg()).setServerResponseProp(s.getResponseText()),o(e.errorCallback_?e.errorCallback_(s,r):r)):o(r=n.canceled?e.appDelete_?im():em():new Yg(Xg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Nv(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var l=!1;function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout((function(){i=null,e(h,a())}),t)}function h(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];l||(e?u.call.apply(u,Object(Of.__spreadArrays)([null,e],n)):a()||o?u.call.apply(u,Object(Of.__spreadArrays)([null,e],n)):(r<64&&(r*=2),1===s?(s=2,t=0):t=1e3*(r+Math.random()),c(t)))}var d=!1;function p(e){d||(d=!0,l||(null!==i?(e||(s=2),clearTimeout(i),c(0)):e||(s=1)))}return c(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new Nv(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===xm.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var s=-1!==e.successCodes_.indexOf(o);t(!0,new Nv(s,n))}else{var a=n.getErrorCode()===xm.ABORT;t(!1,new Nv(!1,null,a))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Nv=function(){return function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}}();function Rv(e,t,n){var r=jm(e.urlParams),i=e.url+r,o=Object.assign({},e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(o,t),function(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Wg.a?Wg.a.SDK_VERSION:"AppManager")}(o),new xv(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var Av=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new kv(e,(function(e,t){return new Sv(e,t)}),Rv,this,t),this.app_=e,null!=n)this.bucket_=Dm.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Dm(r,""))}this.internals_=new Ov(this)}return e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(pv("ref",[gv(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Sv(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Dm.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return pv("refFromURL",[gv(t,!1)],arguments),new Sv(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){pv("setMaxUploadRetryTime",[_v()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){pv("setMaxOperationRetryTime",[_v()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Ov=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}();Wg.a.INTERNAL.registerService("storage",(function(e,t,n){return new Av(e,new Rm,n)}),{TaskState:mm,TaskEvent:fm,StringFormat:am,Storage:Av,Reference:Sv},void 0,!0);let Pv=class{},Dv=(()=>{class e{constructor(){}canActivate(){return!0}}return e.ngInjectableDef=ge({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Lv{}var Mv=wa(Ea,[Sa],(function(e){return function(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===Dt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Jn(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Lr(512,ln,un,[[8,[dp,xp,Lp,Vp,Bp,Xp,ag,gg]],[3,ln],We]),Lr(5120,Ki,Xo,[[3,Ki]]),Lr(4608,Ma,Ua,[Ki,[2,La]]),Lr(5120,xi,Zo,[po]),Lr(5120,Hi,qi,[]),Lr(5120,An,Go,[]),Lr(5120,On,Yo,[]),Lr(4608,nc,rc,[el]),Lr(6144,kt,null,[nc]),Lr(4608,Gu,Xu,[]),Lr(5120,vu,(function(e,t,n,r,i,o,s,a){return[new Qu(e,t,n),new tc(r),new Zu(i,o,s,a)]}),[el,po,Bi,el,el,Gu,Qi,[2,Yu]]),Lr(4608,yu,yu,[vu,po]),Lr(135680,wu,wu,[el]),Lr(4608,xu,xu,[yu,wu,Hi]),Lr(6144,gn,null,[xu]),Lr(6144,bu,null,[wu]),Lr(4608,bo,bo,[po]),Lr(5120,Sh,ip,[Ld]),Lr(4608,Bd,Bd,[]),Lr(6144,Wd,null,[Bd]),Lr(135680,$d,$d,[Ld,Lo,to,Mt,Wd]),Lr(4608,zd,zd,[]),Lr(5120,Qd,Jd,[Ld,rl,Kd]),Lr(5120,lp,ap,[op]),Lr(5120,$i,(function(e){return[e]}),[lp]),Lr(5120,pc,fc,[el,Hi]),Lr(4608,pp,pp,[]),Lr(4608,If,kf,[el,Bi,Sf]),Lr(4608,xf,xf,[If,Tf]),Lr(5120,yf,(function(e){return[e]}),[xf]),Lr(4608,Cf,Cf,[]),Lr(6144,wf,null,[Cf]),Lr(4608,Ef,Ef,[wf]),Lr(6144,ef,null,[Ef]),Lr(4608,Jp,Nf,[ef,Mt]),Lr(4608,mf,mf,[Jp]),Lr(4608,jg,jg,[Qf,[2,Kf],[2,qf],Bi,po]),Lr(4608,Hg,Hg,[Qf,[2,Kf],Bi,po]),Lr(4608,Jf,Jf,[Qf,[2,Kf],[2,Zf],Bi,po]),Lr(5120,Gf,Yf,[Qf,po,[2,Kf]]),Lr(1073742336,Ja,Ja,[]),Lr(1024,tt,hc,[]),Lr(1024,xo,(function(){return[Xd()]}),[]),Lr(512,op,op,[Mt]),Lr(1024,ji,(function(e,t){return[(n=e,fu("probe",mu),fu("coreTokens",Object.assign({},gu,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>mu),sp(t)];var n}),[[2,xo],op]),Lr(512,Vi,Vi,[[2,ji]]),Lr(131584,Po,Po,[po,Qi,Mt,tt,ln,Vi]),Lr(1073742336,Jo,Jo,[Po]),Lr(1073742336,dc,dc,[[3,dc]]),Lr(1024,Gd,tp,[[3,Ld]]),Lr(512,nh,rh,[]),Lr(512,Vd,Vd,[]),Lr(256,Kd,{},[]),Lr(1024,ka,ep,[Ta,[2,xa],Kd]),Lr(512,Na,Na,[ka,Ta]),Lr(512,to,to,[]),Lr(512,Lo,Vo,[to,[2,Fo]]),Lr(1024,xd,(function(){return[[{path:"",component:Sp,pathMatch:"full"},{path:"gallery",component:Np},{path:"bio",component:Mp},{path:"contact",component:Hp},{path:"version",component:$p},{path:"administration",canActivate:[Dv],component:Zp},{path:"**",redirectTo:""}]]}),[]),Lr(1024,Ld,rp,[Po,nh,Vd,Na,Mt,Lo,to,xd,Kd,[2,Rd],[2,Id]]),Lr(1073742336,Zd,Zd,[[2,Gd],[2,Ld]]),Lr(1073742336,Lv,Lv,[]),Lr(1073742336,gc,gc,[]),Lr(1073742336,mp,mp,[]),Lr(1073742336,Rf,Rf,[]),Lr(1073742336,Af,Af,[]),Lr(1073742336,Vg,Vg,[]),Lr(1073742336,zg,zg,[]),Lr(1073742336,Pv,Pv,[]),Lr(1073742336,Xf,Xf,[]),Lr(1073742336,Ea,Ea,[]),Lr(256,Dt,!0,[]),Lr(256,Sf,"XSRF-TOKEN",[]),Lr(256,Tf,"X-XSRF-TOKEN",[]),Lr(256,Qf,{apiKey:"AIzaSyCgUEIHqxkwQ1il88IpJnCJzN5RoJUd_7Q",authDomain:"mike-cuff-portfolio.firebaseapp.com",databaseURL:"https://mike-cuff-portfolio.firebaseio.com",projectId:"mike-cuff-portfolio",storageBucket:"mike-cuff-portfolio.appspot.com",messagingSenderId:"337222460170",appId:"1:337222460170:web:d64c23369c5352fd8350f3",measurementId:"G-YVM4M2Z64M"},[]),Lr(256,Kf,void 0,[])])}));(function(){if(rt)throw new Error("Cannot enable prod mode after platform setup.");nt=!1})(),cc().bootstrapModuleFactory(Mv).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(t,e),t}(Error),g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new f(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},e}();function m(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=g,t.FirebaseError=f,t.Sha1=b,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=l,t.base64Decode=u,t.base64Encode=function(e){var t=a(e);return l.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=E,t.getUA=d,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);